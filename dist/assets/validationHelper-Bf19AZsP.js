var e={};function r(){return{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`,"X-Client-Version":e.VITE_APP_VERSION||"1.0.0"}}function t(e,r,a,s){if((null==r||""===r)&&"required"!==e)return!0;switch(e){case"required":return null!=r&&""!==r;case"min_value":return Number(r)>=Number((null==a?void 0:a.value)||0);case"max_value":return Number(r)<=Number((null==a?void 0:a.value)||0);case"min_length":return String(r).length>=Number((null==a?void 0:a.length)||0);case"max_length":return String(r).length<=Number((null==a?void 0:a.length)||0);case"regex":try{return new RegExp((null==a?void 0:a.pattern)||"").test(String(r))}catch(l){return!1}case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(r));case"phone":return/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,3}[-\s.]?[0-9]{4,7}$/.test(String(r));case"compare_fields":if(!s||!(null==a?void 0:a.targetField))return!0;const e=s[a.targetField];switch((null==a?void 0:a.operator)||"=="){case"==":return r==e;case"!=":return r!=e;case">":return r>e;case"<":return r<e;case">=":return r>=e;case"<=":return r<=e;default:return!0}case"conditional":if(!(null==a?void 0:a.condition)||!s)return!0;const c=function(e,r){if(!e.trim())return!1;try{return e.split(/\|\|/).map(e=>e.trim()).filter(Boolean).some(e=>e.split(/&&/).map(e=>e.trim()).filter(Boolean).every(e=>function(e,r){const t=/^(?<path>[a-zA-Z0-9_.]+)\s*(?<operator>===|!==|>=|<=|==|!=|>|<)\s*(?<expected>.+)$/,a=e.match(t);if(!a||!a.groups){const t=i(r,e);return Boolean(t)}const{path:s,operator:l,expected:c}=a.groups,o=i(r,s),f=function(e,r){const t=e.trim();if(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if("true"===t)return!0;if("false"===t)return!1;if("null"===t)return null;if("undefined"===t)return;if(/^-?\d+(\.\d+)?$/.test(t))return Number(t);return i(r,t)}(c,r);switch(l){case"===":return o===f;case"!==":return o!==f;case"==":return n(o,f);case"!=":return!n(o,f);case">":case">=":case"<":case"<=":return function(e,r,t){const n=u(e),i=u(r);if(null===n||null===i)return!1;switch(t){case">":return n>i;case">=":return n>=i;case"<":return n<i;case"<=":return n<=i;default:return!1}}(o,f,l);default:return!1}}(e,r)))}catch(l){return!1}}(a.condition,s);return!c||t(a.validation,r,a.validationParams,s);default:return!0}}function n(e,r){if(e===r)return!0;const t=u(e),n=u(r);return null!==t&&null!==n?t===n:String(e)===String(r)}function u(e){if(e instanceof Date)return e.getTime();if("number"==typeof e)return Number.isFinite(e)?e:null;if("string"==typeof e){const r=Number(e);if(!Number.isNaN(r))return r;const t=Date.parse(e);if(!Number.isNaN(t))return t}return null}function i(e,r){return r.split(".").reduce((e,r)=>{if(e&&"object"==typeof e&&r in e)return e[r]},e)}export{t as a,r as g};
