import{j as e}from"./index-C0S0DpaX.js";import{r as s,u as r}from"./react-vendor-Al_k-ZB6.js";import{u as i}from"./useAuthenticatedApi-BbQI8SDU.js";import{F as t,a as n,T as o,b as m,I as c,R as a,c as l,d as u,B as d,e as p,s as N}from"./antd-vendor-zFcGztvE.js";const{Title:h,Text:D}=o;function g(){const[o,g]=s.useState(!1),[v]=t.useForm(),x=r(),{api:b}=i();return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxDEV(n,{className:"w-full max-w-md shadow-lg",children:[e.jsxDEV("div",{className:"text-center mb-6",children:[e.jsxDEV(h,{level:2,children:"Inscription libre"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:44,columnNumber:11},this),e.jsxDEV(D,{className:"text-gray-600",children:"Créez votre compte. Une organisation pourra ensuite vous inviter."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:43,columnNumber:9},this),e.jsxDEV(m,{message:"Information importante",description:"Après inscription, vous devrez attendre qu'une organisation vous invite pour accéder au CRM.",type:"info",showIcon:!0,className:"mb-6"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:50,columnNumber:9},this),e.jsxDEV(t,{form:v,layout:"vertical",onFinish:async e=>{g(!0);try{const s=await b.post("/register",e);if(!1===s.success)throw new Error(s.error||"Erreur lors de l'inscription");N.success("Inscription réussie ! Vous pouvez maintenant vous connecter."),x("/login")}catch(s){const e=s instanceof Error?s.message:"Erreur lors de l'inscription";N.error(e)}finally{g(!1)}},autoComplete:"off",children:[e.jsxDEV(t.Item,{label:"Prénom",name:"firstName",rules:[{required:!0,message:"Le prénom est requis"}],children:e.jsxDEV(c,{prefix:e.jsxDEV(a,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:70,columnNumber:23},this),placeholder:"Votre prénom"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:69,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:64,columnNumber:11},this),e.jsxDEV(t.Item,{label:"Nom",name:"lastName",rules:[{required:!0,message:"Le nom est requis"}],children:e.jsxDEV(c,{prefix:e.jsxDEV(a,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:81,columnNumber:23},this),placeholder:"Votre nom"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:80,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(t.Item,{label:"Email",name:"email",rules:[{required:!0,message:"L'email est requis"},{type:"email",message:"Format d'email invalide"}],children:e.jsxDEV(c,{prefix:e.jsxDEV(l,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:95,columnNumber:23},this),placeholder:"votre.email@exemple.com"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:94,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:86,columnNumber:11},this),e.jsxDEV(t.Item,{label:"Mot de passe",name:"password",rules:[{required:!0,message:"Le mot de passe est requis"},{min:8,message:"Le mot de passe doit contenir au moins 8 caractères"}],children:e.jsxDEV(c.Password,{prefix:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:109,columnNumber:23},this),placeholder:"Votre mot de passe"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(t.Item,{children:e.jsxDEV(d,{type:"primary",htmlType:"submit",loading:o,block:!0,size:"large",children:"S'inscrire"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:115,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:e.jsxDEV(d,{type:"link",icon:e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:129,columnNumber:21},this),onClick:()=>x("/login"),children:"Retour à la connexion"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:126,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:58,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:42,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/RegisterPage.tsx",lineNumber:41,columnNumber:5},this)}export{g as default};
