import{j as e,u as i}from"./index-C0S0DpaX.js";import{r as s}from"./react-vendor-Al_k-ZB6.js";import{F as n,i as r}from"./charts-vendor-BhQc8HjP.js";import{l,i as a,a as t,b as d}from"./fr-hmX_khpX.js";import{F as o,s as u,a as m,T as c,bl as g,$ as p,B as h,bm as D,aF as A,a0 as v,I as N,af as b,ag as C,b1 as M,aM as E,an as x,aX as V,b as f}from"./antd-vendor-zFcGztvE.js";import{u as k}from"./useAuthenticatedApi-BbQI8SDU.js";import"./data-vendor-wH_FeJEU.js";const{Title:S}=c,{TextArea:j}=N,{Option:R}=x,{RangePicker:O}=M;function P(){const[i,M]=s.useState([]),[f,P]=s.useState([]),[U,y]=s.useState(!1),[I,w]=s.useState(!1),[L,T]=s.useState(!1),[F,G]=s.useState(null),[q]=o.useForm(),$=s.useRef(null),[z,W]=s.useState([]),[Y,B]=s.useState([]),[H,J]=s.useState([]),[X,_]=s.useState([]),{api:K}=k(),Q=s.useCallback(()=>{var e;return null==(e=$.current)?void 0:e.getApi()},[]),Z=s.useCallback(async e=>{try{y(!0);const i=e||Q();if(!i)return;const s=i.view,n=s.activeStart.toISOString(),r=s.activeEnd.toISOString(),l=await K.get(`/api/calendar/events?startDate=${n}&endDate=${r}`);M(l)}catch(i){u.error("Erreur lors du chargement des √©v√©nements")}finally{y(!1)}},[K,Q]);s.useEffect(()=>{},[Z]),s.useEffect(()=>{(async()=>{try{try{const e=await K.get("/api/clients"),i=e.data||e||[];W(Array.isArray(i)?i:[])}catch{W([])}try{const e=await K.get("/api/leads"),i=e.data||e||[];B(Array.isArray(i)?i:[])}catch{B([])}try{const e=await K.get("/api/projects"),i=e.data||e||[];J(Array.isArray(i)?i:[])}catch{J([])}try{const e=await K.get("/api/emails?limit=100"),i=e.data||e||[];_(Array.isArray(i)?i:[])}catch{_([])}}catch(e){W([]),B([]),J([]),_([])}})()},[K]);const ee=i.map(e=>({id:e.id,title:e.title,start:e.startDate,end:e.endDate,allDay:e.allDay,backgroundColor:"#10b981",borderColor:"#059669",extendedProps:{...e}})),ie=e=>{G(null),q.setFieldsValue({dateRange:[V(e.start),V(e.end)],allDay:e.allDay,type:"rendez-vous",status:"confirm√©",createMeetLink:!0}),T(!0)};return e.jsxDEV("div",{className:"agenda-page p-6",children:[e.jsxDEV(m,{children:[e.jsxDEV("div",{className:"agenda-header flex justify-between items-center mb-4",children:[e.jsxDEV(S,{level:2,children:[e.jsxDEV(g,{style:{color:"#3b82f6"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:298,columnNumber:13},this)," Agenda"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:297,columnNumber:11},this),e.jsxDEV(p,{children:[e.jsxDEV(h,{icon:e.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:303,columnNumber:21},this),onClick:async()=>{const e=Q();if(e)try{w(!0),u.info("Synchronisation avec Google Calendar en cours...");const i=e.view,s=i.activeStart.toISOString(),n=i.activeEnd.toISOString();await K.post("/api/calendar/sync",{startDate:s,endDate:n}),u.success("Synchronisation avec Google Calendar termin√©e avec succ√®s !"),Z(e)}catch(i){u.error("Une erreur est survenue lors de la synchronisation.")}finally{w(!1)}else u.error("Le calendrier n'est pas pr√™t.")},loading:I,children:"Synchroniser avec Google"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:302,columnNumber:13},this),e.jsxDEV(h,{type:"primary",icon:e.jsxDEV(A,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:312,columnNumber:21},this),onClick:()=>ie({start:new Date,end:new Date(Date.now()+36e5),allDay:!1}),children:"Nouvel √©v√©nement"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:301,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:296,columnNumber:9},this),e.jsxDEV("div",{className:"agenda-calendar",children:e.jsxDEV(n,{ref:$,plugins:[r,a,t,d],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",locale:l,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,height:"auto",events:ee,select:ie,eventClick:e=>{const i=e.event.extendedProps;i&&(G(i),q.setFieldsValue({title:i.title,description:i.description,notes:i.notes,dateRange:[i.startDate?V(i.startDate):null,i.endDate?V(i.endDate):null],allDay:i.allDay,type:i.type||"rendez-vous",status:i.status||"confirm√©",location:i.location,createMeetLink:!1,linkedClientId:i.linkedClientId,linkedLeadId:i.linkedLeadId,linkedProjectId:i.linkedProjectId,linkedEmailId:i.linkedEmailId}),T(!0))},loading:y,datesSet:e=>Z(e.view.calendar),eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:321,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:320,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:295,columnNumber:7},this),e.jsxDEV(v,{title:F?"Modifier l'√©v√©nement":"Nouvel √©v√©nement",open:L,onCancel:()=>{T(!1),G(null),q.resetFields()},footer:null,width:600,children:e.jsxDEV(o,{form:q,layout:"vertical",onFinish:async e=>{try{const[i,s]=e.dateRange,n={title:e.title,description:e.description,notes:e.notes,startDate:i.toISOString(),endDate:s.toISOString(),allDay:e.allDay||!1,type:e.type||"event",status:e.status||"confirm√©",location:e.location,createMeetLink:e.createMeetLink||!1,linkedClientId:e.linkedClientId||null,linkedLeadId:e.linkedLeadId||null,linkedProjectId:e.linkedProjectId||null,linkedEmailId:e.linkedEmailId||null};F?(await K.put(`/api/calendar/events/${F.id}`,n),u.success("√âv√©nement modifi√© avec succ√®s")):(await K.post("/api/calendar/events",n),u.success("√âv√©nement cr√©√© avec succ√®s")),T(!1),G(null),q.resetFields(),Z()}catch(i){u.error("Erreur lors de la sauvegarde")}},initialValues:{type:"rendez-vous",status:"confirm√©",createMeetLink:!0},children:[e.jsxDEV(o.Item,{name:"title",label:"Titre",rules:[{required:!0,message:"Le titre est obligatoire"}],children:e.jsxDEV(N,{placeholder:"Titre de l'√©v√©nement"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:369,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:368,columnNumber:11},this),e.jsxDEV(o.Item,{name:"description",label:"Description publique",children:e.jsxDEV(j,{rows:2,placeholder:"Description visible par tous les participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:373,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:372,columnNumber:11},this),e.jsxDEV(o.Item,{name:"notes",label:"Notes priv√©es",children:e.jsxDEV(j,{rows:2,placeholder:"Notes personnelles (visibles uniquement par vous)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:377,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:376,columnNumber:11},this),e.jsxDEV(b,{gutter:16,children:[e.jsxDEV(C,{span:18,children:e.jsxDEV(o.Item,{name:"dateRange",label:"Date et heure",rules:[{required:!0,message:"La date est obligatoire"}],children:e.jsxDEV(O,{showTime:!0,format:"DD/MM/YYYY HH:mm",placeholder:["D√©but","Fin"],style:{width:"100%"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:383,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:382,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:381,columnNumber:13},this),e.jsxDEV(C,{span:6,children:e.jsxDEV(o.Item,{name:"allDay",label:"Journ√©e",valuePropName:"checked",children:e.jsxDEV(E,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:388,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:387,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:380,columnNumber:11},this),e.jsxDEV("div",{style:{background:"#f6f8fa",padding:"16px",borderRadius:"6px",marginBottom:"16px"},children:[e.jsxDEV(c.Text,{strong:!0,style:{color:"#1890ff",marginBottom:"12px",display:"block"},children:"üîó Liaisons CRM"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:395,columnNumber:13},this),e.jsxDEV(b,{gutter:16,children:[e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"linkedClientId",label:"Client",children:e.jsxDEV(x,{placeholder:"S√©lectionner un client...",allowClear:!0,showSearch:!0,children:(z&&Array.isArray(z)?z:[]).map(i=>e.jsxDEV(R,{value:i.id,children:i.name||`${i.firstName} ${i.lastName}`},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:404,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:402,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:401,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:400,columnNumber:15},this),e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"linkedLeadId",label:"Lead/Prospect",children:e.jsxDEV(x,{placeholder:"S√©lectionner un prospect...",allowClear:!0,showSearch:!0,children:(Y&&Array.isArray(Y)?Y:[]).map(i=>e.jsxDEV(R,{value:i.id,children:[i.firstName," ",i.lastName," - ",i.email]},i.id,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:415,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:413,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:412,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:411,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:399,columnNumber:13},this),e.jsxDEV(b,{gutter:16,children:[e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"linkedProjectId",label:"Projet",children:e.jsxDEV(x,{placeholder:"S√©lectionner un projet...",allowClear:!0,showSearch:!0,children:(H&&Array.isArray(H)?H:[]).map(i=>e.jsxDEV(R,{value:i.id,children:[i.name," - ",i.clientName]},i.id,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:429,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:427,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:426,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:425,columnNumber:15},this),e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"linkedEmailId",label:"Email li√©",children:e.jsxDEV(x,{placeholder:"Lier √† un email...",allowClear:!0,showSearch:!0,children:(X&&Array.isArray(X)?X:[]).map(i=>{var s;return e.jsxDEV(R,{value:i.id,children:[null==(s=i.subject)?void 0:s.substring(0,50),"... - ",i.from]},i.id,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:440,columnNumber:23},this)})},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:438,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:437,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:436,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:424,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:394,columnNumber:11},this),e.jsxDEV(o.Item,{name:"location",label:"Lieu / Localisation",children:e.jsxDEV(N,{placeholder:"Adresse, bureau, lien de visioconf√©rence..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:451,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:450,columnNumber:11},this),e.jsxDEV(b,{gutter:16,children:[e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"type",label:"Type d'√©v√©nement",rules:[{required:!0,message:"Le type est obligatoire"}],children:e.jsxDEV(x,{placeholder:"S√©lectionner un type",children:[e.jsxDEV(R,{value:"rendez-vous",children:"ü§ù Rendez-vous client"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:458,columnNumber:19},this),e.jsxDEV(R,{value:"reunion",children:"üë• R√©union √©quipe"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:459,columnNumber:19},this),e.jsxDEV(R,{value:"demo",children:"üíª D√©monstration produit"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:460,columnNumber:19},this),e.jsxDEV(R,{value:"formation",children:"üìö Formation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:461,columnNumber:19},this),e.jsxDEV(R,{value:"prospection",children:"üìû Appel prospection"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:462,columnNumber:19},this),e.jsxDEV(R,{value:"suivi",children:"üìã Suivi projet"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:463,columnNumber:19},this),e.jsxDEV(R,{value:"livraison",children:"üöö Livraison/installation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:464,columnNumber:19},this),e.jsxDEV(R,{value:"maintenance",children:"üîß Maintenance"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:465,columnNumber:19},this),e.jsxDEV(R,{value:"personnel",children:"üë§ √âv√©nement personnel"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:466,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:457,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:456,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:455,columnNumber:13},this),e.jsxDEV(C,{span:12,children:e.jsxDEV(o.Item,{name:"status",label:"Statut",children:e.jsxDEV(x,{placeholder:"Statut de l'√©v√©nement",children:[e.jsxDEV(R,{value:"confirm√©",children:"‚úÖ Confirm√©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:473,columnNumber:19},this),e.jsxDEV(R,{value:"en attente",children:"‚è≥ En attente confirmation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:474,columnNumber:19},this),e.jsxDEV(R,{value:"tentative",children:"‚ùì Tentative"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:475,columnNumber:19},this),e.jsxDEV(R,{value:"annul√©",children:"‚ùå Annul√©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:476,columnNumber:19},this),e.jsxDEV(R,{value:"reporte",children:"üìÖ Report√©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:477,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:472,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:471,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:470,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:454,columnNumber:11},this),e.jsxDEV(o.Item,{name:"createMeetLink",label:"üé• Ajouter un lien de visioconf√©rence Google Meet",valuePropName:"checked",children:e.jsxDEV(E,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:484,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:483,columnNumber:11},this),(null==F?void 0:F.meetingLink)&&e.jsxDEV(o.Item,{label:"Lien Google Meet",children:e.jsxDEV("a",{href:F.meetingLink,target:"_blank",rel:"noopener noreferrer",children:F.meetingLink},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:489,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:488,columnNumber:13},this),e.jsxDEV(o.Item,{children:e.jsxDEV(p,{children:[e.jsxDEV(h,{type:"primary",htmlType:"submit",children:F?"Enregistrer les modifications":"Cr√©er l'√©v√©nement"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:495,columnNumber:15},this),F&&e.jsxDEV(h,{danger:!0,onClick:()=>v.confirm({title:"Supprimer l'√©v√©nement",content:"√ätes-vous s√ªr de vouloir supprimer cet √©v√©nement ? Cette action est irr√©versible.",okText:"Supprimer",cancelText:"Annuler",onOk:()=>(async e=>{try{await K.delete(`/api/calendar/events/${e}`),u.success("√âv√©nement supprim√© avec succ√®s"),T(!1),Z()}catch(i){u.error("Erreur lors de la suppression")}})(F.id)}),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:499,columnNumber:17},this),e.jsxDEV(h,{onClick:()=>T(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:509,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:494,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:493,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:362,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:351,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/plugins/ModuleAgenda/AgendaPage.tsx",lineNumber:294,columnNumber:5},this)}const U=()=>{const{user:s,modules:n}=i();if(!s)return e.jsxDEV(f,{message:"Acc√®s refus√©",description:"Vous devez √™tre connect√© pour acc√©der √† l'agenda.",type:"error",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/AgendaWrapper.tsx",lineNumber:12,columnNumber:7},void 0);return(null==n?void 0:n.some(e=>{if(!e)return!1;if(!("agenda"===e.feature))return!1;const i=e.isActiveInOrg||!1;return(e.active||!1)&&i}))?e.jsxDEV(P,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/AgendaWrapper.tsx",lineNumber:48,columnNumber:10},void 0):e.jsxDEV(f,{message:"Module non activ√©",description:"Le module Agenda CRM n'est pas activ√© pour votre organisation.",type:"warning",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/AgendaWrapper.tsx",lineNumber:39,columnNumber:7},void 0)};export{U as default};
