import{j as e}from"./index-C0S0DpaX.js";import{r as s}from"./react-vendor-Al_k-ZB6.js";import{u as t}from"./useAuthenticatedApi-BbQI8SDU.js";import"./antd-vendor-zFcGztvE.js";function i({onSwitchToLogin:i}){const[r,n]=s.useState({firstName:"",lastName:"",email:"",password:""}),[o,l]=s.useState(null),[m,a]=s.useState(null),[c,u]=s.useState(!1),[p,d]=s.useState(!1),{post:N}=t(),b=e=>{const{name:s,value:t}=e.target;n(e=>({...e,[s]:t}))};return e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),l(null),a(null),r.email&&r.password&&r.firstName&&r.lastName){u(!0);try{await N("/register",r),a("Inscription réussie ! Vous pouvez maintenant vous connecter."),setTimeout(()=>{i&&i()},2e3)}catch(s){l(s.message||"Une erreur est survenue lors de l'inscription.")}finally{u(!1)}}else l("Veuillez remplir tous les champs.")},className:"max-w-md mx-auto p-6 bg-white rounded shadow",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"Créer un compte"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:56,columnNumber:7},this),e.jsxDEV("input",{type:"text",name:"firstName",placeholder:"Prénom",value:r.firstName,onChange:b,className:"w-full mb-2 p-2 border rounded",required:!0,disabled:c},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV("input",{type:"text",name:"lastName",placeholder:"Nom",value:r.lastName,onChange:b,className:"w-full mb-2 p-2 border rounded",required:!0,disabled:c},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:68,columnNumber:7},this),e.jsxDEV("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:b,className:"w-full mb-2 p-2 border rounded",required:!0,disabled:c},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:78,columnNumber:7},this),e.jsxDEV("div",{className:"relative mb-2",children:[e.jsxDEV("input",{type:p?"text":"password",name:"password",placeholder:"Mot de passe",value:r.password,onChange:b,className:"w-full p-2 border rounded pr-10",required:!0,disabled:c},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:89,columnNumber:9},this),e.jsxDEV("button",{type:"button",tabIndex:-1,className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",onClick:()=>d(e=>!e),disabled:c,children:p?"Masquer":"Afficher"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:88,columnNumber:7},this),o&&e.jsxDEV("div",{className:"text-red-500 mb-2",children:o},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:110,columnNumber:17},this),m&&e.jsxDEV("div",{className:"text-green-500 mb-2",children:m},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:111,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between mt-4",children:e.jsxDEV("button",{type:"submit",className:"w-full px-4 py-2 bg-green-600 text-white rounded",disabled:c,children:c?"Inscription en cours...":"S'inscrire"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:113,columnNumber:7},this),e.jsxDEV("div",{className:"mt-4 text-center",children:e.jsxDEV("button",{type:"button",className:"text-blue-600 underline text-sm",onClick:i,disabled:c,children:"Déjà un compte ? Se connecter"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:120,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:119,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/InscriptionMultiEtapes.tsx",lineNumber:55,columnNumber:5},this)}export{i as default};
