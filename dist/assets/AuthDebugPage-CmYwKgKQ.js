import{u as e,j as i}from"./index-C0S0DpaX.js";import{u as r}from"./useAuthenticatedApi-BbQI8SDU.js";import{a as s,aJ as t,ab as m,b as n,B as a}from"./antd-vendor-zFcGztvE.js";import"./react-vendor-Al_k-ZB6.js";const u=()=>{const{user:u,organizations:l,currentOrganization:o,permissions:d,modules:c,loading:D,isSuperAdmin:g,userRole:b}=e(),{api:h}=r();return D?i.jsxDEV("div",{style:{padding:24},children:"Chargement de l'authentification..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:35,columnNumber:12},void 0):i.jsxDEV("div",{style:{padding:24},children:[i.jsxDEV("h1",{children:"üîç Debug - √âtat d'authentification"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:40,columnNumber:7},void 0),i.jsxDEV(s,{title:"üë§ Utilisateur connect√©",style:{marginBottom:16},children:u?i.jsxDEV(t,{bordered:!0,column:1,children:[i.jsxDEV(t.Item,{label:"Email",children:u.email},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:46,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"Nom",children:[u.firstName," ",u.lastName]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:47,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"ID",children:u.id},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:48,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"Super Admin",children:i.jsxDEV(m,{color:g?"red":"default",children:g?"OUI":"NON"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:50,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:49,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"R√¥le",children:i.jsxDEV(m,{color:"blue",children:b||"Aucun"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:55,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:54,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:45,columnNumber:11},void 0):i.jsxDEV(n,{message:"Aucun utilisateur connect√©",type:"error"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:59,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:43,columnNumber:7},void 0),i.jsxDEV(s,{title:"üè¢ Organisation courante",style:{marginBottom:16},children:o?i.jsxDEV(t,{bordered:!0,column:1,children:[i.jsxDEV(t.Item,{label:"Nom",children:o.name},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:67,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"ID",children:o.id},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:68,columnNumber:13},void 0),i.jsxDEV(t.Item,{label:"Statut",children:i.jsxDEV(m,{color:"green",children:o.status},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:70,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:69,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:66,columnNumber:11},void 0):i.jsxDEV(n,{message:"Aucune organisation s√©lectionn√©e",type:"warning"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:74,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:64,columnNumber:7},void 0),i.jsxDEV(s,{title:"üè¢ Organisations disponibles",style:{marginBottom:16},children:[i.jsxDEV("p",{children:[i.jsxDEV("strong",{children:"Total:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:80,columnNumber:12},void 0)," ",l.length]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:80,columnNumber:9},void 0),l.map(e=>i.jsxDEV(m,{color:e.id===(null==o?void 0:o.id)?"blue":"default",children:e.name},e.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:82,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:79,columnNumber:7},void 0),i.jsxDEV(s,{title:"üîê Permissions",style:{marginBottom:16},children:[i.jsxDEV("p",{children:[i.jsxDEV("strong",{children:"Total:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:90,columnNumber:12},void 0)," ",d.length]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:90,columnNumber:9},void 0),i.jsxDEV("div",{style:{maxHeight:200,overflow:"auto"},children:d.map(e=>i.jsxDEV(m,{style:{margin:2},children:e},e,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:93,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:91,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:89,columnNumber:7},void 0),i.jsxDEV(s,{title:"üì¶ Modules",style:{marginBottom:16},children:[i.jsxDEV("p",{children:[i.jsxDEV("strong",{children:"Total:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:100,columnNumber:12},void 0)," ",c.length]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:100,columnNumber:9},void 0),i.jsxDEV("div",{style:{maxHeight:200,overflow:"auto"},children:c.map(e=>i.jsxDEV(m,{color:e.isActive?"green":"default",style:{margin:2},children:e.name},e.key,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:103,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:99,columnNumber:7},void 0),i.jsxDEV(s,{title:"üß™ Tests API",children:i.jsxDEV("div",{style:{display:"flex",gap:16},children:[i.jsxDEV(a,{type:"primary",onClick:async()=>{var e;try{const i=await h.get("/api/auth/me");alert(`Auth Test r√©ussi! Utilisateur: ${(null==(e=null==i?void 0:i.currentUser)?void 0:e.email)||"Unknown"}`)}catch(i){alert(`Erreur Auth: ${i}`)}},children:"Tester /auth/me"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:113,columnNumber:11},void 0),i.jsxDEV(a,{onClick:async()=>{var e;try{const i=await h.get("/api/users");alert(`API Test r√©ussi! ${Array.isArray(i)?i.length:(null==(e=null==i?void 0:i.data)?void 0:e.length)||0} utilisateurs trouv√©s.`)}catch(i){alert(`Erreur API: ${i}`)}},children:"Tester /users"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:112,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:111,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/AuthDebugPage.tsx",lineNumber:39,columnNumber:5},void 0)};export{u as default};
