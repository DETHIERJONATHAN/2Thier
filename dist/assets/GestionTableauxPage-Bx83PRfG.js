import{j as e}from"./index-C0S0DpaX.js";import{r as i}from"./react-vendor-Al_k-ZB6.js";import{F as s,$ as r,B as a,ax as t,aF as o,a as l,I as n,h as m,an as u,aG as c,be as d,a0 as b,bk as v,s as x,ab as p,W as N,a7 as D,aH as g,b3 as h,bo as C,b5 as E}from"./antd-vendor-zFcGztvE.js";const V=()=>{const[V,f]=i.useState([]),[A,T]=i.useState(!1),[S,k]=i.useState(""),[O,j]=i.useState("all"),[P,G]=i.useState(!1),[R,M]=i.useState(null),[U]=s.useForm(),y=[{id:"1",name:"Tableau Orientation Solaire",description:"Coefficients de rendement selon l'orientation et l'inclinaison des panneaux solaires",rows:17,columns:7,category:"energie",createdAt:"2025-08-15T10:00:00Z",updatedAt:"2025-08-20T14:30:00Z",isActive:!0},{id:"2",name:"Tarifs Électricité",description:"Grille tarifaire par fournisseur et type de contrat",rows:25,columns:6,category:"tarification",createdAt:"2025-08-10T09:15:00Z",updatedAt:"2025-08-18T16:45:00Z",isActive:!0},{id:"3",name:"Coefficients Thermiques",description:"Valeurs d'isolation par matériau et épaisseur",rows:12,columns:4,category:"thermique",createdAt:"2025-07-28T13:20:00Z",updatedAt:"2025-08-12T11:10:00Z",isActive:!1}];i.useEffect(()=>{f(y)},[]);const w=[{value:"all",label:"Toutes les catégories"},{value:"energie",label:"Énergie"},{value:"tarification",label:"Tarification"},{value:"thermique",label:"Thermique"},{value:"photovoltaique",label:"Photovoltaïque"},{value:"pompe_chaleur",label:"Pompe à chaleur"}],q=V.filter(e=>{var i;const s=e.name.toLowerCase().includes(S.toLowerCase())||(null==(i=e.description)?void 0:i.toLowerCase().includes(S.toLowerCase())),r="all"===O||e.category===O;return s&&r}),I=[{title:"Nom du tableau",dataIndex:"name",key:"name",render:(i,s)=>e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:i},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:91,columnNumber:11},void 0),s.description&&e.jsxDEV("div",{className:"text-gray-500 text-sm",children:s.description},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:90,columnNumber:9},void 0)},{title:"Dimensions",key:"dimensions",render:(i,s)=>e.jsxDEV(r,{children:e.jsxDEV(p,{icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:103,columnNumber:22},void 0),children:[s.rows," × ",s.columns]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:103,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:102,columnNumber:9},void 0)},{title:"Catégorie",dataIndex:"category",key:"category",render:i=>{const s={energie:{color:"green",label:"Énergie"},tarification:{color:"blue",label:"Tarification"},thermique:{color:"orange",label:"Thermique"},photovoltaique:{color:"gold",label:"Photovoltaïque"},pompe_chaleur:{color:"cyan",label:"Pompe à chaleur"}}[i]||{color:"default",label:i};return e.jsxDEV(p,{color:s.color,children:s.label},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:122,columnNumber:16},void 0)}},{title:"Statut",dataIndex:"isActive",key:"isActive",render:i=>e.jsxDEV(p,{color:i?"success":"default",children:i?"Actif":"Inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:130,columnNumber:9},void 0)},{title:"Dernière MAJ",dataIndex:"updatedAt",key:"updatedAt",render:e=>new Date(e).toLocaleDateString("fr-FR")},{title:"Actions",key:"actions",render:(i,s)=>e.jsxDEV(r,{size:"small",children:[e.jsxDEV(D,{title:"Voir le contenu",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(g,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:149,columnNumber:21},void 0),onClick:()=>L(s)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:147,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:146,columnNumber:11},void 0),e.jsxDEV(D,{title:"Modifier",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:156,columnNumber:21},void 0),onClick:()=>F(s)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:153,columnNumber:11},void 0),e.jsxDEV(D,{title:"Exporter",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(C,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:163,columnNumber:21},void 0),onClick:()=>$(s)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:161,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:160,columnNumber:11},void 0),e.jsxDEV(D,{title:"Supprimer",children:e.jsxDEV(a,{type:"text",danger:!0,icon:e.jsxDEV(E,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:171,columnNumber:21},void 0),onClick:()=>Z(s)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:167,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:145,columnNumber:9},void 0)}],F=e=>{M(e),U.setFieldsValue(e),G(!0)},L=e=>{x.info(`Affichage du tableau "${e.name}" - Fonctionnalité à implémenter`)},$=e=>{x.success(`Export du tableau "${e.name}" en cours...`)},Z=e=>{b.confirm({title:"Supprimer le tableau",content:`Êtes-vous sûr de vouloir supprimer le tableau "${e.name}" ?`,okText:"Supprimer",cancelText:"Annuler",okType:"danger",onOk:()=>{f(i=>i.filter(i=>i.id!==e.id)),x.success("Tableau supprimé avec succès")}})};return e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Tableaux"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:249,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Gérez vos tableaux de données et coefficients techniques"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:250,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:248,columnNumber:9},void 0),e.jsxDEV(r,{children:[e.jsxDEV(a,{icon:e.jsxDEV(t,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:255,columnNumber:25},void 0),onClick:()=>{x.info("Fonctionnalité d'import à implémenter")},children:"Importer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:255,columnNumber:11},void 0),e.jsxDEV(a,{type:"primary",icon:e.jsxDEV(o,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:258,columnNumber:40},void 0),onClick:()=>{M(null),U.resetFields(),G(!0)},children:"Nouveau tableau"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:258,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:254,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:247,columnNumber:7},void 0),e.jsxDEV(l,{children:e.jsxDEV("div",{className:"flex gap-4 items-center",children:[e.jsxDEV(n,{placeholder:"Rechercher un tableau...",prefix:e.jsxDEV(m,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:269,columnNumber:21},void 0),value:S,onChange:e=>k(e.target.value),style:{width:300}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:267,columnNumber:11},void 0),e.jsxDEV(u,{value:O,onChange:j,style:{width:200},options:w},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:274,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-500",children:[q.length," tableau",1!==q.length?"x":""]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:280,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:266,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:265,columnNumber:7},void 0),e.jsxDEV(l,{children:q.length>0?e.jsxDEV(c,{columns:I,dataSource:q,rowKey:"id",loading:A,pagination:{pageSize:10,showSizeChanger:!0,showTotal:(e,i)=>`${i[0]}-${i[1]} sur ${e} tableaux`}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:289,columnNumber:11},void 0):e.jsxDEV(d,{description:S||"all"!==O?"Aucun tableau ne correspond aux critères de recherche":"Aucun tableau configuré"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:302,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:287,columnNumber:7},void 0),e.jsxDEV(b,{title:R?"Modifier le tableau":"Nouveau tableau",open:P,onOk:()=>{U.validateFields().then(e=>{if(R)f(i=>i.map(i=>i.id===R.id?{...i,...e,updatedAt:(new Date).toISOString()}:i)),x.success("Tableau modifié avec succès");else{const i={id:Date.now().toString(),...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};f(e=>[...e,i]),x.success("Tableau créé avec succès")}G(!1),U.resetFields()})},onCancel:()=>{G(!1),U.resetFields()},okText:"Enregistrer",cancelText:"Annuler",width:600,children:e.jsxDEV(s,{form:U,layout:"vertical",initialValues:{isActive:!0,rows:10,columns:5},children:[e.jsxDEV(s.Item,{name:"name",label:"Nom du tableau",rules:[{required:!0,message:"Le nom est requis"}],children:e.jsxDEV(n,{placeholder:"Ex: Coefficients d'orientation solaire"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:339,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:334,columnNumber:11},void 0),e.jsxDEV(s.Item,{name:"description",label:"Description",children:e.jsxDEV(n.TextArea,{rows:3,placeholder:"Description optionnelle du tableau"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:346,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:342,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(s.Item,{name:"rows",label:"Nombre de lignes",rules:[{required:!0,message:"Requis"}],children:e.jsxDEV(v,{min:1,max:100,style:{width:"100%"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:358,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:353,columnNumber:13},void 0),e.jsxDEV(s.Item,{name:"columns",label:"Nombre de colonnes",rules:[{required:!0,message:"Requis"}],children:e.jsxDEV(v,{min:1,max:20,style:{width:"100%"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:366,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:361,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:352,columnNumber:11},void 0),e.jsxDEV(s.Item,{name:"category",label:"Catégorie",rules:[{required:!0,message:"La catégorie est requise"}],children:e.jsxDEV(u,{placeholder:"Sélectionner une catégorie",options:w.filter(e=>"all"!==e.value)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:375,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:370,columnNumber:11},void 0),e.jsxDEV(s.Item,{name:"isActive",label:"Statut",valuePropName:"checked",children:[e.jsxDEV("input",{type:"checkbox",className:"mr-2"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:386,columnNumber:13},void 0),e.jsxDEV("span",{children:"Tableau actif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:387,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:325,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:313,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GestionTableauxPage.tsx",lineNumber:245,columnNumber:5},void 0)};export{V as default};
