import{j as e,u as i}from"./index-C0S0DpaX.js";import{r as s}from"./react-vendor-Al_k-ZB6.js";import{u as n}from"./useAuthenticatedApi-BbQI8SDU.js";import{s as r,a2 as o,T as t,aI as m,B as a,b9 as d,af as l,ag as c,a as u,aj as v,a3 as N,a4 as g,aM as p,R as D,bE as C,al as x,a8 as b,ad as h,a7 as E,$ as f,aU as V,aV as A,aG as k,b as O,F as S,bl as M,a$ as R,U as j,l as U,au as y,cO as w,aC as z,I as P,cP as G,bz as T,cQ as W,bC as I,a0 as F,bm as $,aF as L,Q as q,ak as B,ab as _,an as K,cB as X,A as H,aZ as J,f as Q,ai as Y,G as Z,v as ee,cR as ie,cS as se,cT as ne,z as re,h as oe,cU as te,be as me,cV as ae,aH as de,b4 as le,b3 as ce,b5 as ue,O as ve,b0 as Ne,bO as ge,S as pe,Y as De,c as Ce}from"./antd-vendor-zFcGztvE.js";import{u as xe,o as be}from"./AppLayout-B5YjWTBr.js";import"./data-vendor-wH_FeJEU.js";import"./Notifications-Bhgc2wzd.js";const{Title:he,Text:Ee,Paragraph:fe}=t,Ve=({organizationId:i})=>{const[t,S]=s.useState(!1),[M,R]=s.useState(null),[j,U]=s.useState(null),[y,w]=s.useState([]),{api:z}=n(),P=s.useCallback(async()=>{S(!0);try{const[e,s]=await Promise.all([z.get("/api/google-tokens/scheduler/status"),z.get(`/api/google-tokens/organization/${i}`)]);e.success&&R(e.data),s.success&&U(s.data)}catch(e){r.error("Erreur lors du chargement des donn√©es")}S(!1)},[z,i]),G=s.useCallback(async()=>{try{const e=await z.get(`/api/google-tokens/refresh-history/${i}`);e.success&&w(e.data)}catch(e){}},[z,i]),T=async()=>{try{const e=(null==M?void 0:M.isRunning)?"stop":"start",i=await z.post(`/api/google-tokens/scheduler/${e}`);i.success?(r.success(`Scheduler ${(null==M?void 0:M.isRunning)?"arr√™t√©":"d√©marr√©"} avec succ√®s`),P()):r.error(i.message||"Erreur lors du changement de statut")}catch(e){r.error("Erreur lors du changement de statut du scheduler")}};s.useEffect(()=>{P(),G();const e=setInterval(()=>{P()},3e4);return()=>clearInterval(e)},[P,G]);const W=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:e=>new Date(e).toLocaleString("fr-FR")},{title:"Statut",dataIndex:"success",key:"status",render:i=>e.jsxDEV(b,{status:i?"success":"error",text:i?"Succ√®s":"√âchec"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:193,columnNumber:9},void 0)},{title:"Message",dataIndex:"message",key:"message"}];if(t&&!M)return e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV(o,{size:"large"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:209,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:208,columnNumber:7},void 0);const I=(()=>{if(!j||!j.expiresAt)return 100;const e=(new Date).getTime(),i=new Date(j.expiresAt).getTime(),s=(i-e)/(i-new Date(j.createdAt).getTime())*100;return Math.max(0,Math.min(100,s))})(),F=($=I)>50?"#52c41a":$>25?"#faad14":"#ff4d4f";var $;return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV(he,{level:4,children:[e.jsxDEV(m,{className:"mr-2"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:221,columnNumber:11},void 0),"Monitoring des Tokens Google"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:220,columnNumber:9},void 0),e.jsxDEV(a,{icon:e.jsxDEV(d,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:225,columnNumber:17},void 0),onClick:P,loading:t,children:"Actualiser"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:224,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:219,columnNumber:7},void 0),e.jsxDEV(l,{gutter:[16,16],children:[e.jsxDEV(c,{xs:24,sm:12,lg:6,children:e.jsxDEV(u,{children:[e.jsxDEV(v,{title:"Statut Scheduler",value:(null==M?void 0:M.isRunning)?"Actif":"Arr√™t√©",prefix:(null==M?void 0:M.isRunning)?e.jsxDEV(N,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:241,columnNumber:17},void 0):e.jsxDEV(g,{style:{color:"#faad14"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:242,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:237,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(p,{checked:null==M?void 0:M.isRunning,onChange:T,checkedChildren:"ON",unCheckedChildren:"OFF"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:246,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:245,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:235,columnNumber:9},void 0),e.jsxDEV(c,{xs:24,sm:12,lg:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Utilisateurs avec Tokens",value:(null==M?void 0:M.activeTokens)||0,prefix:e.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:261,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:258,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:257,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:256,columnNumber:9},void 0),e.jsxDEV(c,{xs:24,sm:12,lg:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Refreshs Effectu√©s",value:(null==M?void 0:M.refreshCount)||0,prefix:e.jsxDEV(C,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:271,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:267,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:266,columnNumber:9},void 0),e.jsxDEV(c,{xs:24,sm:12,lg:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Prochain Refresh",value:(null==M?void 0:M.nextRefresh)?new Date(M.nextRefresh).toLocaleTimeString("fr-FR"):"N/A",prefix:e.jsxDEV(x,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:284,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:278,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:277,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:276,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:234,columnNumber:7},void 0),j&&e.jsxDEV(u,{title:"Token de cette Organisation",className:"mb-6",children:e.jsxDEV(l,{gutter:[16,16],children:[e.jsxDEV(c,{xs:24,lg:12,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(Ee,{strong:!0,children:"Statut: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:297,columnNumber:19},void 0),e.jsxDEV(b,{status:j.isExpired?"error":"success",text:j.isExpired?"Expir√©":"Valide"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:298,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:296,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(Ee,{strong:!0,children:"Expire dans: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:305,columnNumber:19},void 0),e.jsxDEV(Ee,{type:j.isExpired?"danger":"default",children:j.timeUntilExpiry},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:304,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(Ee,{strong:!0,children:"Derni√®re mise √† jour: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:312,columnNumber:19},void 0),e.jsxDEV(Ee,{children:new Date(j.updatedAt).toLocaleString("fr-FR")},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:313,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:311,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(Ee,{strong:!0,children:"Scopes: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:317,columnNumber:19},void 0),e.jsxDEV(fe,{ellipsis:{rows:2,expandable:!0},children:j.scope},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:318,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:316,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:295,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:294,columnNumber:13},void 0),e.jsxDEV(c,{xs:24,lg:12,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(Ee,{strong:!0,children:"Temps restant avant expiration:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:327,columnNumber:17},void 0),e.jsxDEV(h,{percent:I,strokeColor:F,status:j.isExpired?"exception":"active",format:e=>`${Math.round(e||0)}%`},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:328,columnNumber:17},void 0),e.jsxDEV(E,{title:"Temps avant expiration bas√© sur la dur√©e de vie standard d'1 heure",children:e.jsxDEV(Ee,{type:"secondary",style:{fontSize:"12px"},children:"Les tokens Google expirent automatiquement apr√®s 1 heure"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:336,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:335,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:325,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:293,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:292,columnNumber:9},void 0),e.jsxDEV(u,{title:"Actions",children:e.jsxDEV(f,{children:[e.jsxDEV(a,{type:"primary",icon:(null==M?void 0:M.isRunning)?e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:351,columnNumber:48},void 0):e.jsxDEV(A,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:351,columnNumber:74},void 0),onClick:T,children:[(null==M?void 0:M.isRunning)?"Arr√™ter":"D√©marrer"," le Scheduler"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:349,columnNumber:11},void 0),e.jsxDEV(a,{icon:e.jsxDEV(d,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:358,columnNumber:19},void 0),onClick:async()=>{try{const e=await z.post("/api/google-tokens/scheduler/refresh-now");e.success?(r.success("Refresh des tokens lanc√© avec succ√®s"),P(),G()):r.error(e.message||"Erreur lors du refresh")}catch(e){r.error("Erreur lors du refresh forc√©")}},disabled:!(null==M?void 0:M.isRunning),children:"Refresh Imm√©diat"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:357,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:348,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:347,columnNumber:7},void 0),y.length>0&&e.jsxDEV(u,{title:"Historique des Refreshs",children:e.jsxDEV(k,{dataSource:y,columns:W,rowKey:"id",pagination:{pageSize:5,showSizeChanger:!1},size:"small"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:370,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:369,columnNumber:9},void 0),(null==M?void 0:M.errors)&&M.errors.length>0&&e.jsxDEV(O,{message:"Erreurs r√©centes du Scheduler",description:e.jsxDEV("div",{className:"space-y-2",children:M.errors.slice(0,3).map((i,s)=>e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV(Ee,{type:"secondary",children:[new Date(i.timestamp).toLocaleString("fr-FR"),":"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:391,columnNumber:19},void 0),e.jsxDEV(Ee,{className:"ml-2",children:i.message},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:392,columnNumber:19},void 0)]},s,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:390,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:388,columnNumber:13},void 0),type:"warning",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:385,columnNumber:9},void 0),e.jsxDEV(O,{message:"Comment fonctionne le Scheduler automatique ?",description:e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:["‚Ä¢ Le scheduler refresh automatiquement les tokens ",e.jsxDEV("strong",{children:"toutes les 50 minutes"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:407,columnNumber:68},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:407,columnNumber:13},void 0),e.jsxDEV("div",{children:"‚Ä¢ Les tokens Google expirent toutes les heures (3600 secondes)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:408,columnNumber:13},void 0),e.jsxDEV("div",{children:"‚Ä¢ Le refresh pr√©ventif √©vite les d√©connexions automatiques"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:409,columnNumber:13},void 0),e.jsxDEV("div",{children:"‚Ä¢ Si le scheduler est arr√™t√©, les utilisateurs devront se reconnecter manuellement"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:410,columnNumber:13},void 0),e.jsxDEV("div",{children:"‚Ä¢ Le syst√®me v√©rifie tous les tokens de toutes les organisations"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:411,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:406,columnNumber:11},void 0),type:"info",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:403,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleTokenMonitor.tsx",lineNumber:218,columnNumber:5},void 0)},{Step:Ae}=y,{Title:ke,Text:Oe,Paragraph:Se}=t,Me=({type:i,value:s,description:n})=>e.jsxDEV("div",{style:{marginBottom:"12px",padding:"8px",border:"1px solid #d9d9d9",borderRadius:"4px"},children:[e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e.jsxDEV(Oe,{strong:!0,children:[i," Record"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:55,columnNumber:7},void 0),e.jsxDEV(a,{size:"small",icon:e.jsxDEV(I,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:58,columnNumber:15},void 0),onClick:()=>{navigator.clipboard.writeText(s),r.success(`${i} record copi√© dans le presse-papiers`)},children:"Copier"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:56,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:54,columnNumber:5},void 0),e.jsxDEV(P,{value:s,readOnly:!0,style:{fontFamily:"monospace",fontSize:"12px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:67,columnNumber:5},void 0),e.jsxDEV(Oe,{type:"secondary",style:{fontSize:"12px"},children:n},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:68,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:53,columnNumber:3},void 0),Re=({organizationId:i,onGoogleWorkspaceActivated:t})=>{const[d]=S.useForm(),[l,c]=s.useState(!1),[v,D]=s.useState(!1),[C,x]=s.useState(!1),[b,h]=s.useState(!1),[E,V]=s.useState(null),[A,k]=s.useState(!1),[I,F]=s.useState("unknown"),[$,L]=s.useState(null),[q,B]=s.useState(!1),[_,K]=s.useState(null),{api:X}=n(),H=s.useCallback(async()=>{try{const e=await X.get(`/api/organizations/${i}/google-workspace/config`);if(e.success&&e.data){V(e.data);const i={domain:e.data.domain||"2thier.be",adminEmail:e.data.adminEmail||"",clientId:e.data.clientId||"",clientSecret:e.data.clientSecret||"",redirectUri:e.data.redirectUri||("".replace(/\/$/,"")||window.location.origin)+"/api/auth/google/callback",serviceAccountEmail:e.data.serviceAccountEmail||"",privateKey:e.data.privateKey||"",isActive:e.data.isActive||e.data.enabled||!1};d.setFieldsValue(i)}else d.setFieldsValue({domain:"2thier.be",redirectUri:("".replace(/\/$/,"")||window.location.origin)+"/api/auth/google/callback",isActive:!1})}catch(e){}},[X,i,d]);s.useCallback(async()=>{if(i){F("checking");try{const e=await X.get(`/api/organizations/${i}`);if(e.success&&e.data){K(e.data);const s=await X.get(`/api/organizations/${i}/google-workspace/domain-status`);s.success?s.data.isConfigured?(F("configured"),await H()):(F("unconfigured"),L(s.data.requiredRecords)):(F("error"),r.error("Erreur lors de la v√©rification du statut du domaine."))}else F("error"),r.error("Impossible de r√©cup√©rer les informations de l'organisation.")}catch(e){F("error"),r.error("Impossible de v√©rifier le statut du domaine.")}}},[X,i,H]);const J=s.useCallback(async()=>{try{const e=await X.get(`/api/google-auth/status?organizationId=${i}`);e.success&&e.data&&k(e.data.connected||!1)}catch(e){k(!1)}},[X,i]),Q=s.useCallback(async()=>{if(i)try{const e=await X.get(`/api/organizations/${i}`);e.success&&e.data&&K(e.data)}catch(e){}},[X,i]);s.useEffect(()=>{i&&(Q(),H(),J())},[i,Q,H,J]);const Y=s.useCallback(async()=>{if(i){B(!0);try{const e=await X.get(`/api/organizations/${i}/google-workspace/domain-status`);e.success?(L(e.data.requiredRecords),F(e.data.isConfigured?"configured":"unconfigured")):(F("error"),r.error("Erreur lors de la r√©cup√©ration des enregistrements DNS."))}catch(e){F("error"),r.error("Impossible de charger les enregistrements DNS.")}finally{B(!1)}}},[X,i]),Z=async()=>{await Y()},ee=async e=>{c(!0);try{const s=(null==E?void 0:E.isActive)||!1,n=await X.post(`/api/organizations/${i}/google-workspace/config`,e);n.success?(V(e),r.success("Configuration sauvegard√©e avec succ√®s"),!s&&e.isActive&&t&&t(),await H()):r.error("Erreur lors de la sauvegarde: "+(n.message||"Erreur inconnue"))}catch(s){r.error("Erreur lors de la sauvegarde de la configuration")}finally{c(!1)}},ie=async()=>{D(!0);try{r.info("Fonction de test d√©sactiv√©e - utilisez la connexion Google pour tester")}catch{r.error("Erreur lors du test")}finally{D(!1)}},se=async()=>{if(i){h(!0);try{(await X.post("/api/google-auth/disconnect",{organizationId:i})).success?(k(!1),r.success("D√©connexion Google r√©ussie"),await J()):r.error("Erreur lors de la d√©connexion Google")}catch(e){r.error("Erreur lors de la d√©connexion Google")}finally{h(!1)}}else r.error("Organization ID manquant")},ne=async()=>{var s;if(i){x(!0);try{const n=await X.get(`/api/google-auth/connect?organizationId=${i}`);if(n.success&&(null==(s=n.data)?void 0:s.authUrl)){const i=500,s=600,o=window.screen.width/2-i/2,t=window.screen.height/2-s/2,m=window.open(n.data.authUrl,"google-auth",`width=${i},height=${s},left=${o},top=${t},scrollbars=yes,resizable=yes,status=yes,location=yes`);if(!m)return void r.error("Impossible d'ouvrir la popup. V√©rifiez que les popups ne sont pas bloqu√©es.");r.info("üîê Authentification Google en cours...");const a=i=>{if(i.origin===window.location.origin)if("GOOGLE_AUTH_SUCCESS"===i.data.type)m.close(),r.success("‚úÖ Connexion Google r√©ussie !"),setTimeout(()=>{J()},500),window.removeEventListener("message",a);else if("GOOGLE_AUTH_ERROR"===i.data.type){m.close();const s={token_exchange_failed:"Erreur lors de l'√©change des tokens. V√©rifiez votre configuration OAuth.",invalid_client_config:"üîß Configuration OAuth invalide.\n\nüëâ Solution : V√©rifiez votre Client Secret dans Google Cloud Console",invalid_authorization_code:"Code d'autorisation expir√©. R√©essayez la connexion.",unauthorized_client:"Client non autoris√©. V√©rifiez vos identifiants OAuth.",config_not_found:"Configuration Google Workspace non trouv√©e.",user_not_found:"Utilisateur non trouv√© dans l'organisation.",missing_params:"Param√®tres OAuth manquants.",callback_error:"Erreur g√©n√©rale lors du callback OAuth."}[i.data.error]||"Erreur lors de l'authentification Google";"invalid_client_config"===i.data.error?r.error({content:e.jsxDEV("div",{children:[e.jsxDEV("div",{children:["‚ùå ",s]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:389,columnNumber:21},void 0),e.jsxDEV("div",{style:{marginTop:"8px",fontSize:"12px"},children:["üí° ",e.jsxDEV("strong",{children:"Solution :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:391,columnNumber:26},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:391,columnNumber:53},void 0),"1. V√©rifiez votre Client Secret dans Google Cloud Console",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:392,columnNumber:80},void 0),"2. R√©g√©n√©rez le Client Secret si n√©cessaire",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:393,columnNumber:66},void 0),"3. Mettez √† jour la configuration ici"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:388,columnNumber:19},void 0),duration:10,style:{maxWidth:"400px"}}):r.error(`‚ùå ${s}`),window.removeEventListener("message",a)}};window.addEventListener("message",a);const d=setInterval(()=>{(null==m?void 0:m.closed)&&(clearInterval(d),window.removeEventListener("message",a),setTimeout(()=>{J()},1e3))},1e3);setTimeout(()=>{(null==m?void 0:m.closed)||(m.close(),window.removeEventListener("message",a),r.warning("‚è±Ô∏è D√©lai d'authentification expir√©"))},3e5)}else r.error("Impossible de g√©n√©rer l'URL d'authentification Google")}catch(n){r.error("Erreur lors de l'authentification Google")}finally{x(!1)}}else r.error("Organization ID manquant")};return e.jsxDEV("div",{className:"google-workspace-config",children:[e.jsxDEV("div",{style:{marginBottom:"16px"},children:[e.jsxDEV(ke,{level:2,children:[e.jsxDEV(M,{style:{color:"#4285f4",marginRight:"8px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:859,columnNumber:11},void 0),"Configuration Google Workspace"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:858,columnNumber:9},void 0),e.jsxDEV(Se,{children:["Configurez l'int√©gration Google Workspace pour ",e.jsxDEV("strong",{children:(null==_?void 0:_.name)||"votre organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:863,columnNumber:58},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:862,columnNumber:9},void 0),A&&(null==E?void 0:E.isActive)&&e.jsxDEV(O,{message:"üéâ Google Workspace enti√®rement configur√© et op√©rationnel !",description:e.jsxDEV("div",{children:[e.jsxDEV("p",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Domaine :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:872,columnNumber:22},void 0)," ",E.domain]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:872,columnNumber:17},void 0),e.jsxDEV("p",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Connexion Google :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:873,columnNumber:22},void 0)," Active"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:873,columnNumber:17},void 0),e.jsxDEV("p",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Services :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:874,columnNumber:22},void 0)," Gmail, Calendrier, Drive activ√©s"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:874,columnNumber:17},void 0),e.jsxDEV("p",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Admin :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:875,columnNumber:22},void 0)," ",E.adminEmail]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:875,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:871,columnNumber:15},void 0),type:"success",showIcon:!0,style:{marginBottom:"24px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:868,columnNumber:11},void 0),A&&!(null==E?void 0:E.isActive)&&e.jsxDEV(O,{message:"‚ö†Ô∏è Google connect√© mais configuration incompl√®te",description:"Votre connexion Google fonctionne mais l'int√©gration n'est pas enti√®rement activ√©e.",type:"warning",showIcon:!0,style:{marginBottom:"24px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:885,columnNumber:11},void 0),!A&&e.jsxDEV(O,{message:"üîå Configuration en attente",description:"Configurez vos identifiants puis connectez-vous √† Google pour activer l'int√©gration.",type:"info",showIcon:!0,style:{marginBottom:"24px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:895,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:857,columnNumber:7},void 0),e.jsxDEV(R,{defaultActiveKey:"workspace",type:"card",size:"large",onTabClick:e=>{"domain"!==e||$||Y()},items:[{key:"domain",label:e.jsxDEV("span",{children:[e.jsxDEV(j,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:920,columnNumber:17},void 0),"Configuration Domaine"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:919,columnNumber:15},void 0),children:e.jsxDEV(u,{children:[e.jsxDEV("div",{style:{textAlign:"center",marginBottom:"24px"},children:[e.jsxDEV(ke,{level:3,children:[e.jsxDEV(M,{style:{color:"#4285f4",marginRight:"8px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:447,columnNumber:11},void 0),"Configuration du Domaine Google Workspace"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:446,columnNumber:9},void 0),e.jsxDEV(Se,{children:["Pour utiliser Google Workspace avec ",e.jsxDEV("strong",{children:(null==_?void 0:_.name)||"votre organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:451,columnNumber:47},void 0),", vous devez d'abord prouver que vous poss√©dez le domaine et configurer les serveurs de messagerie."]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:450,columnNumber:9},void 0),$&&e.jsxDEV(O,{message:"‚úÖ Domaine 2thier.be - DNS configur√©s",description:"Vos enregistrements DNS ont √©t√© configur√©s dans votre registrar. La propagation peut prendre jusqu'√† 24h pour √™tre compl√®tement active.",type:"success",showIcon:!0,style:{marginBottom:"24px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:457,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:445,columnNumber:7},void 0),e.jsxDEV(y,{direction:"vertical",current:4,size:"small",children:[e.jsxDEV(Ae,{status:"finish",title:"√âtape 1 : Validation du domaine ‚úÖ",description:e.jsxDEV("div",{style:{marginTop:"16px"},children:[e.jsxDEV(O,{message:"Enregistrement TXT configur√©",description:"L'enregistrement de validation du domaine a √©t√© ajout√© avec succ√®s.",type:"success",showIcon:!0,size:"small",style:{marginBottom:"12px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:473,columnNumber:15},void 0),(null==$?void 0:$.verification)?e.jsxDEV(Me,{type:"TXT",value:$.verification.value,description:"‚úÖ Configur√© dans votre registrar - Propri√©t√© du domaine valid√©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:483,columnNumber:17},void 0):e.jsxDEV(o,{size:"small"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:489,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:472,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:468,columnNumber:9},void 0),e.jsxDEV(Ae,{status:"finish",title:"√âtape 2 : Configuration des serveurs de messagerie ‚úÖ",description:e.jsxDEV("div",{style:{marginTop:"16px"},children:[e.jsxDEV(O,{message:"Enregistrements MX configur√©s",description:"Tous les serveurs de messagerie Google ont √©t√© configur√©s avec succ√®s.",type:"success",showIcon:!0,size:"small",style:{marginBottom:"12px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:500,columnNumber:15},void 0),(null==$?void 0:$.mx)?e.jsxDEV("div",{children:$.mx.map((i,s)=>e.jsxDEV(Me,{type:"MX",value:`${i.priority} ${i.server}`,description:`‚úÖ Configur√© dans votre registrar - Serveur Google (priorit√© ${i.priority})`},s,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:512,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:510,columnNumber:17},void 0):e.jsxDEV(o,{size:"small"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:521,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:499,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:495,columnNumber:9},void 0),e.jsxDEV(Ae,{status:"finish",title:"√âtape 3 : S√©curisation des emails ‚úÖ",description:e.jsxDEV("div",{style:{marginTop:"16px"},children:[e.jsxDEV(O,{message:"Enregistrements de s√©curit√© configur√©s",description:"SPF et DMARC configur√©s pour s√©curiser vos emails contre l'usurpation.",type:"success",showIcon:!0,size:"small",style:{marginBottom:"12px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:532,columnNumber:15},void 0),(null==$?void 0:$.security)?e.jsxDEV("div",{children:[$.security.spf&&e.jsxDEV(Me,{type:"TXT (SPF)",value:$.security.spf,description:"‚úÖ Configur√© dans votre registrar - S√©curit√© anti-spam active"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:544,columnNumber:21},void 0),$.security.dmarc&&e.jsxDEV(Me,{type:"TXT (DMARC)",value:$.security.dmarc,description:"‚úÖ Configur√© dans votre registrar - Protection anti-usurpation active"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:552,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:542,columnNumber:17},void 0):e.jsxDEV(o,{size:"small"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:560,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:531,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:527,columnNumber:9},void 0),e.jsxDEV(Ae,{status:"finish",title:"√âtape 4 : V√©rification ‚úÖ",description:e.jsxDEV("div",{style:{marginTop:"16px"},children:[e.jsxDEV(O,{message:"Configuration DNS compl√®te !",description:"Tous vos enregistrements DNS ont √©t√© configur√©s dans votre registrar. Le domaine 2thier.be est pr√™t pour Google Workspace.",type:"success",showIcon:!0,style:{marginBottom:"16px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:571,columnNumber:15},void 0),e.jsxDEV(Se,{children:[e.jsxDEV(Oe,{type:"success",children:["‚úÖ ",e.jsxDEV("strong",{children:"Configuration termin√©e avec succ√®s !"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:581,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:580,columnNumber:17},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(Oe,{type:"secondary",children:"La propagation DNS peut prendre jusqu'√† 24h, mais vos emails fonctionnent d√©j√†."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:584,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:579,columnNumber:15},void 0),e.jsxDEV(f,{children:[e.jsxDEV(a,{type:"default",icon:e.jsxDEV(w,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:592,columnNumber:25},void 0),loading:q,onClick:Z,size:"large",children:"Rev√©rifier le statut DNS"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:590,columnNumber:17},void 0),e.jsxDEV(a,{type:"primary",icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:602,columnNumber:25},void 0),disabled:!0,size:"large",children:"Configuration valid√©e ‚úÖ"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:600,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:570,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:566,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:467,columnNumber:7},void 0),e.jsxDEV(z,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:614,columnNumber:7},void 0),e.jsxDEV(O,{message:"üéâ Configuration DNS termin√©e avec succ√®s !",description:e.jsxDEV("div",{children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"R√©sum√© de votre configuration DNS :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:620,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Validation du domaine :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:622,columnNumber:21},void 0)," Enregistrement TXT ajout√©"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:622,columnNumber:15},void 0),e.jsxDEV("li",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Serveurs de messagerie :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:623,columnNumber:21},void 0)," 5 enregistrements MX configur√©s"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:623,columnNumber:15},void 0),e.jsxDEV("li",{children:["‚úÖ ",e.jsxDEV("strong",{children:"S√©curit√© :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:624,columnNumber:21},void 0)," SPF et DMARC actifs"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:624,columnNumber:15},void 0),e.jsxDEV("li",{children:["‚úÖ ",e.jsxDEV("strong",{children:"Statut :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:625,columnNumber:21},void 0)," Le domaine 2thier.be est pr√™t pour Google Workspace"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:625,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:621,columnNumber:13},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Prochaine √©tape :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:627,columnNumber:16},void 0)," Basculez vers l'onglet \"Configuration Workspace\" pour finaliser l'int√©gration."]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:627,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:619,columnNumber:11},void 0),type:"success",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:616,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:444,columnNumber:5},void 0)},{key:"workspace",label:e.jsxDEV("span",{children:[e.jsxDEV(U,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:930,columnNumber:17},void 0),"Configuration Workspace"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:929,columnNumber:15},void 0),children:e.jsxDEV(u,{children:[e.jsxDEV("div",{style:{marginBottom:"24px"},children:[e.jsxDEV(ke,{level:4,children:"√âtat de la connexion"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:641,columnNumber:9},void 0),A&&(null==E?void 0:E.isActive)?e.jsxDEV(O,{message:"‚úÖ Int√©gration Google Workspace active",description:e.jsxDEV("div",{children:e.jsxDEV(f,{direction:"vertical",size:"small",style:{width:"100%"},children:[e.jsxDEV("div",{children:["üîó ",e.jsxDEV("strong",{children:"Connexion OAuth :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:649,columnNumber:27},void 0)," √âtablie et fonctionnelle"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:649,columnNumber:19},void 0),e.jsxDEV("div",{children:["‚öôÔ∏è ",e.jsxDEV("strong",{children:"Configuration :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:650,columnNumber:27},void 0)," Compl√®te et activ√©e"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:650,columnNumber:19},void 0),e.jsxDEV("div",{children:["üìß ",e.jsxDEV("strong",{children:"Services :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:651,columnNumber:27},void 0),E.gmailEnabled&&" Gmail",E.calendarEnabled&&" ‚Ä¢ Calendrier",E.driveEnabled&&" ‚Ä¢ Drive"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:651,columnNumber:19},void 0),e.jsxDEV("div",{children:["üïí ",e.jsxDEV("strong",{children:"Derni√®re sync :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:656,columnNumber:27},void 0)," ",E.lastSync?new Date(E.lastSync).toLocaleString("fr-FR"):"R√©cente"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:656,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:648,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:647,columnNumber:15},void 0),type:"success",showIcon:!0,style:{marginBottom:"16px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:644,columnNumber:11},void 0):A?e.jsxDEV(O,{message:"üîó Connect√© √† Google - Configuration √† finaliser",description:"La connexion OAuth est √©tablie. Compl√©tez la configuration ci-dessous puis activez l'int√©gration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:665,columnNumber:11},void 0):e.jsxDEV(O,{message:"üîå Non connect√© √† Google",description:"Configurez d'abord vos identifiants OAuth puis connectez-vous √† Google pour activer les fonctionnalit√©s.",type:"info",showIcon:!0,style:{marginBottom:"16px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:673,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:640,columnNumber:7},void 0),e.jsxDEV(S,{form:d,layout:"vertical",onFinish:ee,initialValues:{domain:"2thier.be",redirectUri:("".replace(/\/$/,"")||window.location.origin)+"/api/auth/google/callback",isActive:!1},children:[e.jsxDEV(z,{children:"Informations du domaine"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:693,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Domaine Google Workspace",name:"domain",rules:[{required:!0,message:"Le domaine est requis"}],children:e.jsxDEV(P,{placeholder:"2thier.be"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:700,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:695,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Email administrateur",name:"adminEmail",rules:[{required:!0,message:"L'email administrateur est requis"},{type:"email",message:"Format email invalide"}],children:e.jsxDEV(P,{placeholder:"admin@2thier.be"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:711,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:703,columnNumber:9},void 0),e.jsxDEV(z,{children:"Configuration OAuth 2.0"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:714,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Client ID",name:"clientId",rules:[{required:!0,message:"Le Client ID est requis"}],children:e.jsxDEV(P.Password,{placeholder:"123456789-abc.apps.googleusercontent.com"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:721,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:716,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Client Secret",name:"clientSecret",rules:[{required:!0,message:"Le Client Secret est requis"}],children:e.jsxDEV(P.Password,{placeholder:"GOCSPX-...",iconRender:i=>i?e.jsxDEV(G,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:731,columnNumber:49},void 0):e.jsxDEV(T,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:731,columnNumber:66},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:729,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:724,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"URI de redirection",name:"redirectUri",rules:[{required:!0,message:"L'URI de redirection est requise"}],help:"Cette URI doit √™tre ajout√©e dans la console Google Cloud",children:e.jsxDEV(P,{placeholder:("".replace(/\/$/,"")||"https://api.2thier.com")+"/api/auth/google/callback"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:741,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:735,columnNumber:9},void 0),e.jsxDEV(z,{children:"Compte de service"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:746,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Email du compte de service",name:"serviceAccountEmail",rules:[{required:!0,message:"L'email du compte de service est requis"},{type:"email",message:"Format email invalide"}],children:e.jsxDEV(P,{placeholder:"service-account@project.iam.gserviceaccount.com"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:756,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:748,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Cl√© priv√©e (JSON)",name:"privateKey",rules:[{required:!0,message:"La cl√© priv√©e est requise"}],children:e.jsxDEV(P.Password,{placeholder:"-----BEGIN PRIVATE KEY-----...",iconRender:i=>i?e.jsxDEV(G,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:766,columnNumber:49},void 0):e.jsxDEV(T,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:766,columnNumber:66},void 0),style:{fontFamily:"monospace",fontSize:"12px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:764,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:759,columnNumber:9},void 0),e.jsxDEV(S.Item,{label:"Activer l'int√©gration",name:"isActive",valuePropName:"checked",children:e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:779,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:774,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(a,{type:"primary",htmlType:"submit",loading:l,icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:787,columnNumber:19},void 0),children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:783,columnNumber:11},void 0),e.jsxDEV(a,{onClick:ie,loading:v,disabled:!(null==E?void 0:E.clientId),children:"Tester la connexion"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:792,columnNumber:11},void 0),A?e.jsxDEV(a,{onClick:se,loading:b,danger:!0,icon:e.jsxDEV(g,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:805,columnNumber:21},void 0),type:"default",children:"Se d√©connecter de Google"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:801,columnNumber:13},void 0):e.jsxDEV(a,{onClick:ne,loading:C,disabled:!(null==E?void 0:E.clientId)||!(null==E?void 0:E.redirectUri),icon:e.jsxDEV(W,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:815,columnNumber:21},void 0),type:"dashed",children:"Se connecter √† Google"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:811,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:782,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:683,columnNumber:7},void 0),e.jsxDEV(z,{children:"Instructions"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:824,columnNumber:7},void 0),e.jsxDEV(O,{message:"Configuration Google Workspace",description:e.jsxDEV("div",{children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"1. Cr√©er un projet Google Cloud :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:829,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:829,columnNumber:13},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:["Aller sur ",e.jsxDEV("a",{href:"https://console.cloud.google.com",target:"_blank",children:"Google Cloud Console"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:831,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:831,columnNumber:15},void 0),e.jsxDEV("li",{children:"Cr√©er un nouveau projet"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:832,columnNumber:15},void 0),e.jsxDEV("li",{children:"Activer l'API Google Workspace Admin SDK"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:833,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:830,columnNumber:13},void 0),e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"2. Configurer OAuth 2.0 :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:836,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:836,columnNumber:13},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Cr√©er des identifiants OAuth 2.0"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:838,columnNumber:15},void 0),e.jsxDEV("li",{children:"Ajouter les URIs de redirection autoris√©es"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:839,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:837,columnNumber:13},void 0),e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"3. Cr√©er un compte de service :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:842,columnNumber:16},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:842,columnNumber:13},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Cr√©er un compte de service avec d√©l√©gation domain-wide"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:844,columnNumber:15},void 0),e.jsxDEV("li",{children:"T√©l√©charger le fichier JSON des cl√©s"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:845,columnNumber:15},void 0),e.jsxDEV("li",{children:"Configurer les scopes : https://www.googleapis.com/auth/admin.directory.user"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:846,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:843,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:828,columnNumber:11},void 0),type:"info"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:825,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:638,columnNumber:5},void 0)},{key:"monitoring",label:e.jsxDEV("span",{children:[e.jsxDEV(m,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:940,columnNumber:17},void 0),"Monitoring Tokens"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:939,columnNumber:15},void 0),children:e.jsxDEV(Ve,{organizationId:i},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:944,columnNumber:23},void 0)}]},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:905,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/GoogleWorkspaceConfig.tsx",lineNumber:856,columnNumber:5},void 0)},{Text:je}=t,{Option:Ue}=K,ye=({visible:i,onClose:t,organizationId:m,organizationName:d})=>{const{api:g}=n(),[p,D]=s.useState(!1),[C,x]=s.useState(!1),[b,h]=s.useState([]),[E,V]=s.useState([]),[A,M]=s.useState({totalCalls:0,totalSms:0,monthlyCost:0,activeNumbers:0}),[R]=S.useForm(),[j]=S.useForm(),[y,w]=s.useState(!1),[z,G]=s.useState(!1),T=s.useCallback(async()=>{var e,i,s;if(m){D(!0);try{const[n,r,o]=await Promise.all([g.get("/api/telnyx/connections"),g.get("/api/telnyx/phone-numbers"),g.get("/api/telnyx/stats")]);h(n.data||[]),V(r.data||[]),M({totalCalls:(null==(e=o.data)?void 0:e.totalCalls)||0,totalSms:(null==(i=o.data)?void 0:i.totalSms)||0,monthlyCost:(null==(s=o.data)?void 0:s.monthlyCost)||0,activeNumbers:(r.data||[]).filter(e=>"active"===e.status).length})}catch(n){r.error("Erreur lors du chargement des donn√©es Telnyx")}finally{D(!1)}}},[m,g]);s.useEffect(()=>{i&&m&&T()},[i,m,T]);const W=[{title:"Num√©ro",dataIndex:"phone_number",key:"phone_number",render:i=>e.jsxDEV(je,{strong:!0,children:i},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:177,columnNumber:35},void 0)},{title:"Type",dataIndex:"number_type",key:"number_type",render:i=>{const s={local:{text:"Local",color:"blue"},"toll-free":{text:"Gratuit",color:"green"},national:{text:"National",color:"orange"},mobile:{text:"Mobile",color:"purple"}}[i]||{text:i,color:"default"};return e.jsxDEV(_,{color:s.color,children:s.text},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:191,columnNumber:16},void 0)}},{title:"Statut",dataIndex:"status",key:"status",render:i=>{const s={active:{text:"Actif",color:"success",icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:200,columnNumber:62},void 0)},pending:{text:"En attente",color:"warning",icon:e.jsxDEV($,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:201,columnNumber:68},void 0)},disabled:{text:"D√©sactiv√©",color:"error",icon:e.jsxDEV(X,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:202,columnNumber:66},void 0)}}[i]||{text:i,color:"default",icon:null};return e.jsxDEV(_,{color:s.color,icon:s.icon,children:s.text},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:206,columnNumber:11},void 0)}},{title:"Co√ªt/mois",dataIndex:"monthly_cost",key:"monthly_cost",render:e=>`$${e.toFixed(2)}`},{title:"Fonctionnalit√©s",dataIndex:"features",key:"features",render:i=>e.jsxDEV(f,{children:i.map(i=>e.jsxDEV(_,{size:"small",children:i},i,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:225,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:223,columnNumber:9},void 0)}];return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(F,{title:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{style:{color:"#FF6B6B"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:235,columnNumber:18},void 0)," Configuration Telnyx - ",d]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:235,columnNumber:16},void 0),open:i,onCancel:t,width:1200,footer:null,className:"telnyx-config-modal",children:e.jsxDEV(o,{spinning:p,children:[e.jsxDEV("div",{style:{marginBottom:16},children:e.jsxDEV(f,{children:[e.jsxDEV(a,{icon:e.jsxDEV($,{spin:C},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:247,columnNumber:23},void 0),onClick:async()=>{x(!0);try{await g.post("/api/telnyx/sync"),r.success("Synchronisation Telnyx r√©ussie"),T()}catch(e){r.error("Erreur lors de la synchronisation")}finally{x(!1)}},loading:C,children:"Synchroniser"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV(a,{icon:e.jsxDEV(U,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:254,columnNumber:23},void 0),onClick:()=>w(!0),children:"Configuration API"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:253,columnNumber:15},void 0),e.jsxDEV(a,{type:"primary",icon:e.jsxDEV(L,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:261,columnNumber:23},void 0),onClick:()=>G(!0),children:"Acheter un num√©ro"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV(l,{gutter:[16,16],style:{marginBottom:24},children:[e.jsxDEV(c,{span:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Num√©ros actifs",value:A.activeNumbers,prefix:e.jsxDEV(q,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:276,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:273,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:272,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV(c,{span:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Appels ce mois",value:A.totalCalls,prefix:e.jsxDEV(q,{style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:285,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:282,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:281,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:280,columnNumber:13},void 0),e.jsxDEV(c,{span:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"SMS ce mois",value:A.totalSms,prefix:e.jsxDEV(q,{style:{color:"#722ed1"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:294,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:291,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:290,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:289,columnNumber:13},void 0),e.jsxDEV(c,{span:6,children:e.jsxDEV(u,{children:e.jsxDEV(v,{title:"Co√ªt mensuel",value:A.monthlyCost,prefix:e.jsxDEV(B,{style:{color:"#fa8c16"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:303,columnNumber:27},void 0),precision:2},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:300,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:299,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:298,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:270,columnNumber:11},void 0),0===b.length&&0===E.length&&e.jsxDEV(O,{message:"Configuration Telnyx requise",description:"Configurez votre cl√© API Telnyx et achetez votre premier num√©ro pour commencer.",type:"warning",showIcon:!0,style:{marginBottom:16},action:e.jsxDEV(a,{size:"small",type:"primary",onClick:()=>w(!0),children:"Configurer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:319,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:312,columnNumber:13},void 0),e.jsxDEV(u,{title:"üìû Num√©ros de t√©l√©phone",style:{marginBottom:16},children:e.jsxDEV(k,{dataSource:E,columns:W,rowKey:"id",pagination:!1,size:"small",locale:{emptyText:"Aucun num√©ro configur√©"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:332,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:331,columnNumber:11},void 0),e.jsxDEV(u,{title:"üîó Connexions Telnyx",children:e.jsxDEV(k,{dataSource:b,columns:[{title:"Nom",dataIndex:"name",key:"name"},{title:"Statut",dataIndex:"status",key:"status",render:i=>e.jsxDEV(_,{color:"active"===i?"success":"error",children:"active"===i?"Actif":"Inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:353,columnNumber:21},void 0)},{title:"Type",dataIndex:"type",key:"type"},{title:"Date cr√©ation",dataIndex:"created_at",key:"created_at",render:e=>new Date(e).toLocaleDateString()}],rowKey:"id",pagination:!1,size:"small",locale:{emptyText:"Aucune connexion configur√©e"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:344,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:343,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:242,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:234,columnNumber:7},void 0),e.jsxDEV(F,{title:"‚öôÔ∏è Configuration API Telnyx",open:y,onCancel:()=>w(!1),footer:null,width:600,children:e.jsxDEV(S,{form:R,layout:"vertical",onFinish:async e=>{try{await g.post("/api/telnyx/config",{organizationId:m,...e}),r.success("Configuration Telnyx sauvegard√©e"),w(!1),T()}catch(i){r.error("Erreur lors de la sauvegarde")}},children:[e.jsxDEV(O,{message:"Configuration API Telnyx",description:"Entrez vos cl√©s API Telnyx pour activer l'int√©gration compl√®te.",type:"info",showIcon:!0,style:{marginBottom:16}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:384,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"api_key",label:"Cl√© API Telnyx",rules:[{required:!0}],children:e.jsxDEV(P.Password,{placeholder:"KEY_..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:393,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:392,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"webhook_url",label:"URL Webhook",children:e.jsxDEV(P,{placeholder:"https://votre-domaine.com/api/telnyx/webhooks"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:397,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:396,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"default_connection",label:"Connexion par d√©faut",children:e.jsxDEV(K,{placeholder:"S√©lectionner une connexion",children:b.map(i=>e.jsxDEV(Ue,{value:i.id,children:i.name},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:403,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:401,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:400,columnNumber:11},void 0),e.jsxDEV(S.Item,{children:e.jsxDEV(f,{children:[e.jsxDEV(a,{type:"primary",htmlType:"submit",children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:410,columnNumber:15},void 0),e.jsxDEV(a,{onClick:()=>w(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:413,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:409,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:408,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:383,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:376,columnNumber:7},void 0),e.jsxDEV(F,{title:"üî¢ Acheter un Num√©ro",open:z,onCancel:()=>G(!1),footer:null,width:500,children:e.jsxDEV(S,{form:j,layout:"vertical",onFinish:async e=>{try{await g.post("/api/telnyx/phone-numbers/purchase",e),r.success("Num√©ro achet√© avec succ√®s"),G(!1),j.resetFields(),T()}catch(i){r.error("Erreur lors de l'achat du num√©ro")}},children:[e.jsxDEV(S.Item,{name:"country",label:"Pays",rules:[{required:!0}],children:e.jsxDEV(K,{placeholder:"S√©lectionner un pays",children:[e.jsxDEV(Ue,{value:"FR",children:"üá´üá∑ France"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"US",children:"üá∫üá∏ √âtats-Unis"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:433,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"CA",children:"üá®üá¶ Canada"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:434,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"GB",children:"üá¨üáß Royaume-Uni"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:435,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"DE",children:"üá©üá™ Allemagne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:436,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:431,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:430,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"type",label:"Type de num√©ro",rules:[{required:!0}],children:e.jsxDEV(K,{placeholder:"S√©lectionner le type",children:[e.jsxDEV(Ue,{value:"local",children:"üìç Local"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:442,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"toll-free",children:"üÜì Num√©ro vert"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:443,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"national",children:"üåç National"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:444,columnNumber:15},void 0),e.jsxDEV(Ue,{value:"mobile",children:"üì± Mobile"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:441,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:440,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"area_code",label:"Indicatif r√©gional (optionnel)",children:e.jsxDEV(P,{placeholder:"Ex: 01, 02, 03..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:450,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:449,columnNumber:11},void 0),e.jsxDEV(S.Item,{children:e.jsxDEV(f,{children:[e.jsxDEV(a,{type:"primary",htmlType:"submit",icon:e.jsxDEV(L,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:455,columnNumber:62},void 0),children:"Acheter"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:455,columnNumber:15},void 0),e.jsxDEV(a,{onClick:()=>G(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:454,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:453,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:429,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:422,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/admin/TelnyxConfig.tsx",lineNumber:233,columnNumber:5},void 0)},we={gmail:{icon:"MailOutlined",color:"#EA4335"},calendar:{icon:"CalendarOutlined",color:"#4285F4"},drive:{icon:"FileOutlined",color:"#34A853"},meet:{icon:"VideoCameraOutlined",color:"#FBBC04"},docs:{icon:"FileOutlined",color:"#4285F4"},sheets:{icon:"DatabaseOutlined",color:"#34A853"},voice:{icon:"PhoneOutlined",color:"#EA4335"}},ze=(e,i=30)=>e.length>i?`${e.substring(0,i)}...`:e,Pe=(e,i=50)=>e?e.length>i?`${e.substring(0,i)}...`:e:"",Ge=e=>we[e]||{icon:"AppstoreOutlined",color:"#666"},{Title:Te,Text:We}=t,Ie=()=>{var r,t,m,g;const{api:C}=n(),{user:x,refreshModules:h}=i(),{sections:V,toggleSectionActive:A}=xe(),{message:R}=H.useApp(),[j,U]=s.useState([]),[y,w]=s.useState(!1),[z,G]=s.useState(null),[T,W]=s.useState([]),[I,$]=s.useState(!1),[B,X]=s.useState({}),[he,Ee]=s.useState(!1),[fe,Ve]=s.useState(!1),[Ae,ke]=s.useState(!1),[Oe,Se]=s.useState(!1),[Me,je]=s.useState(!1),[Ue,we]=s.useState(!1),[Ie,Fe]=s.useState(!1),[$e,Le]=s.useState({}),[qe]=S.useForm(),[Be]=S.useForm(),[_e,Ke]=s.useState([]),[Xe,He]=s.useState([]),[Je,Qe]=s.useState(!1),[Ye,Ze]=s.useState(""),[ei,ii]=s.useState("all"),si="super_admin"===(null==x?void 0:x.role)||(null==x?void 0:x.isSuperAdmin),ni=J.useBreakpoint(),ri=!ni.md,oi=!!ni.md&&!ni.lg,[ti,mi]=s.useState(""),ai=s.useMemo(()=>((e,i)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),i)}})(e=>{Ze(e)},300),[]),di=s.useCallback(e=>{const i=e.target.value;mi(i),ai(i)},[ai]),li=s.useMemo(()=>j.filter(e=>{const i=e.name.toLowerCase().includes(Ye.toLowerCase())||e.description&&e.description.toLowerCase().includes(Ye.toLowerCase()),s="all"===ei||e.status===ei;return i&&s}),[j,Ye,ei]),ci=s.useCallback(async()=>{if(!j||0===j.length)return;const e={};j.forEach(i=>{var s;e[i.id]=(null==(s=i.stats)?void 0:s.activeModules)||0}),X(e)},[j]);s.useEffect(()=>{j.length>0&&0===Object.keys(B).length&&ci()},[j,ci,B]);const ui=s.useCallback(async()=>{w(!0);try{const e=await C.get("/api/organizations");e.success&&Array.isArray(e.data)?U(e.data):R.error("Erreur lors du chargement des organisations")}catch(e){const i=e instanceof Error?e.message:"Erreur de connexion";R.error(i)}finally{w(!1)}},[C,R]),vi=s.useCallback(async e=>{var i;if(e)try{const s=await C.get(`/api/modules?organizationId=${e}`);if(s.success){const e=["gmail","calendar","drive","meet","docs","sheets","voice"],n=(null==(i=s.data)?void 0:i.filter(i=>i.isActiveForOrg&&!e.includes(i.key)))||[];He(n)}}catch{}},[C]),Ni=s.useCallback(async e=>{var i;if(e){Qe(!0);try{const s=await C.get(`/api/modules?organizationId=${e}`);if(s.success){const e=["gmail","calendar","drive","meet","docs","sheets","voice"],n=(null==(i=s.data)?void 0:i.filter(i=>!e.includes(i.key)))||[],r=n.filter(e=>!e.organizationId);Ke(r),He(n)}else Ke([]),He([])}catch{Ke([]),He([])}finally{Qe(!1)}}},[C]),gi=s.useCallback(async(e,i)=>{X(s=>{const n=s[e]||0,r=i?n+1:Math.max(0,n-1);return{...s,[e]:r}}),await new Promise(e=>setTimeout(e,100)),await ui()},[ui]),pi=s.useCallback(async(e,i)=>{if(!z)return;if(["gmail","calendar","drive","meet","docs","sheets","voice"].includes(e.key))R.error("Les modules Google Workspace doivent √™tre g√©r√©s via le bouton Google Workspace");else try{(await C.patch("/api/modules/status",{moduleId:e.id,organizationId:z.id,active:i})).success?(R.success(`Module ${e.label||e.name} ${i?"activ√©":"d√©sactiv√©"} avec succ√®s`),await gi(z.id,i),await Ni(z.id),h&&await h()):R.error(`Erreur lors de la ${i?"activation":"d√©sactivation"} du module`)}catch(s){const e=s instanceof Error?s.message:"Erreur de connexion";R.error(e)}},[z,C,Ni,gi,h,R]),Di=s.useCallback(async e=>{try{const i=V.find(e=>"googleWorkspace"===e.id);i&&!i.active?(A("googleWorkspace"),R.success("Section Google Workspace activ√©e")):null==i||i.active;const s=(null==_e?void 0:_e.filter(e=>e.feature&&(e.feature.includes("GOOGLE")||"GMAIL"===e.feature||["gmail","calendar","drive","meet","docs","sheets","voice"].includes(e.key))))||[];if(0===s.length)return;const n=s.map(async i=>C.patch("/api/modules/status",{moduleId:i.id,organizationId:e,active:!0})),r=await Promise.allSettled(n);r.forEach((e,i)=>{s[i];e.status});const o=r.filter(e=>"fulfilled"===e.status).length;o>0?(R.success(`${o} modules Google Workspace activ√©s avec succ√®s`),X(i=>{const s=i[e]||0;return{...i,[e]:s+o}}),setTimeout(async()=>{await Ni(e),await ui()},100),h&&await h()):R.warning("Aucun module Google Workspace n'a pu √™tre activ√©")}catch(i){R.error("Erreur lors de l'activation des modules Google Workspace")}},[_e,C,Ni,ui,R,h,V,A]),Ci=s.useCallback(async e=>{var i;if(e.googleWorkspaceEnabled||(null==(i=e.stats)?void 0:i.googleWorkspaceEnabled))R.info("Google Workspace est d√©j√† activ√© pour cette organisation");else try{(await C.post(`/api/organizations/${e.id}/google-workspace/config`,{isActive:!0,domain:e.googleWorkspaceDomain||`${e.name.toLowerCase().replace(/\s+/g,"")}.be`,clientId:"",clientSecret:"",redirectUri:"",adminEmail:"",serviceAccountEmail:"",privateKey:""})).success?(R.success("Google Workspace activ√© avec succ√®s"),await Di(e.id),await ui()):R.error("Erreur lors de l'activation de Google Workspace")}catch(s){R.error("Erreur lors de l'activation de Google Workspace")}},[C,ui,Di,R]);s.useEffect(()=>{const e=setTimeout(async()=>{var e;if(j.length&&(null==_e?void 0:_e.length))for(const s of j)if((null==(e=s.stats)?void 0:e.googleWorkspaceEnabled)&&(!s.googleWorkspaceModules||0===s.googleWorkspaceModules.length))try{await Di(s.id),await new Promise(e=>setTimeout(e,1e3))}catch(i){}},3e3);return()=>clearTimeout(e)},[j,_e,Di]);const xi=async(e,i,s)=>{const n="ACTIVE"===s?"INACTIVE":"ACTIVE",r="ACTIVE"===n?"activer":"d√©sactiver";try{const s=await C.put(`/api/organizations/${e}`,{status:n});s.success?(R.success(`Organisation "${i}" ${"ACTIVE"===n?"activ√©e":"d√©sactiv√©e"} avec succ√®s`),await ui()):R.error(s.message||"Erreur lors de la "+("activer"===r?"activation":"d√©sactivation"))}catch(o){const e=o instanceof Error?o.message:"Erreur de "+("activer"===r?"activation":"d√©sactivation");R.error(e)}},bi=async(e,i)=>{try{const s=await C.delete(`/api/organizations/${e}`);s.success?(R.success(`Organisation "${i}" supprim√©e avec succ√®s`),await ui()):R.error(s.message||"Erreur lors de la suppression")}catch(s){const e=s;if(409===e.status)R.error(e.message||"Impossible de supprimer cette organisation tant que des donn√©es associ√©es existent.");else{const i=e.message||"Erreur de suppression";R.error(i)}}},hi=async e=>{try{$(!0);const i=["marketplace","partner_portal","my_leads","devis1minute_billing"],s=await C.get(`/api/modules?organizationId=${e}`);if(s.success){const e=(s.data||[]).filter(e=>i.includes(e.feature||""));W(e)}}catch(i){const e=i instanceof Error?i.message:"Erreur lors du chargement des modules";R.error(e)}finally{$(!1)}},Ei=i=>({gmail:e.jsxDEV(Ce,{style:{color:"#EA4335"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:731,columnNumber:14},void 0),calendar:e.jsxDEV(De,{style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:732,columnNumber:17},void 0),drive:e.jsxDEV(Ne,{style:{color:"#34A853"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:733,columnNumber:14},void 0),meet:e.jsxDEV(pe,{style:{color:"#FBBC04"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:734,columnNumber:13},void 0),docs:e.jsxDEV(Ne,{style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:735,columnNumber:13},void 0),sheets:e.jsxDEV(ge,{style:{color:"#34A853"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:736,columnNumber:15},void 0),voice:e.jsxDEV(q,{style:{color:"#EA4335"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:737,columnNumber:14},void 0)}[i]||e.jsxDEV(Q,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:739,columnNumber:32},void 0)),fi=s.useMemo(()=>_e&&0!==_e.length&&V.length?be(V,_e).filter(e=>{var i;return 0!==e.modules.length&&("googleWorkspace"!==e.id||!z||(z.googleWorkspaceEnabled||(null==(i=z.stats)?void 0:i.googleWorkspaceEnabled)))}):[],[_e,V,z]);s.useEffect(()=>{if(fi.length>0){const e={};fi.forEach(i=>{e[i.id]=!0}),Le(e)}},[fi]);const Vi=s.useCallback(e=>{Le(i=>({...i,[e]:!i[e]}))},[]),Ai=s.useCallback((i,s)=>{switch(i){case"admin":return e.jsxDEV(ie,{style:{color:"#f5222d",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:805,columnNumber:16},void 0);case"forms":return e.jsxDEV(ee,{style:{color:"#52c41a",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:807,columnNumber:16},void 0);case"technical":return e.jsxDEV(Z,{style:{color:"#fa8c16",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:809,columnNumber:16},void 0);case"googleWorkspace":return e.jsxDEV(M,{style:{color:"#4285f4",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:811,columnNumber:16},void 0);case"devis1minuteAdmin":return e.jsxDEV(Y,{style:{color:"#722ed1",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:813,columnNumber:16},void 0);case"devis1minute":return e.jsxDEV(Y,{style:{color:"#ff7a00",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:815,columnNumber:16},void 0);default:return e.jsxDEV(Q,{style:{color:"#722ed1",fontSize:"20px"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:818,columnNumber:16},void 0)}},[]),ki=s.useCallback((i,s,n,r,o,t=!0)=>{const m=$e[r];return e.jsxDEV("div",{className:"border rounded-lg overflow-hidden "+(t?"border-gray-200":"border-red-300 bg-red-50"),children:[e.jsxDEV("button",{onClick:()=>Vi(r),className:"w-full flex items-center justify-between p-4 transition-colors "+(t?"bg-gray-50 hover:bg-gray-100":"bg-red-50 hover:bg-red-100"),children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[s,e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("div",{className:"font-semibold text-lg "+(t?"":"text-red-600"),children:[i,!t&&e.jsxDEV("span",{className:"ml-2 text-xs text-red-500",children:"(D√âSACTIV√âE)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:851,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:849,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm "+(t?"text-gray-600":"text-red-500"),children:o},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:853,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:848,columnNumber:13},void 0),e.jsxDEV(b,{count:n.length,style:{backgroundColor:t?"#52c41a":"#f5222d"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:857,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:846,columnNumber:11},void 0),m?e.jsxDEV(se,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:862,columnNumber:21},void 0):e.jsxDEV(ne,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:862,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:838,columnNumber:9},void 0),m&&e.jsxDEV("div",{className:"p-4 space-y-3 bg-white",children:n.length>0?n.map(i=>{const s=Xe.find(e=>e.id===i.id),n=(null==s?void 0:s.isActiveForOrg)||!1;return e.jsxDEV("div",{className:`p-4 border rounded-lg transition-all ${t?n?"border-green-500 bg-green-50":"border-gray-200 bg-white":"border-red-200 bg-red-50 opacity-60"} hover:shadow-md`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[i.icon?e.jsxDEV("span",{className:"text-2xl "+(t?"":"text-gray-400"),children:i.icon},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:889,columnNumber:27},void 0):e.jsxDEV(Q,{className:"text-2xl "+(t?"text-gray-500":"text-gray-400")},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:893,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-semibold text-lg "+(t?"":"text-gray-500"),children:[i.label||i.name,!t&&e.jsxDEV("span",{className:"ml-2 text-xs text-red-500",children:"(Section d√©sactiv√©e)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:899,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:896,columnNumber:27},void 0),i.description&&e.jsxDEV("div",{className:"text-sm mt-1 "+(t?"text-gray-600":"text-gray-400"),children:i.description},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:903,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xs mt-1 text-gray-400",children:["Cl√©: ",i.feature||i.key]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:907,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:895,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:887,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(b,{status:t?n?"success":"default":"error",text:t?n?"Actif":"Inactif":"Section d√©sactiv√©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:913,columnNumber:25},void 0),e.jsxDEV(p,{checked:t&&n,onChange:e=>t&&pi(i,e),disabled:!t,checkedChildren:"ON",unCheckedChildren:"OFF"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:917,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:912,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:886,columnNumber:21},void 0)},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:876,columnNumber:19},void 0)}):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"Aucun module dans cette cat√©gorie"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:930,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:867,columnNumber:11},void 0)]},r,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:834,columnNumber:7},void 0)},[Xe,$e,Vi,pi]),Oi=e=>{G(e),ke(!0),vi(e.id)},Si=e=>{G(e),Be.setFieldsValue({name:e.name,description:e.description,website:e.website,phone:e.phone,address:e.address}),Ve(!0)},Mi=e=>{G(e),Se(!0)},Ri=e=>{G(e),Ni(e.id),we(!0)},ji=e=>{G(e),je(!0)},Ui=e=>{(async e=>{G(e),await hi(e.id),Fe(!0)})(e)},yi=i=>e.jsxDEV(_,{color:"ACTIVE"===i?"green":"red",icon:"ACTIVE"===i?e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:982,columnNumber:35},void 0):e.jsxDEV(te,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:982,columnNumber:61},void 0),style:{borderRadius:"4px",fontWeight:500},children:"ACTIVE"===i?"Actif":"Inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:980,columnNumber:5},void 0),wi=[{title:"Organisation",dataIndex:"name",key:"name",render:(i,s)=>e.jsxDEV(f,{direction:"vertical",size:0,children:[e.jsxDEV(We,{strong:!0,style:{fontSize:"14px"},children:ze(i,35)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:996,columnNumber:11},void 0),s.description&&e.jsxDEV(We,{type:"secondary",style:{fontSize:"12px"},children:Pe(s.description,55)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1e3,columnNumber:13},void 0),s.website&&e.jsxDEV(We,{type:"secondary",style:{fontSize:"11px"},children:["üåê ",s.website]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1005,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:995,columnNumber:9},void 0)},{title:"Statut",dataIndex:"status",key:"status",width:120,render:e=>yi(e)},{title:"Utilisateurs",key:"users",width:120,render:(i,s)=>{var n;return e.jsxDEV(f,{children:[e.jsxDEV(D,{style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1025,columnNumber:11},void 0),e.jsxDEV(We,{strong:!0,children:(null==(n=s.stats)?void 0:n.totalUsers)||0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1026,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1024,columnNumber:9},void 0)}},{title:"Modules CRM",key:"modules",width:120,render:(i,s)=>{const n=B[s.id];return void 0===n?e.jsxDEV(f,{children:[e.jsxDEV(o,{size:"small"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1042,columnNumber:15},void 0),e.jsxDEV(We,{type:"secondary",children:"Chargement..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1043,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1041,columnNumber:13},void 0):e.jsxDEV(f,{children:[e.jsxDEV(Q,{style:{color:n>0?"#52c41a":"#d9d9d9"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1051,columnNumber:13},void 0),e.jsxDEV(We,{strong:!0,style:{color:n>0?"#52c41a":"#999"},children:n},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1052,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1050,columnNumber:11},void 0)}},{title:"Google Workspace",key:"googleWorkspace",width:150,render:(i,s)=>{var n,r,o,t;return e.jsxDEV(f,{direction:"vertical",size:0,children:[e.jsxDEV(b,{status:(null==(n=s.stats)?void 0:n.googleWorkspaceEnabled)?"success":"default",text:e.jsxDEV(We,{style:{fontWeight:(null==(r=s.stats)?void 0:r.googleWorkspaceEnabled)?600:400,color:(null==(o=s.stats)?void 0:o.googleWorkspaceEnabled)?"#52c41a":"#999"},children:(null==(t=s.stats)?void 0:t.googleWorkspaceEnabled)?"Activ√©":"D√©sactiv√©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1066,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1063,columnNumber:11},void 0),s.googleWorkspaceDomain&&e.jsxDEV(We,{type:"secondary",style:{fontSize:"11px"},children:s.googleWorkspaceDomain},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1075,columnNumber:13},void 0),s.googleWorkspaceModules.length>0&&e.jsxDEV(f,{size:2,children:[s.googleWorkspaceModules.slice(0,3).map(i=>{const s=Ge(i.key);return e.jsxDEV(E,{title:i.label,children:e.jsxDEV("span",{style:{color:s.color,fontSize:"14px",display:"inline-flex",alignItems:"center"},children:Ei(i.key)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1085,columnNumber:21},void 0)},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1084,columnNumber:19},void 0)}),s.googleWorkspaceModules.length>3&&e.jsxDEV(E,{title:e.jsxDEV("div",{children:[e.jsxDEV("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Modules suppl√©mentaires :"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1100,columnNumber:23},void 0),s.googleWorkspaceModules.slice(3).map(i=>e.jsxDEV("div",{children:["‚Ä¢ ",i.label]},i.id,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1104,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1099,columnNumber:21},void 0),children:e.jsxDEV(b,{count:s.googleWorkspaceModules.length-3,size:"small",style:{backgroundColor:"#4285F4",cursor:"help"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1109,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1097,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1080,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1062,columnNumber:9},void 0)}},{title:"Actions",key:"actions",width:240,render:(i,s)=>e.jsxDEV(f,{size:4,children:[e.jsxDEV(E,{title:"üìã Voir d√©tails complets",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(de,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1133,columnNumber:21},void 0),onClick:()=>Oi(s),style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1131,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1130,columnNumber:11},void 0),si&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{title:`‚ö° ${"ACTIVE"===s.status?"D√©sactiver":"Activer"} l'organisation`,children:e.jsxDEV(le,{title:("ACTIVE"===s.status?"D√©sactiver":"Activer")+" cette organisation ?",description:`L'organisation sera ${"ACTIVE"===s.status?"d√©sactiv√©e":"activ√©e"}.`,onConfirm:()=>xi(s.id,s.name,s.status),okText:"ACTIVE"===s.status?"D√©sactiver":"Activer",cancelText:"Annuler",okButtonProps:{type:"ACTIVE"===s.status?"default":"primary"},children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(te,{style:{color:"ACTIVE"===s.status?"#ff4d4f":"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1154,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1152,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1142,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1141,columnNumber:15},void 0),e.jsxDEV(E,{title:"‚úèÔ∏è Modifier les informations",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(ce,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1164,columnNumber:25},void 0),onClick:()=>Si(s),style:{color:"#722ed1"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1162,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1161,columnNumber:15},void 0),e.jsxDEV(E,{title:"üîó Configuration Google Workspace",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(M,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1173,columnNumber:25},void 0),onClick:()=>Mi(s),style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1171,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1170,columnNumber:15},void 0),e.jsxDEV(E,{title:"üöÄ Forcer activation modules Google Workspace (DEBUG)",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(Y,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1183,columnNumber:25},void 0),onClick:()=>Di(s.id),style:{color:"#ff4d4f"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1181,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1180,columnNumber:15},void 0),e.jsxDEV(E,{title:"üìû Configuration Telnyx",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(q,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1192,columnNumber:25},void 0),onClick:()=>ji(s),style:{color:"#FF6B6B"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1190,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1189,columnNumber:15},void 0),e.jsxDEV(E,{title:"üß© G√©rer les modules CRM",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(ae,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1201,columnNumber:25},void 0),onClick:()=>Ri(s),style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1199,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1198,columnNumber:15},void 0),e.jsxDEV(E,{title:"üöÄ Activer Devis1Minute",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(Y,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1210,columnNumber:25},void 0),onClick:()=>Ui(s),style:{color:"#ff7a00"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1208,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1207,columnNumber:15},void 0),e.jsxDEV(le,{title:"‚ö†Ô∏è Supprimer cette organisation ?",description:"Cette action est irr√©versible et supprimera toutes les donn√©es associ√©es.",onConfirm:()=>bi(s.id,s.name),okText:"üóëÔ∏è Supprimer",cancelText:"Annuler",okButtonProps:{danger:!0},children:e.jsxDEV(E,{title:"üóëÔ∏è Supprimer d√©finitivement",children:e.jsxDEV(a,{type:"text",icon:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1227,columnNumber:27},void 0),danger:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1225,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1224,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1216,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1140,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1129,columnNumber:9},void 0)}],zi=i=>{var s;const n=i.googleWorkspaceEnabled||(null==(s=i.stats)?void 0:s.googleWorkspaceEnabled);return e.jsxDEV(f,{direction:"vertical",size:8,style:{width:"100%"},children:[e.jsxDEV(a,{type:"primary",icon:e.jsxDEV(de,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1246,columnNumber:17},void 0),block:!0,onClick:()=>Oi(i),children:"Voir les d√©tails"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1244,columnNumber:9},void 0),si&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(a,{icon:e.jsxDEV(ce,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1256,columnNumber:21},void 0),block:!0,onClick:()=>Si(i),children:"Modifier l'organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1255,columnNumber:13},void 0),e.jsxDEV(a,{icon:e.jsxDEV(ae,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1264,columnNumber:21},void 0),block:!0,onClick:()=>Ri(i),children:"Modules CRM"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1263,columnNumber:13},void 0),e.jsxDEV(a,{icon:e.jsxDEV(M,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1272,columnNumber:21},void 0),block:!0,onClick:()=>Mi(i),children:"Google Workspace"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1271,columnNumber:13},void 0),!n&&e.jsxDEV(a,{icon:e.jsxDEV(Y,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1281,columnNumber:23},void 0),block:!0,onClick:()=>Ci(i),children:"Activer Google Workspace"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1280,columnNumber:15},void 0),e.jsxDEV(a,{icon:e.jsxDEV(q,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1290,columnNumber:21},void 0),block:!0,onClick:()=>ji(i),children:"Configuration Telnyx"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1289,columnNumber:13},void 0),e.jsxDEV(a,{icon:e.jsxDEV(Y,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1298,columnNumber:21},void 0),block:!0,onClick:()=>Ui(i),children:"Devis1Minute"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1297,columnNumber:13},void 0),e.jsxDEV(le,{title:("ACTIVE"===i.status?"D√©sactiver":"Activer")+" cette organisation ?",onConfirm:()=>xi(i.id,i.name,i.status),okText:"ACTIVE"===i.status?"D√©sactiver":"Activer",cancelText:"Annuler",okButtonProps:{type:"ACTIVE"===i.status?"default":"primary"},children:e.jsxDEV(a,{icon:e.jsxDEV(te,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1313,columnNumber:23},void 0),block:!0,children:"ACTIVE"===i.status?"D√©sactiver":"Activer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1312,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1305,columnNumber:13},void 0),e.jsxDEV(le,{title:"Supprimer cette organisation ?",description:"Cette action est irr√©versible et supprimera toutes les donn√©es associ√©es.",onConfirm:()=>bi(i.id,i.name),okText:"Supprimer",cancelText:"Annuler",okButtonProps:{danger:!0},children:e.jsxDEV(a,{icon:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1329,columnNumber:23},void 0),block:!0,danger:!0,children:"Supprimer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1328,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1320,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1254,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1243,columnNumber:7},void 0)};return s.useEffect(()=>{ui()},[ui]),e.jsxDEV("div",{style:{padding:ri?"16px 12px":"32px",backgroundColor:"#f7f9fc",minHeight:"100%",transition:"padding 0.2s ease-in-out"},children:[e.jsxDEV("div",{style:{maxWidth:1280,margin:"0 auto",width:"100%"},children:[e.jsxDEV("div",{style:{display:"flex",flexDirection:ri?"column":"row",alignItems:ri?"flex-start":"center",justifyContent:"space-between",gap:16,marginBottom:ri?16:24},children:[e.jsxDEV(f,{align:"center",size:12,children:[e.jsxDEV(re,{style:{fontSize:ri?24:28,color:"#1f2937"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1498,columnNumber:13},void 0),e.jsxDEV(Te,{level:2,style:{margin:0,fontSize:ri?22:28},children:"Gestion des Organisations"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1499,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1497,columnNumber:11},void 0),si&&e.jsxDEV(a,{type:"primary",icon:e.jsxDEV(L,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1507,columnNumber:21},void 0),size:ri?"middle":"large",onClick:()=>Ee(!0),style:{width:ri?"100%":"auto"},children:"Nouvelle Organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1505,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1487,columnNumber:9},void 0),e.jsxDEV(l,{gutter:[16,16],style:{marginBottom:ri?12:24},children:[e.jsxDEV(c,{xs:24,sm:12,md:12,lg:6,children:e.jsxDEV(u,{bodyStyle:{padding:ri?16:20},style:{borderRadius:14},children:e.jsxDEV(v,{title:"Total Organisations",value:j.length,prefix:e.jsxDEV(re,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1523,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1520,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1519,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1518,columnNumber:11},void 0),e.jsxDEV(c,{xs:24,sm:12,md:12,lg:6,children:e.jsxDEV(u,{bodyStyle:{padding:ri?16:20},style:{borderRadius:14},children:e.jsxDEV(v,{title:"Organisations Actives",value:j.filter(e=>"ACTIVE"===e.status).length,prefix:e.jsxDEV(N,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1532,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1529,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1528,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1527,columnNumber:11},void 0),e.jsxDEV(c,{xs:24,sm:12,md:12,lg:6,children:e.jsxDEV(u,{bodyStyle:{padding:ri?16:20},style:{borderRadius:14},children:e.jsxDEV(v,{title:"Avec Google Workspace",value:j.filter(e=>e.googleWorkspaceEnabled).length,prefix:e.jsxDEV(M,{style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1541,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1538,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1537,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1536,columnNumber:11},void 0),e.jsxDEV(c,{xs:24,sm:12,md:12,lg:6,children:e.jsxDEV(u,{bodyStyle:{padding:ri?16:20},style:{borderRadius:14},children:e.jsxDEV(v,{title:"Total Modules Actifs",value:Object.values(B).reduce((e,i)=>e+i,0),prefix:e.jsxDEV(Q,{style:{color:"#722ed1"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1550,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1546,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1545,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1517,columnNumber:9},void 0),e.jsxDEV(u,{className:"mb-4",style:{borderRadius:18,boxShadow:ri?"none":"0 12px 32px rgba(15, 23, 42, 0.08)"},bodyStyle:{padding:ri?16:20},children:e.jsxDEV(l,{gutter:[12,12],align:"middle",children:[e.jsxDEV(c,{xs:24,md:12,lg:10,children:e.jsxDEV(P,{placeholder:"Rechercher par nom ou description...",value:ti,onChange:di,prefix:e.jsxDEV(oe,{style:{color:"#666"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1570,columnNumber:25},void 0),allowClear:!0,size:ri?"middle":"large",style:{borderRadius:8}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1566,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1565,columnNumber:13},void 0),e.jsxDEV(c,{xs:24,sm:12,md:6,lg:6,children:e.jsxDEV(K,{placeholder:"Filtrer par statut",value:ei,onChange:ii,style:{width:"100%"},size:ri?"middle":"large",children:[e.jsxDEV(K.Option,{value:"all",children:e.jsxDEV(f,{children:[e.jsxDEV(Q,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1586,columnNumber:21},void 0),"Tous les statuts"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1585,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1584,columnNumber:17},void 0),e.jsxDEV(K.Option,{value:"ACTIVE",children:e.jsxDEV(f,{children:[e.jsxDEV(N,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1592,columnNumber:21},void 0),"Actives"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1591,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1590,columnNumber:17},void 0),e.jsxDEV(K.Option,{value:"INACTIVE",children:e.jsxDEV(f,{children:[e.jsxDEV(te,{style:{color:"#f5222d"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1598,columnNumber:21},void 0),"Inactives"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1597,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1596,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1577,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1576,columnNumber:13},void 0),e.jsxDEV(c,{xs:24,sm:12,md:6,lg:5,children:e.jsxDEV(a,{icon:e.jsxDEV(d,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1606,columnNumber:23},void 0),onClick:ui,loading:y,size:ri?"middle":"large",style:{width:"100%"},children:"Actualiser"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1605,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1604,columnNumber:13},void 0),e.jsxDEV(c,{xs:24,md:6,lg:3,children:e.jsxDEV(We,{type:"secondary",style:{display:"block",textAlign:ri?"left":"right"},children:[li.length," r√©sultat",li.length>1?"s":""]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1616,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1615,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1564,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1556,columnNumber:9},void 0),ri?li.length>0?e.jsxDEV(f,{direction:"vertical",size:16,style:{width:"100%"},children:li.map(i=>{var s,n,r,o;const t=B[i.id],m=void 0!==t?t:(null==(s=i.stats)?void 0:s.activeModules)||0,a=i.googleWorkspaceEnabled||(null==(n=i.stats)?void 0:n.googleWorkspaceEnabled),d={display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderRadius:10,backgroundColor:"#f5f5f5",flex:oi?"1 1 45%":"1 1 48%",minWidth:140};return e.jsxDEV(u,{size:"small",className:"shadow-sm",style:{borderRadius:12},bodyStyle:{padding:16},children:e.jsxDEV(f,{direction:"vertical",size:16,style:{width:"100%"},children:[e.jsxDEV("div",{className:"flex flex-wrap items-start gap-3 justify-between",children:[e.jsxDEV(f,{direction:"vertical",size:8,style:{flex:"1 1 240px"},children:[e.jsxDEV(f,{size:8,wrap:!0,children:[e.jsxDEV(We,{strong:!0,style:{fontSize:16},children:ze(i.name,60)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1373,columnNumber:17},void 0),yi(i.status)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1372,columnNumber:15},void 0),i.description&&e.jsxDEV(We,{type:"secondary",children:Pe(i.description,90)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1379,columnNumber:17},void 0),i.website&&e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:["üåê ",i.website]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1384,columnNumber:17},void 0),i.googleWorkspaceDomain&&e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:["Domaine Google Workspace : ",i.googleWorkspaceDomain]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1389,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1371,columnNumber:13},void 0),e.jsxDEV(f,{size:12,direction:"vertical",style:{minWidth:140},children:[e.jsxDEV("div",{style:{textAlign:"right"},children:[e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:"Modules actifs"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1397,columnNumber:17},void 0),e.jsxDEV("div",{style:{fontWeight:700,fontSize:20,color:m>0?"#52c41a":"#999"},children:m},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1398,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1396,columnNumber:15},void 0),e.jsxDEV(b,{status:a?"success":"default",text:a?"Google Workspace activ√©":"Google Workspace inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1402,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1395,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1370,columnNumber:11},void 0),e.jsxDEV(f,{size:12,wrap:!0,children:[e.jsxDEV("div",{style:d,children:[e.jsxDEV(D,{style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1411,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1413,columnNumber:17},void 0),e.jsxDEV("div",{style:{fontWeight:600,fontSize:16},children:(null==(r=i.stats)?void 0:r.totalUsers)||0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1414,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1412,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1410,columnNumber:13},void 0),e.jsxDEV("div",{style:d,children:[e.jsxDEV(re,{style:{color:"#722ed1"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1420,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:"R√¥les"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1422,columnNumber:17},void 0),e.jsxDEV("div",{style:{fontWeight:600,fontSize:16},children:(null==(o=i.stats)?void 0:o.totalRoles)||0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1423,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1421,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1419,columnNumber:13},void 0),e.jsxDEV("div",{style:d,children:[e.jsxDEV(Q,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1429,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:"Modules CRM"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1431,columnNumber:17},void 0),e.jsxDEV("div",{style:{fontWeight:600,fontSize:16},children:m},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1432,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1430,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1428,columnNumber:13},void 0),e.jsxDEV("div",{style:d,children:[e.jsxDEV(M,{style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1438,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(We,{type:"secondary",style:{fontSize:12},children:"Google Workspace"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1440,columnNumber:17},void 0),e.jsxDEV("div",{style:{fontWeight:600,fontSize:16},children:a?"Activ√©":"Inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1441,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1439,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1437,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1409,columnNumber:11},void 0),i.googleWorkspaceModules.length>0&&e.jsxDEV(f,{size:8,wrap:!0,children:i.googleWorkspaceModules.map(i=>{const s=Ge(i.key);return e.jsxDEV(_,{icon:Ei(i.key),color:s.color,style:{borderRadius:16,marginRight:0},children:i.label},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1453,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1449,columnNumber:13},void 0),zi(i)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1369,columnNumber:9},void 0)},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1362,columnNumber:7},void 0)})},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1625,columnNumber:13},void 0):e.jsxDEV(u,{style:{borderRadius:18},children:e.jsxDEV(me,{description:"Aucune organisation ne correspond √† votre recherche",image:me.PRESENTED_IMAGE_SIMPLE},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1630,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1629,columnNumber:13},void 0):e.jsxDEV(u,{bodyStyle:{padding:0},style:{borderRadius:20,overflow:"hidden"},children:e.jsxDEV(k,{columns:wi,dataSource:li,rowKey:"id",loading:y,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,i)=>`${i[0]}-${i[1]} sur ${e} organisations`},scroll:{x:oi?960:1200}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1638,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1637,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1486,columnNumber:7},void 0),e.jsxDEV(F,{title:"Nouvelle Organisation",open:he,onCancel:()=>{Ee(!1),qe.resetFields()},footer:null,width:800,children:e.jsxDEV(S,{form:qe,layout:"vertical",onFinish:async e=>{try{const i={name:e.name,description:""===e.description?void 0:e.description,phone:""===e.phone?void 0:e.phone,address:""===e.address?void 0:e.address};e.website&&""!==e.website.trim()&&(i.website=e.website.startsWith("http")?e.website:`https://${e.website}`);const s=await C.post("/api/organizations",i);s.success?(R.success("Organisation cr√©√©e avec succ√®s"),Ee(!1),qe.resetFields(),await ui()):R.error(s.message||"Erreur lors de la cr√©ation")}catch(i){const e=i instanceof Error?i.message:"Erreur de cr√©ation";R.error(e)}},className:"mt-4",children:[e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"name",label:"Nom de l'organisation",rules:[{required:!0,message:"Le nom est requis"},{min:2,message:"Minimum 2 caract√®res"},{max:100,message:"Maximum 100 caract√®res"}],children:e.jsxDEV(P,{placeholder:"Nom de l'organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1682,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1673,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1672,columnNumber:13},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"website",label:"Site web",children:e.jsxDEV(P,{placeholder:"exemple.com (https:// sera ajout√© automatiquement)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1690,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1686,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1685,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1671,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"description",label:"Description",rules:[{max:500,message:"Maximum 500 caract√®res"}],children:e.jsxDEV(P.TextArea,{placeholder:"Description de l'organisation",rows:3},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1700,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1695,columnNumber:11},void 0),e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"phone",label:"T√©l√©phone",children:e.jsxDEV(P,{placeholder:"+32 123 456 789"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1712,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1708,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1707,columnNumber:13},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"address",label:"Adresse",rules:[{max:200,message:"Maximum 200 caract√®res"}],children:e.jsxDEV(P,{placeholder:"Adresse compl√®te"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1721,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1716,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1715,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1706,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(a,{onClick:()=>Ee(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1727,columnNumber:13},void 0),e.jsxDEV(a,{type:"primary",htmlType:"submit",children:"Cr√©er l'Organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1730,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1726,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1665,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1655,columnNumber:7},void 0),e.jsxDEV(F,{title:"Modifier Organisation",open:fe,onCancel:()=>{Ve(!1),Be.resetFields()},footer:null,width:800,children:e.jsxDEV(S,{form:Be,layout:"vertical",onFinish:async e=>{if(z)try{const i={name:e.name,description:""===e.description?void 0:e.description,phone:""===e.phone?void 0:e.phone,address:""===e.address?void 0:e.address};e.website&&""!==e.website.trim()&&(i.website=e.website.startsWith("http")?e.website:`https://${e.website}`);const s=await C.put(`/api/organizations/${z.id}`,i);s.success?(R.success("Organisation modifi√©e avec succ√®s"),Ve(!1),Be.resetFields(),await ui()):R.error(s.message||"Erreur lors de la modification")}catch(i){const e=i instanceof Error?i.message:"Erreur de modification";R.error(e)}},className:"mt-4",children:[e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"name",label:"Nom de l'organisation",rules:[{required:!0,message:"Le nom est requis"},{min:2,message:"Minimum 2 caract√®res"},{max:100,message:"Maximum 100 caract√®res"}],children:e.jsxDEV(P,{placeholder:"Nom de l'organisation"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1765,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1756,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1755,columnNumber:13},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"website",label:"Site web",children:e.jsxDEV(P,{placeholder:"exemple.com (https:// sera ajout√© automatiquement)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1773,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1769,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1768,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1754,columnNumber:11},void 0),e.jsxDEV(S.Item,{name:"description",label:"Description",rules:[{max:500,message:"Maximum 500 caract√®res"}],children:e.jsxDEV(P.TextArea,{placeholder:"Description de l'organisation",rows:3},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1783,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1778,columnNumber:11},void 0),e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"phone",label:"T√©l√©phone",children:e.jsxDEV(P,{placeholder:"+32 123 456 789"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1795,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1791,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1790,columnNumber:13},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(S.Item,{name:"address",label:"Adresse",rules:[{max:200,message:"Maximum 200 caract√®res"}],children:e.jsxDEV(P,{placeholder:"Adresse compl√®te"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1804,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1799,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1798,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1789,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(a,{onClick:()=>Ve(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1810,columnNumber:13},void 0),e.jsxDEV(a,{type:"primary",htmlType:"submit",children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1813,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1809,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1748,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1738,columnNumber:7},void 0),e.jsxDEV(F,{title:"D√©tails de l'Organisation",open:Ae,onCancel:()=>ke(!1),footer:[e.jsxDEV(a,{onClick:()=>ke(!1),children:"Fermer"},"close",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1826,columnNumber:11},void 0)],width:900,children:z&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(u,{title:"Informations G√©n√©rales",children:e.jsxDEV(f,{direction:"vertical",style:{width:"100%"},children:[e.jsxDEV("div",{children:[e.jsxDEV(We,{strong:!0,children:"Nom: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1839,columnNumber:23},void 0),e.jsxDEV(We,{children:z.name},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1840,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1838,columnNumber:21},void 0),z.description&&e.jsxDEV("div",{children:[e.jsxDEV(We,{strong:!0,children:"Description: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1844,columnNumber:25},void 0),e.jsxDEV(We,{children:z.description},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1845,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1843,columnNumber:23},void 0),z.website&&e.jsxDEV("div",{children:[e.jsxDEV(We,{strong:!0,children:"Site web: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1850,columnNumber:25},void 0),e.jsxDEV(We,{copyable:!0,children:z.website},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1851,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1849,columnNumber:23},void 0),z.phone&&e.jsxDEV("div",{children:[e.jsxDEV(We,{strong:!0,children:"T√©l√©phone: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1856,columnNumber:25},void 0),e.jsxDEV(We,{copyable:!0,children:z.phone},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1857,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1855,columnNumber:23},void 0),z.address&&e.jsxDEV("div",{children:[e.jsxDEV(We,{strong:!0,children:"Adresse: "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1862,columnNumber:25},void 0),e.jsxDEV(We,{children:z.address},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1863,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1861,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1837,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1836,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1835,columnNumber:15},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(u,{title:"Statistiques",children:[e.jsxDEV(l,{gutter:16,children:[e.jsxDEV(c,{span:12,children:e.jsxDEV(v,{title:"Utilisateurs",value:(null==(r=z.stats)?void 0:r.totalUsers)||0,prefix:e.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1877,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1874,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1873,columnNumber:21},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(v,{title:"R√¥les",value:(null==(t=z.stats)?void 0:t.totalRoles)||0,prefix:e.jsxDEV(re,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1884,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1881,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1880,columnNumber:21},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(v,{title:"Modules Actifs",value:(null==(m=z.stats)?void 0:m.activeModules)||0,prefix:e.jsxDEV(Q,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1891,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1888,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1887,columnNumber:21},void 0),e.jsxDEV(c,{span:12,children:e.jsxDEV(v,{title:"Google Workspace",value:(null==(g=z.stats)?void 0:g.googleWorkspaceEnabled)?"Activ√©":"D√©sactiv√©",prefix:e.jsxDEV(M,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1898,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1895,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1894,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1872,columnNumber:19},void 0),e.jsxDEV("div",{style:{marginTop:16,textAlign:"center"},children:e.jsxDEV(a,{type:"dashed",size:"small",icon:e.jsxDEV(d,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1908,columnNumber:29},void 0),onClick:async()=>{await ui(),R.success("Statistiques actualis√©es")},children:"Actualiser les statistiques"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1905,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1904,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1871,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1870,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1834,columnNumber:13},void 0),Xe.length>0&&e.jsxDEV(u,{title:"Modules CRM Actifs",children:e.jsxDEV(f,{wrap:!0,children:Xe.map(i=>{return e.jsxDEV(_,{icon:(s=i.key,{leads:e.jsxDEV(D,{style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:745,columnNumber:14},void 0),customers:e.jsxDEV(re,{style:{color:"#52c41a"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:746,columnNumber:18},void 0),projects:e.jsxDEV(ge,{style:{color:"#722ed1"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:747,columnNumber:17},void 0),tasks:e.jsxDEV(N,{style:{color:"#fa8c16"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:748,columnNumber:14},void 0),documents:e.jsxDEV(Ne,{style:{color:"#13c2c2"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:749,columnNumber:18},void 0),reports:e.jsxDEV(ve,{style:{color:"#eb2f96"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:750,columnNumber:16},void 0)}[s]||e.jsxDEV(Q,{style:{color:"#666"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:752,columnNumber:32},void 0)),color:"blue",children:i.label||i.name},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1926,columnNumber:21},void 0);var s})},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1924,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1923,columnNumber:15},void 0),z.googleWorkspaceModules.length>0&&e.jsxDEV(u,{title:"Modules Google Workspace Actifs",children:e.jsxDEV(f,{wrap:!0,children:z.googleWorkspaceModules.map(i=>e.jsxDEV(_,{icon:Ei(i.key),color:"blue",children:i.label},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1942,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1940,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1939,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1833,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1821,columnNumber:7},void 0),e.jsxDEV(F,{title:e.jsxDEV(f,{children:[e.jsxDEV(M,{style:{color:"#4285F4"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1961,columnNumber:13},void 0),"Google Workspace - ",null==z?void 0:z.name]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1960,columnNumber:11},void 0),open:Oe,onCancel:()=>Se(!1),footer:[e.jsxDEV(a,{onClick:()=>Se(!1),children:"Fermer"},"close",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1968,columnNumber:11},void 0)],width:1e3,children:z&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(Re,{organizationId:z.id,onGoogleWorkspaceActivated:()=>Di(z.id)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1976,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1975,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1958,columnNumber:7},void 0),e.jsxDEV(F,{title:e.jsxDEV(f,{children:[e.jsxDEV(ae,{style:{color:"#1890ff"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1988,columnNumber:13},void 0),"Gestion des modules - ",null==z?void 0:z.name]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1987,columnNumber:11},void 0),open:Ue,onCancel:()=>we(!1),footer:[e.jsxDEV(a,{onClick:()=>we(!1),children:"Fermer"},"close",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1995,columnNumber:11},void 0)],width:800,children:z&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(O,{message:"Interface simplifi√©e de gestion des modules",description:"Utilisez les interrupteurs pour activer ou d√©sactiver directement chaque module pour cette organisation. Les modules activ√©s seront visibles dans le menu de navigation des utilisateurs.",type:"info",showIcon:!0,className:"mb-4"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2003,columnNumber:13},void 0),Je?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2013,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2012,columnNumber:15},void 0):e.jsxDEV("div",{className:"space-y-4",children:_e&&0!==_e.length?e.jsxDEV("div",{className:"space-y-4",children:fi.map(e=>ki(e.title,Ai(e.id,e.iconName),e.modules,e.id,e.description||`Modules de la section ${e.title}`,e.active))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2040,columnNumber:21},void 0):e.jsxDEV(O,{message:"Aucun module disponible",description:"Aucun module n'est configur√© dans le syst√®me.",type:"warning",showIcon:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2029,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2016,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2002,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1985,columnNumber:7},void 0),e.jsxDEV(F,{title:e.jsxDEV(f,{children:[e.jsxDEV(Y,{style:{color:"#ff7a00"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2064,columnNumber:13},void 0),"Gestion Devis1Minute - ",null==z?void 0:z.name]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2063,columnNumber:11},void 0),open:Ie,onCancel:()=>Fe(!1),footer:[e.jsxDEV(a,{onClick:()=>Fe(!1),children:"Fermer"},"close",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2071,columnNumber:11},void 0)],width:800,children:z&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(O,{message:"Gestion des modules Devis1Minute",description:"Activez ou d√©sactivez individuellement chaque module Devis1Minute pour cette organisation. Les utilisateurs ne verront que les modules activ√©s.",type:"info",showIcon:!0,className:"mb-4"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2079,columnNumber:13},void 0),I?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV(o,{size:"large"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2089,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2088,columnNumber:15},void 0):e.jsxDEV("div",{className:"space-y-3",children:T.length>0?T.map(i=>{const s=i.isActiveForOrg||!1;return e.jsxDEV("div",{className:`p-4 border rounded-lg transition-all ${s?"border-orange-500 bg-orange-50":"border-gray-200 bg-white"} hover:shadow-md`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(Y,{className:"text-2xl "+(s?"text-orange-500":"text-gray-400")},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2106,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-semibold text-lg",children:i.label||i.name},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2110,columnNumber:31},void 0),i.description&&e.jsxDEV("div",{className:"text-sm text-gray-600 mt-1",children:i.description},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2112,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-xs text-gray-400 mt-1",children:["Feature: ",i.feature]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2114,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2109,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2105,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(b,{status:s?"success":"default",text:s?"Actif":"Inactif"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2120,columnNumber:29},void 0),e.jsxDEV(p,{checked:s,onChange:e=>(async(e,i)=>{if(z)try{const s=await C.patch("/api/modules/status",{moduleId:e.id,organizationId:z.id,active:i});s.success?(R.success(`Module ${i?"activ√©":"d√©sactiv√©"} avec succ√®s`),W(s=>s.map(s=>s.id===e.id?{...s,isActiveForOrg:i}:s)),await ui()):R.error(s.message||"Erreur lors de la mise √† jour")}catch(s){const e=s instanceof Error?s.message:"Erreur lors de la mise √† jour du module";R.error(e)}})(i,e),checkedChildren:"ON",unCheckedChildren:"OFF"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2124,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2119,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2104,columnNumber:25},void 0)},i.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2098,columnNumber:23},void 0)}):e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Y,{className:"text-4xl text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2137,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-500",children:"Aucun module Devis1Minute disponible"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2138,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400 mt-2",children:"Les modules doivent √™tre cr√©√©s par le Super Admin"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2139,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2136,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2092,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2078,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2061,columnNumber:7},void 0),e.jsxDEV(ye,{visible:Me,onClose:()=>je(!1),organizationId:(null==z?void 0:z.id)||"",organizationName:(null==z?void 0:z.name)||""},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:2151,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/admin/OrganizationsAdminPageNew.tsx",lineNumber:1478,columnNumber:5},void 0)};export{Ie as default};
