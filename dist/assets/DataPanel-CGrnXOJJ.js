import{j as e}from"./index-C0S0DpaX.js";import{r as a}from"./react-vendor-Al_k-ZB6.js";import{u as n}from"./useAuthenticatedApi-BbQI8SDU.js";import{u as r}from"./TreeBranchLeafWrapper-Bsu92XNs.js";import{N as t}from"./NodeTreeSelector-BPMc5QXk.js";import{u as i}from"./evalBridge-C5EkhzJm.js";import{F as s,s as l,T as o,a as c,an as m,B as u,I as d,aC as p,bk as f,aM as b,ab as v,$ as h,by as D,ao as N}from"./antd-vendor-zFcGztvE.js";import"./dnd-vendor-D0spq1w0.js";const{Title:x,Text:V}=o,C=[{value:"number",label:"Nombre"},{value:"text",label:"Texte"},{value:"boolean",label:"BoolÃ©en"},{value:"date",label:"Date"},{value:"currency",label:"Devise"},{value:"percentage",label:"Pourcentage"}],E=({treeId:o,nodeId:E,value:y,onChange:P,readOnly:g})=>{const{api:k}=n(),{enqueue:S}=i(),[T]=s.useForm(),[w,R]=l.useMessage(),[B,A]=a.useState(!1),O=a.useRef(!0),[j,M]=a.useState([]),[L,U]=a.useState(null),[$,F]=a.useState(null),[I,z]=a.useState(""),[W,K]=a.useState(!1),[q,_]=a.useState(""),[G,H]=a.useState({items:[]}),[Z,J]=a.useState({items:[]}),Q=a.useRef(0),X=a.useRef(null),[Y,ee]=a.useState("fixed"),[ae,ne]=a.useState(""),[re,te]=a.useState(null),[ie,se]=a.useState(!1),[le,oe]=a.useState([{key:"",type:"text",value:""}]),[ce,me]=a.useState(""),[ue,de]=a.useState(""),[pe,fe]=a.useState(!1),[be,ve]=a.useState(!1),he=a.useRef(null),[De,Ne]=a.useState(null);a.useEffect(()=>(O.current=!0,(async()=>{var e,a;try{A(!0);const n=await k.get(`/api/treebranchleaf/nodes/${E}`),r=(null==(a=null==(e=null==n?void 0:n.metadata)?void 0:e.capabilities)?void 0:a.datas)||[];if(r.length>0){const e=r[0];M(r),F(e.id),z(e.name||""),ee(e.config.sourceType||"fixed"),ne(e.config.fixedValue||""),null==P||P(e.config);try{const e=await k.get(`/api/treebranchleaf/trees/${o}/nodes/${E}/data`);e&&"string"==typeof e.usedVariableId&&U(e.usedVariableId)}catch{}}else{const e=await k.get(`/api/treebranchleaf/trees/${o}/nodes/${E}/data`);if(!O.current)return;const a={exposedKey:(null==e?void 0:e.exposedKey)||`var_${E.slice(0,4)}`,sourceType:(null==e?void 0:e.sourceType)||"fixed",fixedValue:(null==e?void 0:e.fixedValue)||"",sourceRef:(null==e?void 0:e.sourceRef)||"",displayFormat:(null==e?void 0:e.displayFormat)||"number",unit:(null==e?void 0:e.unit)||"",precision:(null==e?void 0:e.precision)??2,visibleToUser:Boolean(null==e?void 0:e.visibleToUser)};ee(a.sourceType),ne(a.fixedValue);const r={id:`data_${Date.now()}`,name:"DonnÃ©e 1",config:a};M([r]),F(r.id),z(r.name),e&&"string"==typeof e.usedVariableId&&U(e.usedVariableId);try{const e=(null==n?void 0:n.metadata)||{},a={...e,capabilities:{...e.capabilities,datas:[r]}};await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}`,{metadata:a})}catch{}null==P||P(a)}}catch{}finally{A(!1)}})(),()=>{O.current=!1}),[k,o,E,P,y,T]),a.useEffect(()=>{if($&&j.length>0){const e=j.find(e=>e.id===$);if(null==e?void 0:e.config){Date.now()-(Q.current||0)>3e3&&(ee(e.config.sourceType||"fixed"),ne(e.config.fixedValue||""),T.setFieldsValue(e.config))}}},[$,j,T,q]);const xe=a.useCallback(async e=>{var a;try{const t=await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}/data`,e);t&&"string"==typeof t.usedVariableId&&U(t.usedVariableId);if("fixed"===e.sourceType&&e.fixedValue||"tree"===e.sourceType&&(null==e?void 0:e.sourceRef))try{await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}`,{hasData:!0})}catch(n){}if($)try{const n=await k.get(`/api/treebranchleaf/nodes/${E}`),t=(null==n?void 0:n.metadata)||{},i=((null==(a=t.capabilities)?void 0:a.datas)||j||[]).map(a=>a.id===$?{...a,config:e,name:I}:a),s={...t,capabilities:{...t.capabilities,datas:i}};await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}`,{metadata:s}),M(i);try{const e=await k.get(`/api/treebranchleaf/trees/${o}/nodes/${E}/data`);if(e&&"string"==typeof e.usedVariableId&&U(e.usedVariableId),e){const a=e.sourceType||"fixed",n=e.fixedValue||"",r=e.sourceRef||"",t=Date.now(),i=t-(Q.current||0),s=X.current&&X.current!==r;if(i<5e3||s)return;if(a!==Y||n!==ae){ee(a),ne(n);const{sourceRef:r,...t}=e;T.setFieldsValue(t)}}}catch(r){}}catch{}null==P||P(e)}catch{w.error("Erreur de sauvegarde de la donnÃ©e")}},[k,o,E,P,$,j,I,T,Y,ae,q,w]),Ve=r(xe,400),Ce=a.useCallback((e,a)=>{Ve(a)},[Ve]),Ee=a.useCallback(e=>{Q.current=Date.now(),X.current=e.ref||null,ee("tree"),T.setFieldsValue({sourceRef:e.ref,sourceType:"tree"}),_(e.ref);const a={...T.getFieldsValue(),sourceRef:e.ref,sourceType:"tree"};Ve(a),K(!1)},[T,Ve]),ye=a.useCallback(e=>{he.current=e,ve(!0)},[]),Pe=a.useCallback(e=>{const a=he.current;null!=a&&(oe(n=>n.map((n,r)=>r===a?{...n,key:e.ref||""}:n)),ve(!1))},[]),ge=a.useCallback(async()=>{Q.current=Date.now();try{const[e,a]=await Promise.all([k.get("/api/treebranchleaf/reusables/conditions"),k.get("/api/treebranchleaf/reusables/formulas")]);H(e||{items:[]}),J(a||{items:[]})}catch(e){}K(!0)},[k,H,J]),ke=a.useCallback(e=>{var a,n;if(!e)return{text:"",key:void 0};const r=String(e.op||"").trim(),t=(null==(a=e.left)?void 0:a.ref)||(null==(n=e.left)?void 0:n.key),i=e.right,s=i&&"object"==typeof i&&void 0!==i.value?i.value:i,l="equals"===r||"=="===r?"=":"!="===r?"â‰ ":"greaterThan"===r||">"===r?">":"lessThan"===r||"<"===r?"<":">="===r?"â‰¥":"<="===r?"â‰¤":"contains"===r?"contient":"startsWith"===r?"commence par":"endsWith"===r?"se termine par":"isEmpty"===r?"est vide":"isNotEmpty"===r?"n'est pas vide":r||"?";let o="";null!=s&&l&&!["est vide","n'est pas vide"].includes(l)&&(o=` ${String(s)}`);const c=t||"";return{text:c?`${c} ${l}${o}`:l,key:t}},[]);a.useEffect(()=>{const e=q;if("tree"!==Y||"string"!=typeof e||!e.startsWith("condition:"))return void Ne(null);const a=e.replace("condition:","");let n=!1;return(async()=>{var e;try{const r=await k.get(`/api/treebranchleaf/reusables/conditions/${a}`),t=(null==r?void 0:r.conditionSet)||{},i=Array.isArray(null==t?void 0:t.branches)&&t.branches.length>0?t.branches[0]:void 0,s=ke(null==i?void 0:i.when),l=(null==i?void 0:i.actions)&&i.actions[0],o=(null==(e=null==t?void 0:t.fallback)?void 0:e.actions)&&t.fallback.actions[0],c=async e=>{if(!e)return{label:"â€”",isFormula:!1};const a="EVAL_FORMULA"===e.type&&e.formulaId?e.formulaId:"formula"===e.type&&e.formula?String(e.formula):void 0;if(a){const e=String(a).replace("formula:","");try{const a=await k.get(`/api/treebranchleaf/reusables/formulas/${e}`);return{label:`ðŸ§® Formule: ${(null==a?void 0:a.name)||e.slice(0,8)+"â€¦"}`,isFormula:!0,formulaId:e}}catch{return{label:`ðŸ§® Formule: ${e.slice(0,8)}â€¦`,isFormula:!0,formulaId:e}}}return void 0!==e.value?{label:String(e.value),isFormula:!1}:{label:"â€”",isFormula:!1}},[m,u]=await Promise.all([c(l),c(o)]);n||(Ne({expression:s.text,whenKey:s.key,thenLabel:m.label,elseLabel:u.label,thenIsFormula:m.isFormula,elseIsFormula:u.isFormula,thenFormulaId:m.formulaId,elseFormulaId:u.formulaId}),s.key&&oe(e=>e&&0!==e.length&&e[0].key?e:[{key:s.key,type:"text",value:""}]),me(m.label),de(u.label))}catch(r){n||Ne(null)}})(),()=>{n=!0}},[k,q,Y,ke]);const Se=a.useMemo(()=>e.jsxDEV(V,{type:"secondary",style:{fontSize:11},children:["ðŸŽ¯ Choisissez une ",e.jsxDEV("strong",{children:"valeur fixe"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:501,columnNumber:25},void 0),' (ex: "95%") ou sÃ©lectionnez depuis l\'',e.jsxDEV("strong",{children:"arborescence"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:501,columnNumber:91},void 0)," (champs, formules, conditions). Le formatage (unitÃ©, prÃ©cision) sera appliquÃ© automatiquement pour l'affichage final."]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:500,columnNumber:5},void 0),[]),Te=a.useCallback(e=>{if(null==e)return"â€”";const a=T.getFieldValue("displayFormat"),n=T.getFieldValue("unit"),r=T.getFieldValue("precision")??2;let t="";if("number"===a||"currency"===a||"number"==typeof e){const a="number"==typeof e?e:Number(e);t=Number.isNaN(a)?String(e):a.toLocaleString("fr-FR",{minimumFractionDigits:r,maximumFractionDigits:r})}else if("percentage"===a){const a="number"==typeof e?e:Number(e);t=Number.isNaN(a)?String(e):`${a.toFixed(r)} %`}else t=String("boolean"===a?Boolean(e):e);return n&&"percentage"!==a&&(t=`${t} ${n}`.trim()),t},[T]),we=a.useMemo(()=>{var e,a;const n=q||"";if(!n)return"";if(n.startsWith("condition:")){const a=n.slice(10),r=null==(e=G.items)?void 0:e.find(e=>e.id===a);return r?`ðŸ§© Condition: ${r.name}`:`ðŸ§© Condition: ${a.slice(0,8)}â€¦`}if(n.startsWith("formula:")){const e=n.slice(8),r=null==(a=Z.items)?void 0:a.find(a=>a.id===e);return r?`ðŸ§® Formule: ${r.name}`:`ðŸ§® Formule: ${e.slice(0,8)}â€¦`}return n.startsWith("@value.")?`ðŸ“Š Champ: ${n.replace("@value.","")}`:n},[q,G.items,Z.items]),Re=a.useMemo(()=>L&&"string"==typeof L&&L.length>0?L:we,[L,we]),Be=a.useCallback(()=>{window.confirm("Supprimer la donnÃ©e exposÃ©e ?\nCette action vide la configuration et dÃ©sactive la capacitÃ©.")&&(async()=>{try{await k.delete(`/api/treebranchleaf/trees/${o}/nodes/${E}/data`);const e={exposedKey:void 0,displayFormat:"number",unit:"",precision:2,visibleToUser:!1};T.setFieldsValue(e),null==P||P(e),w.success("DonnÃ©e supprimÃ©e")}catch(e){w.error("Impossible de supprimer la donnÃ©e")}})()},[k,T,E,P,o,w]);return e.jsxDEV(c,{size:"small",variant:"outlined",loading:B,children:[R,e.jsxDEV(x,{level:5,children:"ðŸ“Š DonnÃ©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:585,columnNumber:7},void 0),e.jsxDEV("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,flexWrap:"wrap"},children:[e.jsxDEV(V,{type:"secondary",children:"Instance:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:588,columnNumber:9},void 0),e.jsxDEV(m,{size:"small",style:{minWidth:220},value:$||void 0,options:j.map(e=>({value:e.id,label:e.name||"Sans nom"})),onChange:e=>{F(e);const a=j.find(a=>a.id===e);a&&(ee(a.config.sourceType||"fixed"),ne(a.config.fixedValue||""),z(a.name||""))},placeholder:"SÃ©lectionner une instance"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:589,columnNumber:9},void 0),e.jsxDEV(u,{size:"small",onClick:async()=>{var e;const a=`data_${Date.now()}_${Math.floor(1e3*Math.random())}`,n={id:a,name:`DonnÃ©e ${(j.length||0)+1}`,config:{exposedKey:`var_${E.slice(0,4)}`,sourceType:"fixed",fixedValue:"",sourceRef:"",displayFormat:"number",unit:"",precision:2,visibleToUser:!1}},r=[...j,n];M(r),F(a),ee(n.config.sourceType||"fixed"),ne(n.config.fixedValue||""),_(n.config.sourceRef||""),T.setFieldsValue(n.config),z(n.name);try{const a=await k.get(`/api/treebranchleaf/nodes/${E}`),r=(null==a?void 0:a.metadata)||{},t=(null==(e=r.capabilities)?void 0:e.datas)||[],i={...r,capabilities:{...r.capabilities,datas:[...t,n]}};await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}`,{metadata:i})}catch{}},children:"Ajouter"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:606,columnNumber:9},void 0),e.jsxDEV(u,{size:"small",danger:!0,onClick:Be,disabled:!$,children:"Supprimer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:641,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:587,columnNumber:7},void 0),e.jsxDEV("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,flexWrap:"wrap"},children:[e.jsxDEV(V,{type:"secondary",children:"Nom:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:646,columnNumber:9},void 0),e.jsxDEV(d,{size:"small",style:{maxWidth:280},placeholder:"Nom de la donnÃ©e",value:I,onChange:e=>{const a=e.target.value;z(a),(async()=>{var e;if($)try{const n=await k.get(`/api/treebranchleaf/nodes/${E}`),r=(null==n?void 0:n.metadata)||{},t=((null==(e=r.capabilities)?void 0:e.datas)||j||[]).map(e=>e.id===$?{...e,name:a}:e),i={...r,capabilities:{...r.capabilities,datas:t}};await k.put(`/api/treebranchleaf/trees/${o}/nodes/${E}`,{metadata:i}),M(t)}catch{}})()}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:647,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:645,columnNumber:7},void 0),e.jsxDEV("div",{style:{marginBottom:8,padding:"6px 8px",background:"#fafafa",border:"1px solid #f0f0f0",borderRadius:6},children:[e.jsxDEV(V,{strong:!0,style:{marginRight:8},children:"RÃ©sumÃ© test:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:673,columnNumber:9},void 0),e.jsxDEV("div",{children:e.jsxDEV(V,{type:"secondary",children:(()=>{const e=T.getFieldValue("exposedKey")||"",a=T.getFieldValue("sourceType"),n=T.getFieldValue("fixedValue"),r=T.getFieldValue("selectedNodeId"),t=T.getFieldValue("sourceRef"),i=T.getFieldValue("unit")||"",s=T.getFieldValue("precision")||2;if("fixed"===a&&n)return`Valeur fixe: ${n}`;if("tree"===a&&t){if(t.startsWith("condition:")){const e=t.replace("condition:",""),a=Array.isArray(G.items)?G.items.find(a=>a.id===e):null;return`ðŸ”— Condition: "${(null==a?void 0:a.name)||`ID: ${e.substring(0,8)}...`}"\nðŸ“‹ Utilisez le bouton "Tester" pour Ã©valuer la logique`}if(t.startsWith("formula:")){const e=t.replace("formula:",""),a=Array.isArray(Z.items)?Z.items.find(a=>a.id===e):null;return`ðŸ§® Formule: "${(null==a?void 0:a.name)||`ID: ${e.substring(0,8)}...`}"\nâš¡ Ã‰valuation automatique lors du calcul`}if(t.startsWith("@value.")){return`ðŸ“Š Champ rÃ©fÃ©rencÃ©: ${t.replace("@value.","").substring(0,15)}...\nðŸ”„ Valeur en temps rÃ©el`}return`ðŸŒ² RÃ©fÃ©rence: ${t.substring(0,20)}...`}if("tree"===a&&r){let e=1250.5.toLocaleString("fr-FR",{minimumFractionDigits:s,maximumFractionDigits:s});return"â‚¬"===i?e=`${e} â‚¬`:i&&(e=`${e} ${i}`),`Valeur calculÃ©e (test): ${e}`}return`ClÃ© exposÃ©e: ${e}`})()},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:675,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:674,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:672,columnNumber:7},void 0),(()=>{const a=T.getFieldValue("sourceType"),n=T.getFieldValue("sourceRef");if("tree"===a&&(null==n?void 0:n.startsWith("condition:"))){const a=n.replace("condition:",""),r=async()=>{var e,n,r,i,s,l,o,c,m;try{const u=await k.post(`/api/tbl/evaluate/condition/${a}`,{submissionId:"df833cac-0b44-4b2b-bb1c-de3878f00182",organizationId:"test-org",userId:"test-user",testMode:!0}),d=u.data||u,p=(null==d?void 0:d.conditionName)||(null==t?void 0:t.name)||"Condition inconnue",f=null==(e=null==d?void 0:d.evaluation)?void 0:e.success,b=null==(n=null==d?void 0:d.evaluation)?void 0:n.result,v=null==(i=null==(r=null==d?void 0:d.evaluation)?void 0:r.details)?void 0:i.conditionMet,h=f&&("OUI"===v||!0===b),D=f&&("NON"===v||!1===b),N=f&&!h&&!D;te({status:h?"ok":D?"ko":N?"neutral":"error",conditionName:p,timestamp:Date.now(),details:null==(l=null==(s=null==d?void 0:d.evaluation)?void 0:s.details)?void 0:l.message,apiValue:(null==(c=null==(o=null==d?void 0:d.evaluation)?void 0:o.details)?void 0:c.calculatedValue)??("boolean"!=typeof b?b:void 0)??(null==(m=null==d?void 0:d.evaluation)?void 0:m.value)??(null==d?void 0:d.value)}),h?w.success(`Condition "${p}" OK`):D?w.error(`Condition "${p}" PAS OK`):N?w.info(`Condition "${p}" non remplie (neutre)`):w.warning("Test condition: erreur ou rÃ©sultat invalide")}catch(u){te({status:"error",conditionName:(null==t?void 0:t.name)||"Condition inconnue",timestamp:Date.now(),details:null==u?void 0:u.message}),w.error(`Erreur lors du test de la condition: ${(null==u?void 0:u.message)||"inconnue"}`)}},t=Array.isArray(G.items)?G.items.find(e=>e.id===a):null;return e.jsxDEV("div",{style:{marginBottom:12,padding:"12px",backgroundColor:re?"ok"===re.status?"#f6ffed":"ko"===re.status?"#fff2f0":"#f0f8ff":"#f0f8ff",border:re?"ok"===re.status?"2px solid #52c41a":"ko"===re.status?"2px solid #ff4d4f":"1px solid #91caff":"1px solid #d9d9d9",borderRadius:"6px"},children:[e.jsxDEV("div",{style:{marginBottom:8,fontSize:"13px",fontWeight:"bold"},children:["ðŸ“‹ ",e.jsxDEV("strong",{children:"Condition sÃ©lectionnÃ©e:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:838,columnNumber:20},void 0)," ",(null==t?void 0:t.name)||"Condition inconnue"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:837,columnNumber:15},void 0),(null==De?void 0:De.expression)&&e.jsxDEV("div",{style:{marginBottom:8,padding:"6px 8px",background:"#fff",border:"1px solid #f0f0f0",borderRadius:6},children:[e.jsxDEV(V,{type:"secondary",children:"Expression:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:842,columnNumber:19},void 0),e.jsxDEV("div",{children:e.jsxDEV(V,{code:!0,children:De.expression},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:843,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:843,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:841,columnNumber:17},void 0),re&&e.jsxDEV("div",{style:{marginBottom:8,padding:"6px 8px",backgroundColor:"ok"===re.status?"#d9f7be":"ko"===re.status?"#ffccc7":"#e6f4ff",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:["ok"===re.status&&e.jsxDEV("span",{style:{color:"#389e0d"},children:"âœ… DERNIER TEST : OK"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:858,columnNumber:21},void 0),"ko"===re.status&&e.jsxDEV("span",{style:{color:"#cf1322"},children:"âŒ DERNIER TEST : PAS OK"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:861,columnNumber:21},void 0),"neutral"===re.status&&e.jsxDEV("span",{style:{color:"#0958d9"},children:"â„¹ï¸ DERNIER TEST : NEUTRE"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:864,columnNumber:21},void 0),"error"===re.status&&e.jsxDEV("span",{style:{color:"#d46b08"},children:"âš ï¸ DERNIER TEST : ERREUR"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:867,columnNumber:21},void 0),e.jsxDEV("span",{style:{float:"right",fontWeight:"normal",opacity:.7},children:new Date(re.timestamp).toLocaleTimeString("fr-FR")},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:869,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:849,columnNumber:17},void 0),void 0!==(null==re?void 0:re.apiValue)&&e.jsxDEV("div",{style:{marginBottom:8,padding:"6px 8px",background:"#fff",border:"1px solid #f0f0f0",borderRadius:6},children:[e.jsxDEV(V,{type:"secondary",children:"Valeur calculÃ©e (API): "},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:877,columnNumber:19},void 0),e.jsxDEV(V,{strong:!0,children:Te(re.apiValue)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:878,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:876,columnNumber:17},void 0),e.jsxDEV(u,{size:"default",type:"primary",onClick:r,style:{fontSize:"13px",height:"32px",fontWeight:"bold",width:"100%"},icon:"ðŸ§ª",children:"ðŸ§ª TESTER CETTE CONDITION"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:882,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:828,columnNumber:13},void 0)}return null})(),(()=>{const a=T.getFieldValue("sourceType"),n=T.getFieldValue("sourceRef"),r="tree"===a&&(null==n?void 0:n.startsWith("condition:")),t="tree"===a&&(null==n?void 0:n.startsWith("formula:"));if(!r&&!t)return null;const i=(n||"").split(":")[1];return e.jsxDEV(c,{size:"small",style:{marginBottom:12,border:"1px dashed #91caff",background:"#f9fcff"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(V,{strong:!0,children:"ðŸ§ª Bac Ã  sable de test"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:974,columnNumber:15},void 0),e.jsxDEV(u,{type:"link",onClick:()=>se(e=>!e),children:ie?"Masquer":"Afficher"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:975,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:973,columnNumber:13},void 0),ie&&e.jsxDEV("div",{children:[e.jsxDEV(V,{type:"secondary",style:{fontSize:12},children:"Injectez des valeurs fictives pour simuler l'environnement d'Ã©valuation."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:979,columnNumber:17},void 0),e.jsxDEV(p,{style:{margin:"8px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:982,columnNumber:17},void 0),le.map((a,n)=>e.jsxDEV("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:6,flexWrap:"wrap"},children:[e.jsxDEV(d,{size:"small",placeholder:"ClÃ© (ex: @value.monChamp)",style:{minWidth:220,flex:1},value:a.key,onChange:e=>oe(a=>a.map((a,r)=>r===n?{...a,key:e.target.value}:a))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:986,columnNumber:21},void 0),e.jsxDEV(u,{size:"small",onClick:()=>ye(n),children:"ðŸŒ² Choisir"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:993,columnNumber:21},void 0),e.jsxDEV(m,{size:"small",value:a.type,style:{width:110},options:[{value:"text",label:"Texte"},{value:"number",label:"Nombre"},{value:"boolean",label:"BoolÃ©en"}],onChange:e=>oe(a=>a.map((a,r)=>r===n?{...a,type:e}:a))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:994,columnNumber:21},void 0),"number"===a.type&&e.jsxDEV(f,{size:"small",placeholder:"Valeur",style:{width:160},value:"number"==typeof a.value?a.value:a.value?Number(a.value):void 0,onChange:e=>oe(a=>a.map((a,r)=>r===n?{...a,value:e}:a))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1002,columnNumber:23},void 0),"text"===a.type&&e.jsxDEV(d,{size:"small",placeholder:"Valeur",style:{width:220},value:String(a.value??""),onChange:e=>oe(a=>a.map((a,r)=>r===n?{...a,value:e.target.value}:a))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1011,columnNumber:23},void 0),"boolean"===a.type&&e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsxDEV(b,{size:"small",checked:Boolean(a.value),onChange:e=>oe(a=>a.map((a,r)=>r===n?{...a,value:e}:a))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1021,columnNumber:25},void 0),e.jsxDEV(v,{color:a.value?"green":"red",children:a.value?"true":"false"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1026,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1020,columnNumber:23},void 0),e.jsxDEV(u,{size:"small",danger:!0,onClick:()=>oe(e=>e.filter((e,a)=>a!==n)),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1029,columnNumber:21},void 0)]},n,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:985,columnNumber:19},void 0)),e.jsxDEV(u,{size:"small",onClick:()=>oe(e=>[...e,{key:"",type:"text",value:""}]),children:"+ Ajouter entrÃ©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1032,columnNumber:17},void 0),r&&e.jsxDEV("div",{style:{marginTop:10},children:[e.jsxDEV(p,{style:{margin:"8px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1036,columnNumber:21},void 0),e.jsxDEV(V,{strong:!0,children:"Sorties de la condition"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1037,columnNumber:21},void 0),e.jsxDEV(h,{style:{display:"flex",marginTop:6},children:[e.jsxDEV(d,{size:"small",style:{flex:1},readOnly:!0,placeholder:"Alors (si condition vraie)",value:(null==De?void 0:De.thenLabel)??ce},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1039,columnNumber:23},void 0),e.jsxDEV(d,{size:"small",style:{flex:1},readOnly:!0,placeholder:"Sinon (si condition fausse)",value:(null==De?void 0:De.elseLabel)??ue},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1046,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1038,columnNumber:21},void 0),re&&e.jsxDEV("div",{style:{marginTop:8,padding:"6px 8px",background:"#fff",border:"1px solid #f0f0f0",borderRadius:6},children:[e.jsxDEV(V,{type:"secondary",children:"RÃ©sultat simulÃ©:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1056,columnNumber:25},void 0),e.jsxDEV("div",{children:e.jsxDEV(V,{strong:!0,children:(re?"ok"===re.status?ce||null:("ko"===re.status||"neutral"===re.status)&&ue||null:null)??"â€”"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1057,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1057,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1055,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV(u,{type:"primary",onClick:async()=>{var e,a,n,s;if(i){fe(!0);try{const l={};for(const e of le)if(e.key)if("number"===e.type){const a="number"==typeof e.value?e.value:parseFloat(String(e.value).replace(",","."));Number.isNaN(a)||(l[e.key]=a)}else"boolean"===e.type?l[e.key]=Boolean(e.value):l[e.key]=String(e.value??"");if(r){const r=await S(i,l),t=(null==r?void 0:r.value)??(null==r?void 0:r.calculatedValue)??(null==(e=null==r?void 0:r.evaluation)?void 0:e.result)??(null==r?void 0:r.result),s=!0===t,o=!1===t,c=null==t;te({status:s?"ok":o?"ko":c?"neutral":"error",conditionName:(null==r?void 0:r.conditionName)||"Condition",timestamp:Date.now(),details:null==(n=null==(a=null==r?void 0:r.evaluation)?void 0:a.details)?void 0:n.message}),s?w.success("âœ… Condition remplie (OK)"):o?w.error("âŒ Condition non remplie (PAS OK)"):c?w.info("â„¹ï¸ RÃ©sultat neutre (incomplet)"):w.warning("âš ï¸ Test: rÃ©sultat invalide")}if(t){const e=await S(i,l),a=(null==e?void 0:e.value)??(null==e?void 0:e.calculatedValue)??(null==(s=null==e?void 0:e.evaluation)?void 0:s.result)??(null==e?void 0:e.result);null==a?w.info("â„¹ï¸ Formule Ã©valuÃ©e: rÃ©sultat vide"):w.success(`ðŸ§® RÃ©sultat formule: ${String(a)}`)}}catch(l){w.error("Erreur pendant le test")}finally{fe(!1)}}},loading:pe,style:{marginTop:10},children:"ExÃ©cuter le test"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1063,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:978,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:972,columnNumber:11},void 0)})(),e.jsxDEV(s,{form:T,layout:"vertical",initialValues:y,onValuesChange:Ce,disabled:g,children:[e.jsxDEV(s.Item,{label:"Source de la donnÃ©e",name:"sourceType",children:e.jsxDEV(D.Group,{onChange:e=>{const a=e.target.value;Q.current=Date.now(),"tree"===a&&(X.current=null),ee(a),"tree"===a?(ne(""),T.setFieldsValue({fixedValue:""})):"fixed"===a&&(_(""),T.setFieldsValue({sourceRef:""}));const n={...T.getFieldsValue(),sourceType:a,..."tree"===a?{fixedValue:""}:{sourceRef:""}};Ve(n)},style:{marginBottom:12},children:[e.jsxDEV(D,{value:"fixed",children:"ðŸ“ Valeur fixe"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1123,columnNumber:13},void 0),e.jsxDEV(D,{value:"tree",children:"ðŸ”— Depuis l'arborescence"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1124,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1086,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1085,columnNumber:9},void 0),"fixed"===Y?e.jsxDEV(s.Item,{name:"fixedValue",label:"Valeur fixe",children:e.jsxDEV(d,{placeholder:"ex: 95%, 1234.56, Texte fixe...",value:ae,onChange:e=>{const a=e.target.value;ne(a),T.setFieldsValue({fixedValue:a});const n=T.getFieldsValue();Ve({...n,fixedValue:a})}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1131,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1130,columnNumber:11},void 0):e.jsxDEV(s.Item,{label:"RÃ©fÃ©rence arborescence",name:"sourceRef",children:e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},children:[e.jsxDEV(d,{placeholder:"SÃ©lectionnez dans l'arborescence...",readOnly:!0,style:{cursor:"pointer"},value:Re,title:Re,onClick:ge},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1146,columnNumber:15},void 0),e.jsxDEV(u,{type:"dashed",onClick:ge,disabled:g,style:{width:"100%"},children:"ðŸ“‹ SÃ©lectionner dans l'arborescence"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1154,columnNumber:15},void 0),e.jsxDEV(V,{type:"secondary",style:{fontSize:"12px"},children:"Choisissez un champ, une formule ou une condition comme source"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1162,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1145,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1144,columnNumber:11},void 0),e.jsxDEV(s.Item,{name:"displayFormat",label:"Format d'affichage",children:e.jsxDEV(m,{options:C,placeholder:"Choisir un format"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1170,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1169,columnNumber:9},void 0),e.jsxDEV(h,{size:8,style:{display:"flex"},children:[e.jsxDEV(s.Item,{name:"unit",label:"UnitÃ©",style:{flex:1},children:e.jsxDEV(d,{placeholder:"â‚¬, mÂ², %..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1174,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1173,columnNumber:11},void 0),e.jsxDEV(s.Item,{name:"precision",label:"PrÃ©cision",style:{width:140},children:e.jsxDEV(m,{options:[0,1,2,3,4].map(e=>({value:e,label:e}))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1177,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1176,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1172,columnNumber:9},void 0),e.jsxDEV(s.Item,{name:"visibleToUser",valuePropName:"checked",children:e.jsxDEV(N,{children:"Visible pour l'utilisateur"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1183,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1182,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1077,columnNumber:7},void 0),Se,e.jsxDEV(t,{nodeId:E,open:W,onClose:()=>K(!1),onSelect:Ee,selectionContext:"token",allowMulti:!1},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1189,columnNumber:7},void 0),e.jsxDEV(t,{nodeId:E,open:be,onClose:()=>ve(!1),onSelect:Pe,selectionContext:"test",allowMulti:!1},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:1199,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/DataPanel.tsx",lineNumber:583,columnNumber:5},void 0)};export{E as default};
