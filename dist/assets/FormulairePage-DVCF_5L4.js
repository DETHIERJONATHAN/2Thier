import{u as e,j as r}from"./index-C0S0DpaX.js";import{r as s,u as i}from"./react-vendor-Al_k-ZB6.js";import{u as m}from"./useAuthenticatedApi-BbQI8SDU.js";import{a2 as a,T as o,v as l,a as t,be as n,aA as u,Y as c,a8 as d,B as v,b3 as N,x as D}from"./antd-vendor-zFcGztvE.js";const{Title:p,Text:g}=o,x=()=>{const[o,x]=s.useState([]),[b,E]=s.useState(!0),{api:C}=m(),{currentOrganization:h}=e(),V=i(),f=s.useCallback(async()=>{try{E(!0);const e=null==h?void 0:h.id;if(!e)return;const r=await C.get(`/api/blocks?organizationId=${e}`);x(r||[])}catch(e){}finally{E(!1)}},[C,null==h?void 0:h.id]);s.useEffect(()=>{f()},[f]);const S=e=>e.sections.reduce((e,r)=>e+r.fields.length,0),j=e=>{const r=e.sections.flatMap(e=>e.fields.map(e=>e.type)),s=[...new Set(r)];return s.slice(0,3).join(", ")+(s.length>3?"...":"")};return b?r.jsxDEV("div",{className:"flex justify-center items-center h-64",children:r.jsxDEV(a,{size:"large"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:76,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:75,columnNumber:7},void 0):r.jsxDEV("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxDEV("div",{className:"mb-8",children:[r.jsxDEV(p,{level:2,className:"flex items-center gap-3",children:[r.jsxDEV(l,{className:"text-blue-600"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:85,columnNumber:11},void 0),"Formulaires"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:84,columnNumber:9},void 0),r.jsxDEV(g,{type:"secondary",children:"Gérez et consultez vos formulaires personnalisés"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:83,columnNumber:7},void 0),0===o.length?r.jsxDEV(t,{children:r.jsxDEV(n,{image:n.PRESENTED_IMAGE_SIMPLE,description:r.jsxDEV("div",{children:[r.jsxDEV("p",{children:"Aucun formulaire disponible"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:99,columnNumber:17},void 0),r.jsxDEV(g,{type:"secondary",children:"Les formulaires apparaîtront ici une fois créés par un administrateur."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:100,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:98,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:94,columnNumber:9},void 0):r.jsxDEV(u,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},dataSource:o,renderItem:e=>r.jsxDEV(u.Item,{children:r.jsxDEV(t,{hoverable:!0,className:"h-full",actions:[r.jsxDEV(v,{type:"text",icon:r.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:127,columnNumber:27},void 0),onClick:()=>{return r=e.id,void V(`/admin/formulaire/${r}`);var r},children:"Modifier"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:125,columnNumber:19},void 0),r.jsxDEV(v,{type:"text",icon:r.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:134,columnNumber:27},void 0),children:"Aperçu"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:132,columnNumber:19},void 0)],children:r.jsxDEV(t.Meta,{title:r.jsxDEV("div",{className:"flex items-center justify-between",children:[r.jsxDEV("span",{className:"truncate",children:e.name},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:143,columnNumber:23},void 0),r.jsxDEV(d,{count:S(e),color:"blue"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:144,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:142,columnNumber:21},void 0),description:r.jsxDEV("div",{className:"space-y-2",children:[r.jsxDEV("div",{children:[r.jsxDEV(g,{strong:!0,children:"Sections:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:150,columnNumber:25},void 0)," ",e.sections.length]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:149,columnNumber:23},void 0),r.jsxDEV("div",{children:[r.jsxDEV(g,{strong:!0,children:"Champs:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:153,columnNumber:25},void 0)," ",S(e)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:152,columnNumber:23},void 0),S(e)>0&&r.jsxDEV("div",{children:[r.jsxDEV(g,{strong:!0,children:"Types:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:157,columnNumber:27},void 0)," ",j(e)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:156,columnNumber:25},void 0),e.updatedAt&&r.jsxDEV("div",{className:"text-xs text-gray-500 mt-2",children:[r.jsxDEV(c,{className:"mr-1"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:162,columnNumber:27},void 0),"Modifié le ",new Date(e.updatedAt).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:161,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:148,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:140,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:121,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:120,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:108,columnNumber:9},void 0),r.jsxDEV(t,{className:"mt-8",style:{backgroundColor:"#f0f9ff"},children:r.jsxDEV("div",{className:"flex items-start gap-3",children:[r.jsxDEV(l,{className:"text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:178,columnNumber:11},void 0),r.jsxDEV("div",{children:[r.jsxDEV(p,{level:4,className:"mb-2",children:"À propos des formulaires"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:180,columnNumber:13},void 0),r.jsxDEV(g,{children:"Les formulaires vous permettent de collecter et organiser des données personnalisées pour votre organisation. Seuls les administrateurs peuvent créer et modifier la structure des formulaires, mais tous les utilisateurs autorisés peuvent les consulter et les utiliser."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:181,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:177,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:176,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/FormulairePage.tsx",lineNumber:82,columnNumber:5},void 0)};export{x as default};
