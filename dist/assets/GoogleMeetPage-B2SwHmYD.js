import{u as e,j as s}from"./index-C0S0DpaX.js";import{r as i}from"./react-vendor-Al_k-ZB6.js";import{u as r}from"./useAuthenticatedApi-BbQI8SDU.js";import{t as o,F as t,s as l,aX as n,L as m,af as a,ag as c,T as d,$ as u,B as g,S as v,bg as D,aF as p,a as N,I as C,an as b,b1 as E,a$ as h,be as x,ae as M,aA as V,u as f,cL as S,a0 as P,aC as k,aM as R,aj as A,al as j,z as G,ad as O,a8 as U,Y as y,ab as w,bC as T,b5 as I}from"./antd-vendor-zFcGztvE.js";const{Content:L}=m,{Title:z,Text:F,Paragraph:q}=d,{TabPane:B}=h,{Option:H}=b,{RangePicker:Y}=E,_=()=>{var d,E;const{user:_}=e(),{api:$}=r(),{token:W}=o.useToken(),[J,K]=i.useState([]),[Q,X]=i.useState([]),[Z,ee]=i.useState(null),[se,ie]=i.useState("upcoming"),[re,oe]=i.useState(!1),[te,le]=i.useState(!1),[ne]=t.useForm(),[me]=t.useForm(),[ae,ce]=i.useState(""),[de,ue]=i.useState("all"),[ge,ve]=i.useState(null),De=i.useMemo(()=>$,[$]),pe=i.useCallback(async()=>{if(De)try{const[e,s]=await Promise.all([De.get("/api/google-meet/meetings"),De.get("/api/google-meet/analytics")]);K(e.data||[]),X(e.data||[]),ee(s.data||null),l.success("DonnÃ©es Google Meet chargÃ©es")}catch(e){l.error("Erreur lors du chargement")}},[De]),Ne=async()=>{if(De)try{const e=(await De.post("/api/google-meet/instant")).data;window.open(e.meetingUrl,"_blank"),pe(),l.success("RÃ©union instantanÃ©e crÃ©Ã©e !")}catch(e){l.error("Erreur lors de la crÃ©ation de la rÃ©union instantanÃ©e")}};i.useEffect(()=>{let e=J;switch(se){case"upcoming":e=e.filter(e=>n(e.scheduledStart).isAfter(n())&&"cancelled"!==e.status);break;case"live":e=e.filter(e=>"live"===e.status);break;case"past":e=e.filter(e=>n(e.scheduledEnd).isBefore(n())||"ended"===e.status)}ae&&(e=e.filter(e=>{var s;return e.name.toLowerCase().includes(ae.toLowerCase())||e.meetingCode.toLowerCase().includes(ae.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(ae.toLowerCase()))})),de&&"all"!==de&&(e=e.filter(e=>e.status===de)),ge&&(e=e.filter(e=>{const s=n(e.scheduledStart);return s.isAfter(ge[0])&&s.isBefore(ge[1])})),X(e)},[J,se,ae,de,ge]),i.useEffect(()=>{pe()},[pe]);const Ce=e=>{const i="live"===e.status;return s.jsxDEV(N,{style:{marginBottom:16},actions:[s.jsxDEV(g,{type:i?"primary":"default",icon:s.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:396,columnNumber:19},void 0),onClick:()=>window.open(e.meetingUrl,"_blank"),disabled:"cancelled"===e.status,children:i?"Rejoindre":"Ouvrir"},"join",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:393,columnNumber:11},void 0),s.jsxDEV(g,{icon:s.jsxDEV(T,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:404,columnNumber:19},void 0),onClick:()=>{navigator.clipboard.writeText(e.meetingUrl),l.success("Lien copiÃ© !")},children:"Copier lien"},"copy",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:402,columnNumber:11},void 0),s.jsxDEV(g,{danger:!0,icon:s.jsxDEV(I,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:415,columnNumber:19},void 0),onClick:()=>(async e=>{De&&P.confirm({title:"Supprimer cette rÃ©union ?",content:"Cette action est irrÃ©versible et supprimera Ã©galement l'enregistrement.",okText:"Supprimer",cancelText:"Annuler",okType:"danger",onOk:async()=>{try{await De.delete(`/google-meet/meetings/${e}`),l.success("RÃ©union supprimÃ©e"),pe()}catch(s){l.error("Erreur lors de la suppression")}}})})(e.id),disabled:i,children:"Supprimer"},"delete",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:412,columnNumber:11},void 0)],children:s.jsxDEV(a,{justify:"space-between",align:"top",children:[s.jsxDEV(c,{span:16,children:s.jsxDEV(u,{direction:"vertical",size:"small",style:{width:"100%"},children:[s.jsxDEV("div",{children:[s.jsxDEV(z,{level:4,style:{margin:0,display:"flex",alignItems:"center",gap:8},children:[e.name,i&&s.jsxDEV(U,{status:"processing",text:"En direct"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:429,columnNumber:30},void 0),e.isRecording&&s.jsxDEV(v,{style:{color:W.colorError}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:430,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:427,columnNumber:17},void 0),s.jsxDEV(F,{type:"secondary",children:["Code: ",e.meetingCode]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:432,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:426,columnNumber:15},void 0),s.jsxDEV("div",{children:s.jsxDEV(u,{size:"middle",children:[s.jsxDEV(F,{children:[s.jsxDEV(y,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:438,columnNumber:21},void 0)," ",n(e.scheduledStart).format("DD/MM/YYYY HH:mm")]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:437,columnNumber:19},void 0),s.jsxDEV(F,{children:[s.jsxDEV(j,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:441,columnNumber:21},void 0)," ",n(e.scheduledEnd).diff(n(e.scheduledStart),"minutes")," min"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:440,columnNumber:19},void 0),s.jsxDEV(F,{children:[s.jsxDEV(G,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:444,columnNumber:21},void 0)," ",e.participantCount,"/",e.maxParticipants]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:436,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:435,columnNumber:15},void 0),e.description&&s.jsxDEV(q,{ellipsis:{rows:2},style:{margin:0},children:e.description},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:450,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:425,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:424,columnNumber:11},void 0),s.jsxDEV(c,{span:8,style:{textAlign:"right"},children:s.jsxDEV(u,{direction:"vertical",size:"small",children:[s.jsxDEV(w,{color:"live"===e.status?"green":"scheduled"===e.status?"blue":"ended"===e.status?"default":"red",children:"live"===e.status?"ðŸ”´ En direct":"scheduled"===e.status?"ðŸ“… ProgrammÃ©":"ended"===e.status?"âœ… TerminÃ©":"âŒ AnnulÃ©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:459,columnNumber:15},void 0),s.jsxDEV(f.Group,{maxCount:3,size:"small",children:e.participants.slice(0,5).map(e=>s.jsxDEV(f,{src:e.avatar,title:e.name,children:e.name.charAt(0).toUpperCase()},e.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:471,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:469,columnNumber:15},void 0),s.jsxDEV(F,{type:"secondary",style:{fontSize:"12px"},children:["Host: ",e.hostName]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:481,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:457,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:423,columnNumber:9},void 0)},e.id,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:389,columnNumber:7},void 0)};return s.jsxDEV(m,{style:{minHeight:"100vh",background:W.colorBgContainer},children:[s.jsxDEV(L,{style:{padding:"24px"},children:[s.jsxDEV("div",{style:{marginBottom:24},children:s.jsxDEV(a,{justify:"space-between",align:"middle",children:[s.jsxDEV(c,{children:[s.jsxDEV(z,{level:2,style:{margin:0},children:"ðŸŽ¥ Google Meet"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:498,columnNumber:15},void 0),s.jsxDEV(F,{type:"secondary",children:"Gestion complÃ¨te de vos visioconfÃ©rences et rÃ©unions"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:501,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:497,columnNumber:13},void 0),s.jsxDEV(c,{children:s.jsxDEV(u,{children:[s.jsxDEV(g,{icon:s.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:508,columnNumber:25},void 0),onClick:Ne,size:"large",children:"RÃ©union instantanÃ©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:507,columnNumber:17},void 0),s.jsxDEV(g,{icon:s.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:515,columnNumber:25},void 0),onClick:()=>le(!0),children:"Rejoindre"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:514,columnNumber:17},void 0),s.jsxDEV(g,{type:"primary",icon:s.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:522,columnNumber:25},void 0),onClick:()=>oe(!0),size:"large",children:"Programmer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:520,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:506,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:505,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:496,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:495,columnNumber:9},void 0),s.jsxDEV(a,{gutter:[16,16],style:{marginBottom:24},children:[s.jsxDEV(c,{span:6,children:s.jsxDEV(N,{children:s.jsxDEV(A,{title:"RÃ©unions ce mois",value:(null==Z?void 0:Z.totalMeetings)||0,prefix:s.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:340,columnNumber:21},void 0),valueStyle:{color:W.colorPrimary}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:337,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:336,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:335,columnNumber:7},void 0),s.jsxDEV(c,{span:6,children:s.jsxDEV(N,{children:s.jsxDEV(A,{title:"Temps total (h)",value:((null==Z?void 0:Z.totalDuration)||0)/60,precision:1,prefix:s.jsxDEV(j,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:351,columnNumber:21},void 0),valueStyle:{color:W.colorSuccess}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:347,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:346,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:345,columnNumber:7},void 0),s.jsxDEV(c,{span:6,children:s.jsxDEV(N,{children:s.jsxDEV(A,{title:"Participants total",value:(null==Z?void 0:Z.totalParticipants)||0,prefix:s.jsxDEV(G,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:361,columnNumber:21},void 0),valueStyle:{color:W.colorWarning}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:358,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:357,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:356,columnNumber:7},void 0),s.jsxDEV(c,{span:6,children:s.jsxDEV(N,{children:s.jsxDEV("div",{children:[s.jsxDEV(F,{strong:!0,children:"QualitÃ© moyenne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:369,columnNumber:13},void 0),s.jsxDEV(O,{percent:(null==Z?void 0:Z.qualityScore)||0,size:"small",status:((null==Z?void 0:Z.qualityScore)||0)>80?"success":((null==Z?void 0:Z.qualityScore)||0)>60?"normal":"exception"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:370,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:367,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:366,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:334,columnNumber:5},void 0),s.jsxDEV(N,{style:{marginBottom:24},children:s.jsxDEV(a,{gutter:[16,16],children:[s.jsxDEV(c,{span:8,children:s.jsxDEV(C.Search,{placeholder:"Rechercher une rÃ©union...",value:ae,onChange:e=>ce(e.target.value),allowClear:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:540,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:539,columnNumber:13},void 0),s.jsxDEV(c,{span:6,children:s.jsxDEV(b,{placeholder:"Statut",value:de,onChange:ue,style:{width:"100%"},children:[s.jsxDEV(H,{value:"all",children:"Tous les statuts"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:554,columnNumber:17},void 0),s.jsxDEV(H,{value:"scheduled",children:"ðŸ“… ProgrammÃ©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:555,columnNumber:17},void 0),s.jsxDEV(H,{value:"live",children:"ðŸ”´ En direct"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:556,columnNumber:17},void 0),s.jsxDEV(H,{value:"ended",children:"âœ… TerminÃ©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:557,columnNumber:17},void 0),s.jsxDEV(H,{value:"cancelled",children:"âŒ AnnulÃ©"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:558,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:548,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:547,columnNumber:13},void 0),s.jsxDEV(c,{span:10,children:s.jsxDEV(Y,{value:ge,onChange:ve,style:{width:"100%"},placeholder:["Date dÃ©but","Date fin"]},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:562,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:561,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:538,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:537,columnNumber:9},void 0),s.jsxDEV(N,{children:s.jsxDEV(h,{activeKey:se,onChange:ie,children:[s.jsxDEV(B,{tab:"ðŸ“… Ã€ venir",children:Q.length>0?Q.map(Ce):s.jsxDEV(x,{description:"Aucune rÃ©union Ã  venir",image:x.PRESENTED_IMAGE_SIMPLE,children:s.jsxDEV(g,{type:"primary",icon:s.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:585,columnNumber:27},void 0),onClick:()=>oe(!0),children:"Programmer une rÃ©union"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:583,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:579,columnNumber:17},void 0)},"upcoming",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:575,columnNumber:13},void 0),s.jsxDEV(B,{tab:"ðŸ”´ En direct",children:Q.length>0?Q.map(Ce):s.jsxDEV(x,{description:"Aucune rÃ©union en cours",image:x.PRESENTED_IMAGE_SIMPLE},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:598,columnNumber:17},void 0)},"live",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:594,columnNumber:13},void 0),s.jsxDEV(B,{tab:"ðŸ“š Historique",children:Q.length>0?Q.map(Ce):s.jsxDEV(x,{description:"Aucun historique de rÃ©union",image:x.PRESENTED_IMAGE_SIMPLE},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:609,columnNumber:17},void 0)},"past",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:605,columnNumber:13},void 0),s.jsxDEV(B,{tab:"ðŸ“Š Analytics",children:s.jsxDEV(a,{gutter:[24,24],children:[s.jsxDEV(c,{span:12,children:s.jsxDEV(N,{title:"ðŸ“ˆ Utilisation par jour",children:s.jsxDEV(M,{children:null==(d=null==Z?void 0:Z.usageByDay)?void 0:d.slice(0,7).map((e,i)=>s.jsxDEV(M.Item,{children:[s.jsxDEV(F,{strong:!0,children:n(e.date).format("DD/MM")},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:623,columnNumber:27},void 0),s.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:624,columnNumber:27},void 0),s.jsxDEV(F,{type:"secondary",children:[e.meetings," rÃ©unions - ",Math.round(e.duration/60),"h"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:625,columnNumber:27},void 0)]},i,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:622,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:620,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:619,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:618,columnNumber:17},void 0),s.jsxDEV(c,{span:12,children:s.jsxDEV(N,{title:"ðŸ‘‘ Top organisateurs",children:s.jsxDEV(V,{size:"small",dataSource:null==(E=null==Z?void 0:Z.topHosts)?void 0:E.slice(0,5),renderItem:(e,i)=>s.jsxDEV(V.Item,{children:s.jsxDEV(V.Item.Meta,{avatar:s.jsxDEV(f,{children:i+1},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:641,columnNumber:37},void 0),title:e.name,description:`${e.meetings} rÃ©unions organisÃ©es`},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:640,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:639,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:635,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:634,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:633,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:617,columnNumber:15},void 0)},"analytics",!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:616,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:574,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:573,columnNumber:9},void 0),s.jsxDEV(S.Group,{shape:"circle",style:{right:24},children:[s.jsxDEV(S,{icon:s.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:658,columnNumber:19},void 0),type:"primary",onClick:Ne,tooltip:"RÃ©union instantanÃ©e"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:657,columnNumber:11},void 0),s.jsxDEV(S,{icon:s.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:664,columnNumber:19},void 0),onClick:()=>oe(!0),tooltip:"Programmer"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:663,columnNumber:11},void 0),s.jsxDEV(S,{icon:s.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:669,columnNumber:19},void 0),onClick:()=>le(!0),tooltip:"Rejoindre"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:668,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:656,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:493,columnNumber:7},void 0),s.jsxDEV(P,{title:"ðŸ“ Programmer une rÃ©union",open:re,onCancel:()=>{oe(!1),ne.resetFields()},footer:null,width:600,children:s.jsxDEV(t,{form:ne,layout:"vertical",onFinish:async e=>{if(De)try{const s={name:e.name,description:e.description,scheduledStart:e.scheduledDateTime[0].toISOString(),scheduledEnd:e.scheduledDateTime[1].toISOString(),maxParticipants:e.maxParticipants,settings:e.settings,hostEmail:null==_?void 0:_.email},i=(await De.post("/api/google-meet/meetings",s)).data;l.success(`RÃ©union crÃ©Ã©e : ${i.meetingCode}`),oe(!1),ne.resetFields(),pe(),navigator.clipboard.writeText(i.meetingUrl),l.info("Lien de la rÃ©union copiÃ© dans le presse-papiers")}catch(s){l.error("Erreur lors de la crÃ©ation de la rÃ©union")}},initialValues:{maxParticipants:25,settings:{allowScreenShare:!0,allowRecording:!0,requireAuth:!1,muteOnJoin:!0,enableChat:!0,enableBreakoutRooms:!1,enableWaitingRoom:!1,allowExternalParticipants:!0}},children:[s.jsxDEV(t.Item,{name:"name",label:"Nom de la rÃ©union",rules:[{required:!0,message:"Le nom est obligatoire"}],children:s.jsxDEV(C,{placeholder:"Ex: RÃ©union Ã©quipe commerciale"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:710,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:705,columnNumber:11},void 0),s.jsxDEV(t.Item,{name:"description",label:"Description",children:s.jsxDEV(C.TextArea,{rows:3,placeholder:"Ordre du jour, objectifs..."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:714,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:713,columnNumber:11},void 0),s.jsxDEV(a,{gutter:16,children:[s.jsxDEV(c,{span:16,children:s.jsxDEV(t.Item,{name:"scheduledDateTime",label:"Date et heure",rules:[{required:!0,message:"La date est obligatoire"}],children:s.jsxDEV(Y,{showTime:{format:"HH:mm"},format:"DD/MM/YYYY HH:mm",style:{width:"100%"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:727,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:722,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:721,columnNumber:13},void 0),s.jsxDEV(c,{span:8,children:s.jsxDEV(t.Item,{name:"maxParticipants",label:"Max participants",children:s.jsxDEV(b,{children:[s.jsxDEV(H,{value:10,children:"10 participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:737,columnNumber:19},void 0),s.jsxDEV(H,{value:25,children:"25 participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:738,columnNumber:19},void 0),s.jsxDEV(H,{value:50,children:"50 participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:739,columnNumber:19},void 0),s.jsxDEV(H,{value:100,children:"100 participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:740,columnNumber:19},void 0),s.jsxDEV(H,{value:250,children:"250 participants"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:741,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:736,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:735,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:734,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:720,columnNumber:11},void 0),s.jsxDEV(k,{children:"ParamÃ¨tres avancÃ©s"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:747,columnNumber:11},void 0),s.jsxDEV(a,{gutter:[16,16],children:[s.jsxDEV(c,{span:12,children:s.jsxDEV(t.Item,{name:["settings","allowScreenShare"],valuePropName:"checked",children:[s.jsxDEV(R,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:755,columnNumber:17},void 0)," Partage d'Ã©cran"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:751,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:750,columnNumber:13},void 0),s.jsxDEV(c,{span:12,children:s.jsxDEV(t.Item,{name:["settings","allowRecording"],valuePropName:"checked",children:[s.jsxDEV(R,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:763,columnNumber:17},void 0)," Enregistrement"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:759,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:758,columnNumber:13},void 0),s.jsxDEV(c,{span:12,children:s.jsxDEV(t.Item,{name:["settings","muteOnJoin"],valuePropName:"checked",children:[s.jsxDEV(R,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:771,columnNumber:17},void 0)," Muet Ã  l'entrÃ©e"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:767,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:766,columnNumber:13},void 0),s.jsxDEV(c,{span:12,children:s.jsxDEV(t.Item,{name:["settings","enableWaitingRoom"],valuePropName:"checked",children:[s.jsxDEV(R,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:779,columnNumber:17},void 0)," Salle d'attente"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:775,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:774,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:749,columnNumber:11},void 0),s.jsxDEV(t.Item,{style:{marginTop:24},children:s.jsxDEV(u,{children:[s.jsxDEV(g,{type:"primary",htmlType:"submit",children:"CrÃ©er la rÃ©union"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:786,columnNumber:15},void 0),s.jsxDEV(g,{onClick:()=>{oe(!1),ne.resetFields()},children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:789,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:785,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:784,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:687,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:677,columnNumber:7},void 0),s.jsxDEV(P,{title:"ðŸ”— Rejoindre une rÃ©union",open:te,onCancel:()=>{le(!1),me.resetFields()},footer:null,children:s.jsxDEV(t,{form:me,layout:"vertical",onFinish:async e=>{if(De)try{const s=(await De.post(`/google-meet/join/${e.meetingCode}`)).data;window.open(s.meetingUrl,"_blank"),le(!1),me.resetFields(),l.success("Redirection vers Google Meet...")}catch(s){l.error("Code de rÃ©union invalide ou rÃ©union non trouvÃ©e")}},children:[s.jsxDEV(t.Item,{name:"meetingCode",label:"Code de la rÃ©union",rules:[{required:!0,message:"Le code est obligatoire"}],children:s.jsxDEV(C,{placeholder:"Ex: abc-defg-hij ou lien complet",size:"large"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:820,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:815,columnNumber:11},void 0),s.jsxDEV(t.Item,{children:s.jsxDEV(u,{children:[s.jsxDEV(g,{type:"primary",htmlType:"submit",size:"large",children:"Rejoindre"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:828,columnNumber:15},void 0),s.jsxDEV(g,{onClick:()=>{le(!1),me.resetFields()},children:"Annuler"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:831,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:827,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:826,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:810,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:801,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/pages/GoogleMeetPage.tsx",lineNumber:492,columnNumber:5},void 0)};export{_ as default};
