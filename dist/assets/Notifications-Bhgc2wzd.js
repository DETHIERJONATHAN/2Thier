import{j as e}from"./index-C0S0DpaX.js";import{r as t,a as s}from"./react-vendor-Al_k-ZB6.js";function i({message:s,type:i="info",duration:n=5e3,onClose:r}){const[o,c]=t.useState(!0),[a,m]=t.useState(!1);t.useEffect(()=>{if(n){const e=setTimeout(()=>{m(!0),setTimeout(()=>{c(!1),r&&r()},300)},n);return()=>clearTimeout(e)}},[n,r]);return o?e.jsxDEV("div",{className:`flex items-center justify-between p-3 mb-3 rounded-md text-white shadow-md max-w-md w-full\n                 transition-all duration-300 ${(()=>{switch(i){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";default:return"bg-blue-500"}})()} \n                 ${a?"opacity-0 translate-x-full":"opacity-100"}`,children:[e.jsxDEV("p",{className:"flex-1 mr-2",children:s},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/Notifications.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>{m(!0),setTimeout(()=>{c(!1),r&&r()},300)},className:"text-white hover:text-gray-200 focus:outline-none","aria-label":"Fermer",children:"âœ•"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/Notifications.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/Notifications.tsx",lineNumber:53,columnNumber:5},this):null}const n={notifications:[],listeners:[],show(e,t="info",s=5e3){const i=Math.random().toString(36).substring(2,9),n={id:i,props:{message:e,type:t,duration:s,onClose:()=>this.remove(i)}};return this.notifications.push(n),this.emitChange(),i},success(e,t){return this.show(e,"success",t)},error(e,t){return this.show(e,"error",t)},info(e,t){return this.show(e,"info",t)},warning(e,t){return this.show(e,"warning",t)},remove(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.emitChange()},clear(){this.notifications=[],this.emitChange()},subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}},emitChange(){this.listeners.forEach(e=>e())}};function r(){const[r,o]=t.useState(n.notifications);t.useEffect(()=>n.subscribe(()=>{o([...n.notifications])}),[]);const c=document.getElementById("notifications-root");if(!c){const e=document.createElement("div");return e.id="notifications-root",document.body.appendChild(e),null}return s.createPortal(e.jsxDEV("div",{className:"fixed top-4 right-4 z-50 flex flex-col items-end space-y-2",children:r.map(({id:t,props:s})=>e.jsxDEV(i,{...s},t,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/Notifications.tsx",lineNumber:157,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/Notifications.tsx",lineNumber:155,columnNumber:5},this),c)}export{r as N,n as a};
