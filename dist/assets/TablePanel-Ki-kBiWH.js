import{j as e}from"./index-C0S0DpaX.js";import{r as a}from"./react-vendor-Al_k-ZB6.js";import{u as n}from"./useAuthenticatedApi-BbQI8SDU.js";import{u as r}from"./TreeBranchLeafWrapper-Bsu92XNs.js";import{u as l,w as s,r as i}from"./xlsx-C5xT2hrF.js";import{s as t,I as o,a as c,T as m,an as d,B as p,aF as u,b5 as b,$ as h,a7 as v,bv as f,bo as N,aC as D,aM as C,aG as x}from"./antd-vendor-zFcGztvE.js";import"./dnd-vendor-D0spq1w0.js";const{Title:y,Text:E}=m,w=e=>{const a=Array.isArray(e.columns)?e.columns.map(String):[];let n=Array.isArray(e.rows)?e.rows:[];if("string"==typeof n[0]){const r=[];r.push([...a]);const l=e.matrix||[];for(let e=0;e<n.length-1;e++){const a=n[e+1],s=l[e]||[];r.push([a,...s])}n=r}const r=n.map(e=>Array.isArray(e)?String(e[0]||""):String(e||"")),l=n.map(e=>Array.isArray(e)?e.slice(1):[]);return{id:String(e.id),name:(e.name??"Sans nom")||"Sans nom",description:e.description??void 0,type:e.type||"matrix",columns:a,rows:r,matrix:l,data:{matrix:l},records:Array.isArray(e.records)?e.records:[],meta:e.meta||{},order:"number"==typeof e.order?e.order:0}},T=e=>{if(!e)return{type:"matrix",columns:[],rows:[],data:[]};const a=Array.isArray(e.columns)?e.columns.map(String):[],n=Array.isArray(e.rows)?e.rows.map(String):[],r=Array.isArray(e.matrix)?e.matrix:[],l=e.meta||{},s=[];for(let i=0;i<n.length;i++){const e=n[i],a=r[i]||[];s.push([e,...a])}return{type:e.type||"matrix",columns:a,rows:s,data:r,meta:l,isImported:!0===l.isImported||"true"===String(l.isImported),importSource:"string"==typeof l.importSource?l.importSource:void 0}},P=({treeId:m,nodeId:P,value:V,onChange:g,readOnly:k})=>{var S,L,A,R,B,j,O,M,U,I,z,F,$,_,W,G,H,J,Q,q,Y,K,X,Z,ee,ae,ne,re,le,se,ie,te,oe;const{api:ce}=n(),[me,de]=a.useState({type:"matrix",columns:[],rows:[]}),pe=a.useRef(null),[ue,be]=a.useState(void 0),[he,ve]=a.useState(void 0),[fe,Ne]=a.useState(void 0),[De,Ce]=a.useState([]),[xe,ye]=a.useState(null),[Ee,we]=a.useState(m&&m.length?m:null),[Te,Pe]=a.useState([]),[Ve,ge]=a.useState(!1),[ke,Se]=a.useState(!1),[Le,Ae]=a.useState(!1),Re=r(async e=>{if(xe&&!xe.startsWith("temp_"))try{const a={type:e.type,columns:e.columns,rows:e.rows||[],data:e.data||[],meta:e.meta||{}};await ce.put(`/api/treebranchleaf/nodes/${P}/tables/${xe}`,a)}catch(a){t.error("Erreur lors de la sauvegarde du tableau")}},1e3),Be=a.useCallback((e,a)=>e?e.map(e=>{const n=[...e];for(;n.length<a;)n.push(null);return n.slice(0,a)}):Array.from({length:1},()=>Array.from({length:a},()=>null)),[]);a.useEffect(()=>{if(m&&m.length)return void we(m);let e=!1;return(async()=>{try{const a=await ce.get(`/api/treebranchleaf/nodes/${P}`);if(e)return;(null==a?void 0:a.treeId)&&we(a.treeId)}catch(a){}})(),()=>{e=!0}},[ce,P,m]),a.useEffect(()=>{if(!Ee)return;let e=!1;return ge(!0),(async()=>{try{const a=await ce.get(`/api/treebranchleaf/trees/${Ee}/nodes`);if(e)return;const n=[{value:"lead.firstName",label:"Lead - PrÃ©nom",type:"lead_field",path:null},{value:"lead.lastName",label:"Lead - Nom",type:"lead_field",path:null},{value:"lead.fullName",label:"Lead - Nom complet",type:"lead_field",path:null},{value:"lead.email",label:"Lead - Email",type:"lead_field",path:null},{value:"lead.phone",label:"Lead - TÃ©lÃ©phone",type:"lead_field",path:null},{value:"lead.street",label:"Lead - Rue",type:"lead_field",path:null},{value:"lead.streetNumber",label:"Lead - NumÃ©ro",type:"lead_field",path:null},{value:"lead.postalCode",label:"Lead - Code postal",type:"lead_field",path:null},{value:"lead.city",label:"Lead - LocalitÃ©",type:"lead_field",path:null},{value:"lead.fullAddress",label:"Lead - Adresse complÃ¨te",type:"lead_field",path:null},{value:"lead.company",label:"Lead - Entreprise",type:"lead_field",path:null}],r=(Array.isArray(a)?a:[]).filter(e=>{const a=e.id;if(!a||a===P)return!1;return(e.type||"").startsWith("leaf_")}).map(e=>({value:String(e.id),label:e.label||String(e.id),type:e.fieldType||e.subType||e.type||null,path:e.path?String(e.path):null})).sort((e,a)=>e.label.localeCompare(a.label,"fr")),l=[...n,...r];Pe(l)}catch(a){}finally{e||ge(!1)}})(),()=>{e=!0}},[ce,Ee,P]),a.useEffect(()=>{let e=!1;return(async()=>{try{const a=await ce.get(`/api/treebranchleaf/nodes/${P}/tables`),n=Array.isArray(a)?a.map(e=>w(e)):[];if(e)return;if(Ce(n),!n.length)return void ye(null);!!xe&&n.some(e=>e.id===xe)||ye(n[0].id)}catch(a){e||t.error("Impossible de charger les instances de tableaux")}})(),()=>{e=!0}},[ce,P]),a.useEffect(()=>{var e;if(!xe)return de({type:"columns",columns:[]}),void Ae(!1);const a=De.find(e=>e.id===xe),n=(null==(e=null==a?void 0:a.rows)?void 0:e.length)||0;n>1e4?(Ae(!0),setTimeout(()=>{de({type:(null==a?void 0:a.type)||"columns",columns:(null==a?void 0:a.columns)||[],rows:[],data:[],meta:{...null==a?void 0:a.meta,isTooBig:!0,fullRowCount:n}}),Ae(!1)},500)):n>1e3?(Ae(!0),setTimeout(()=>{de(T(a)),Ae(!1)},500)):(de(T(a)),Ae(!1))},[xe,De]);const je=a.useCallback((e,a,n)=>{const r=()=>Array.from({length:n},()=>null);if(!e)return Array.from({length:a},()=>r());const l=[...e].slice(0,a);for(;l.length<a;)l.push(r());return l.map(e=>Be([e],n)[0])},[Be]),Oe=a.useMemo(()=>(me.columns||[]).map(e=>({value:e,label:e})),[me]),Me=a.useMemo(()=>(me.rows||[]).map(e=>{const a=Array.isArray(e)?String(e[0]):String(e);return{value:a,label:a}}),[me]),Ue=a.useMemo(()=>Te.map(e=>({value:e.value,label:e.label,description:e.path||e.type||""})),[Te]),Ie=a.useMemo(()=>{var e,a,n;const r=(null==(e=me.meta)?void 0:e.lookup)??{},l=Array.isArray(null==r?void 0:r.exposeColumns)?r.exposeColumns.map((e,a)=>({id:(null==e?void 0:e.id)||`expose_${a}`,column:(null==e?void 0:e.column)||"",label:null==e?void 0:e.label,targetFieldId:(null==e?void 0:e.targetFieldId)??null})):[];return{...r,extractFrom:r.extractFrom||"column",displayColumn:Array.isArray(r.displayColumn)||"string"==typeof r.displayColumn?r.displayColumn:void 0,displayRow:Array.isArray(r.displayRow)||"string"==typeof r.displayRow?r.displayRow:void 0,exposeColumns:l,columnLookupEnabled:r.columnLookupEnabled??!!(null==(a=r.selectors)?void 0:a.columnFieldId),rowLookupEnabled:r.rowLookupEnabled??!!(null==(n=r.selectors)?void 0:n.rowFieldId)}},[me.meta]),ze=a.useCallback(e=>{de(a=>{var n;const r=(null==(n=a.meta)?void 0:n.lookup)??{},l=e({...r}),s={...a.meta||{},lookup:l},i={...a,meta:s};return Re(i),i})},[de,Re]),Fe=a.useCallback(()=>{var e;const a=[...me.columns||[],`Colonne ${((null==(e=me.columns)?void 0:e.length)||0)+1}`],n={...me,columns:a,data:Be(me.data,a.length)};de(n),Re(n)},[me,Re,Be]),$e=a.useCallback(e=>{const a=(me.columns||[]).filter((a,n)=>n!==e);let n=me.data;Array.isArray(me.data)&&(n=me.data.map(a=>a.filter((a,n)=>n!==e)));const r={...me,columns:a,data:n};de(r),Re(r)},[me,Re]),_e=a.useCallback((e,a)=>{const n=[...me.columns||[]];n[e]=a;const r={...me,columns:n};de(r),Re(r)},[me,Re]),We=a.useCallback(()=>{var e;const a=[...me.rows||[],`Ligne ${((null==(e=me.rows)?void 0:e.length)||0)+1}`],n=(me.columns||[]).length,r=je(me.data,a.length,n),l={...me,rows:a,data:r};de(l),Re(l)},[me,Re,je]),Ge=a.useCallback(e=>{const a=(me.rows||[]).filter((a,n)=>n!==e);let n=me.data;Array.isArray(me.data)&&(n=me.data.filter((a,n)=>n!==e));const r={...me,rows:a,data:n};de(r),Re(r)},[me,Re]),He=a.useCallback((e,a)=>{const n=[...me.rows||[]];n[e]=a;const r={...me,rows:n};de(r),Re(r)},[me,Re]),Je=a.useCallback((e,a,n)=>{const r=(me.columns||[]).length,l=(me.rows||[]).length;let s=je(me.data,l,r)||[];const i=(e=>{const a=e.trim();if(""===a)return null;if(/^[-+]?\d{1,3}(?:[.,]\d+)?$/.test(a)){const e=Number(a.replace(",","."));if(Number.isFinite(e))return e}return a})(n),t=[...s[e]];t[a]=i,s=[...s],s[e]=t;const o={...me,data:s};de(o),Re(o)},[me,Re,je]),Qe=a.useCallback(async()=>{if(ue&&he&&xe)try{const e=await ce.get(`/api/treebranchleaf/nodes/${P}/tables/lookup`,{params:{tableId:xe,column:ue,row:he}});Ne((null==e?void 0:e.value)??null)}catch(e){Ne(void 0)}},[ce,P,ue,he,xe]),qe=a.useMemo(()=>{var a;return[{title:(null==(a=me.columns)?void 0:a[0])||"Ligne",dataIndex:"row",key:"row",fixed:"left",render:(a,n)=>{const r="number"==typeof(null==n?void 0:n.rowIndex)?n.rowIndex:0,l=Array.isArray((me.rows||[])[r])?String((me.rows||[])[r][0]):String((me.rows||[])[r]??"");return e.jsxDEV(o,{size:"small",value:l,onChange:e=>He(r,e.target.value),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:826,columnNumber:11},void 0)}},...(me.columns||[]).slice(1).map((a,n)=>({title:a,dataIndex:String(n),key:String(n),render:(a,r)=>{var l,s;const i="number"==typeof(null==r?void 0:r.rowIndex)?r.rowIndex:0,t=(null==(s=null==(l=me.data)?void 0:l[i])?void 0:s[n])??"";return e.jsxDEV(o,{size:"small",value:t,onChange:e=>Je(i,n,e.target.value),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:844,columnNumber:11},void 0)}}))]},[me,k,He,Je]),Ye=a.useCallback(async()=>{const e=`temp_${Date.now()}`,a=De,n=xe,r={id:e,name:`Tableau ${De.length+1}`,description:"",type:"columns",columns:[],rows:[],matrix:[],data:{matrix:[]},records:[],meta:{lookup:{enabled:!0,mode:"columns",exposeColumns:[]}},order:De.length};Ce(e=>[...e,r]),ye(e),de(T(r));try{const a={name:r.name,description:r.description,type:r.type,columns:r.columns,rows:r.rows,data:r.matrix??[],meta:r.meta||{}},n=await ce.post(`/api/treebranchleaf/nodes/${P}/tables`,a),l=w(n);Ce(a=>a.map(a=>a.id===e?l:a)),ye(l.id),de(T(l)),t.success("Tableau crÃƒÂ©ÃƒÂ©")}catch(l){if(t.error("Impossible de crÃƒÂ©er le tableau"),Ce(a=>a.filter(a=>a.id!==e)),a.length){const e=a.find(e=>e.id===n)??a[0];ye(e?e.id:null),de(T(e))}else ye(null),de({type:"columns",columns:[]})}},[ce,P,De,xe]),Ke=a.useCallback(async()=>{if(!xe)return;if(window.confirm(De.length>1?"Supprimer dÃ©finitivement cette instance de tableau ?":"Supprimer dÃ©finitivement ce tableau ? Cette action est irrÃ©versible."))try{xe.startsWith("temp_")||await ce.delete(`/api/treebranchleaf/nodes/${P}/tables/${xe}`);const e=De.filter(e=>e.id!==xe);Ce(e);const a=e[0]||null;ye(a?a.id:null),de(a?T(a):{type:"matrix",columns:["Colonne 1"],rows:["Ligne 1"],data:[[null]]}),t.success(De.length>1?"Instance supprimÃ©e":"Tableau supprimÃ©")}catch(e){t.error("Impossible de supprimer l'instance")}},[xe,De,ce,P]),Xe=a.useCallback(()=>{var e;null==(e=pe.current)||e.click()},[]),Ze=a.useCallback(()=>{var e,a,n;if((null==(e=me.columns)?void 0:e.length)&&(null==(a=me.rows)?void 0:a.length))try{const e=[[...me.columns]];me.rows.forEach((a,n)=>{var r;if(Array.isArray(a))e.push(a.map(e=>null==e?"":e));else{const l=(null==(r=me.data)?void 0:r[n])||[];e.push([a,...l])}});const a=l.aoa_to_sheet(e),r=l.book_new();l.book_append_sheet(r,a,"Tableau");const i=((null==(n=me.meta)?void 0:n.name)||`tableau_${Date.now()}`).replace(/[^a-z0-9_-]/gi,"_");s(r,`${i}.xlsx`),t.success("âœ… Fichier Excel tÃ©lÃ©chargÃ© !")}catch(r){t.error("Impossible de tÃ©lÃ©charger le fichier")}else t.warning("Le tableau est vide, rien Ã  tÃ©lÃ©charger")},[me]),ea=a.useCallback(async e=>{var a,n,r,s,o,c;const m=null==(a=e.target.files)?void 0:a[0];if(m){try{const e=await m.arrayBuffer(),a=i(e,{type:"array"}),p=a.SheetNames[0],u=a.Sheets[p],b=l.sheet_to_json(u,{header:1});if(0===b.length)return void t.warning("Le fichier est vide");const h="matrix";let v,f=[],N=[];"matrix"===h&&(f=b[0].map((e,a)=>null==e?`Colonne ${a+1}`:String(e)),v=b.map(e=>e.map(e=>null==e?"":e)),N=b.slice(1).map(e=>e.slice(1)));const D={type:h,columns:f,rows:v,data:N,meta:{...me.meta,isImported:!0,importSource:m.name,lookup:{...null==(n=me.meta)?void 0:n.lookup,enabled:!0,columnLookupEnabled:!1,rowLookupEnabled:!1,extractFrom:"row",keyRow:(null==v?void 0:v[0])||null,selectors:(null==(s=null==(r=me.meta)?void 0:r.lookup)?void 0:s.selectors)||{},exposeColumns:(null==(c=null==(o=me.meta)?void 0:o.lookup)?void 0:c.exposeColumns)||[]}}};if(de(D),!xe||xe.startsWith("temp_")){Se(!0);try{const e={name:`Import ${m.name}`,description:`ImportÃ© depuis ${m.name}`,type:D.type,columns:D.columns,rows:D.rows||[],data:D.data||[],meta:D.meta||{}},a=await ce.post(`/api/treebranchleaf/nodes/${P}/tables`,e),n=w(a);Ce(e=>{const a=e.filter(e=>e.id!==xe);return a.push(n),a.sort((e,a)=>e.order-a.order)}),ye(n.id),t.success("Tableau importÃ© et sÃ©lectionnÃ© avec succÃ¨s !")}catch(d){t.error("Erreur lors de la crÃ©ation du tableau importÃ©")}finally{Se(!1)}}else Re(D),t.success(`Fichier importÃƒÂ©: ${b.length-1} lignes, ${D.columns.length} colonnes`)}catch(d){t.error("Erreur lors de l'import du fichier")}pe.current&&(pe.current.value="")}},[me,Re,xe,ce,P]);return e.jsxDEV(c,{size:"small",variant:"outlined",children:[e.jsxDEV(y,{level:5,children:"Ã°Å¸Â§Â© Tableau"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1182,columnNumber:7},void 0),e.jsxDEV("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,flexWrap:"wrap"},children:[e.jsxDEV(E,{type:"secondary",children:"Instance:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1185,columnNumber:9},void 0),e.jsxDEV(d,{size:"small",style:{minWidth:220},value:xe||void 0,options:De.map(e=>({value:e.id,label:e.name||"Sans nom"})),onChange:e=>{ye(e);const a=De.find(a=>a.id===e);a&&de(T(a))},placeholder:"SÃƒÂ©lectionner une instance"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1186,columnNumber:9},void 0),e.jsxDEV(p,{size:"small",icon:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1200,columnNumber:36},void 0),onClick:Ye,disabled:k,children:"Ajouter"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1200,columnNumber:9},void 0),e.jsxDEV(p,{size:"small",icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1203,columnNumber:36},void 0),onClick:Ke,disabled:k,danger:!0,children:["Supprimer",De.length>1?" cette instance":" le tableau"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1203,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1184,columnNumber:7},void 0),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8,flexWrap:"wrap"},children:[e.jsxDEV(E,{strong:!0,children:"Nom:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1210,columnNumber:9},void 0),e.jsxDEV(o,{size:"small",style:{width:260},value:(null==(S=De.find(e=>e.id===xe))?void 0:S.name)||"",placeholder:"Nom de l'instance",onChange:async e=>{const a=e.target.value;if(Ce(e=>e.map(e=>e.id===xe?{...e,name:a}:e)),xe&&!xe.startsWith("temp_"))try{await ce.put(`/api/treebranchleaf/nodes/${P}/tables/${xe}`,{name:a})}catch(n){}},disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1211,columnNumber:9},void 0),e.jsxDEV("div",{style:{marginLeft:"auto"},children:e.jsxDEV(E,{type:"secondary",children:["RÃƒÂ©sumÃƒÂ©: ",(null==(L=me.rows)?void 0:L.length)||0," lignes Ãƒâ€” ",me.columns.length," colonnes"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1232,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1231,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1209,columnNumber:7},void 0),e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},size:"small",children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsxDEV(E,{strong:!0,children:"LibellÃƒÂ© du tableau:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1240,columnNumber:11},void 0),e.jsxDEV(o,{style:{maxWidth:360},placeholder:"Nom du tableau",value:"string"==typeof(null==(A=me.meta)?void 0:A.name)?me.meta.name:"",disabled:k,onChange:e=>{const a=e.target.value,n={...me,meta:{...me.meta||{},name:a}};de(n),Re(n)}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1241,columnNumber:11},void 0),e.jsxDEV(v,{title:"Ce libellÃƒÂ© sert de nom humainement lisible au tableau. Il est enregistrÃƒÂ© dans Prisma (tableConfig.meta.name).",children:e.jsxDEV(f,{style:{color:"#999"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1254,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1253,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1239,columnNumber:9},void 0),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsxDEV(p,{onClick:Xe,disabled:k||ke,loading:ke,children:ke?"Import en cours...":"Importer Excel/CSV (fichier)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1258,columnNumber:11},void 0),e.jsxDEV(p,{icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1262,columnNumber:19},void 0),onClick:Ze,disabled:k||!(null==(R=me.columns)?void 0:R.length)||!(null==(B=me.rows)?void 0:B.length)||ke,children:"TÃ©lÃ©charger Excel"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1261,columnNumber:11},void 0),ke&&e.jsxDEV(E,{type:"secondary",children:["â³ Import de ",(null==(j=me.rows)?void 0:j.length)||0," lignes en cours, veuillez patienter..."]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1268,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1257,columnNumber:9},void 0),e.jsxDEV("input",{ref:pe,type:"file",accept:".xlsx,.xls,.csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,text/csv",style:{display:"none"},onChange:ea},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1270,columnNumber:7},void 0),Le&&e.jsxDEV("div",{style:{padding:"20px",textAlign:"center"},children:e.jsxDEV(E,{type:"secondary",children:["â³ Chargement du tableau (",(null==(O=me.rows)?void 0:O.length)||0," lignes)..."]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1281,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1280,columnNumber:11},void 0),!Le&&(null==(M=me.meta)?void 0:M.isTooBig)&&e.jsxDEV("div",{style:{padding:"20px",textAlign:"center",background:"#fff7e6",border:"1px solid #ffd591",borderRadius:"4px",marginBottom:"16px"},children:[e.jsxDEV(E,{strong:!0,style:{color:"#d46b08"},children:["âš ï¸ Tableau trÃ¨s volumineux (",me.meta.fullRowCount," lignes)"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1288,columnNumber:13},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1289,columnNumber:13},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:"12px"},children:"Pour des raisons de performance, seules les colonnes sont affichÃ©es. Les donnÃ©es sont bien enregistrÃ©es et utilisables dans les lookups."},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1290,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1287,columnNumber:11},void 0),!Le&&(null==(U=me.meta)?void 0:U.isTooBig)&&e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},size:"small",children:[e.jsxDEV("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:e.jsxDEV("div",{style:{minWidth:260,flex:1},children:[e.jsxDEV(E,{strong:!0,children:["Colonnes (",(null==(I=me.columns)?void 0:I.length)||0,")"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1302,columnNumber:15},void 0),e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},children:[(me.columns||[]).slice(0,20).map((a,n)=>e.jsxDEV("div",{style:{display:"flex",gap:8},children:e.jsxDEV(o,{size:"small",value:a,placeholder:`Colonne ${n+1}`,disabled:!0},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1306,columnNumber:21},void 0)},n,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1305,columnNumber:19},void 0)),((null==(z=me.columns)?void 0:z.length)||0)>20&&e.jsxDEV(E,{type:"secondary",style:{fontSize:11},children:["... et ",((null==(F=me.columns)?void 0:F.length)||0)-20," autres colonnes"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1314,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1303,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1301,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1300,columnNumber:11},void 0),e.jsxDEV(E,{type:"secondary",children:["0 lignes affichÃ©es Ã— ",(null==($=me.columns)?void 0:$.length)||0," colonnes â€¢ âš ï¸ ",me.meta.fullRowCount," lignes totales (en base de donnÃ©es)"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1318,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1299,columnNumber:9},void 0),!Le&&!(null==(_=me.meta)?void 0:_.isTooBig)&&e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},size:"small",children:[e.jsxDEV("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsxDEV("div",{style:{minWidth:260,flex:1},children:[e.jsxDEV(E,{strong:!0,children:["Colonnes (",(null==(W=me.columns)?void 0:W.length)||0,")"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1327,columnNumber:15},void 0),e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},children:[(me.columns||[]).slice(0,20).map((a,n)=>e.jsxDEV("div",{style:{display:"flex",gap:8},children:[e.jsxDEV(o,{size:"small",value:a,placeholder:`Colonne ${n+1}`,onChange:e=>_e(n,e.target.value),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1331,columnNumber:21},void 0),e.jsxDEV(p,{icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1338,columnNumber:33},void 0),danger:!0,size:"small",onClick:()=>$e(n),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1338,columnNumber:19},void 0)]},n,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1330,columnNumber:19},void 0)),((null==(G=me.columns)?void 0:G.length)||0)>20&&e.jsxDEV(E,{type:"secondary",style:{fontSize:11},children:["... et ",((null==(H=me.columns)?void 0:H.length)||0)-20," autres colonnes"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1341,columnNumber:51},void 0),e.jsxDEV(p,{icon:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1342,columnNumber:29},void 0),onClick:Fe,size:"small",disabled:k,children:"Ajouter une colonne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1342,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1328,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1326,columnNumber:13},void 0),e.jsxDEV("div",{style:{minWidth:260,flex:1},children:[e.jsxDEV(E,{strong:!0,children:["Lignes (",(null==(J=me.rows)?void 0:J.length)||0,")"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1346,columnNumber:15},void 0),e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},children:[(me.rows||[]).slice(0,20).map((a,n)=>e.jsxDEV("div",{style:{display:"flex",gap:8},children:[e.jsxDEV(o,{size:"small",value:Array.isArray(a)?String(a[0]):String(a),placeholder:`Ligne ${n+1}`,onChange:e=>He(n,e.target.value),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1351,columnNumber:21},void 0),e.jsxDEV(p,{icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1352,columnNumber:35},void 0),danger:!0,size:"small",onClick:()=>Ge(n),disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1352,columnNumber:21},void 0)]},n,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1350,columnNumber:19},void 0)),((null==(Q=me.rows)?void 0:Q.length)||0)>20&&e.jsxDEV(E,{type:"secondary",style:{fontSize:11},children:["... et ",((null==(q=me.rows)?void 0:q.length)||0)-20," autres lignes"]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1355,columnNumber:50},void 0),e.jsxDEV(p,{icon:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1356,columnNumber:31},void 0),onClick:We,size:"small",disabled:k,children:"Ajouter une ligne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1356,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1347,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1325,columnNumber:11},void 0),e.jsxDEV(E,{type:"secondary",children:[(null==(Y=me.rows)?void 0:Y.length)||0," lignes Ã— ",(null==(K=me.columns)?void 0:K.length)||0," colonnes",(null==(X=me.meta)?void 0:X.isImported)?` â€¢ ðŸ“¥ ImportÃ© depuis ${me.meta.importSource||"Excel"}`:""]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1360,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1324,columnNumber:9},void 0),e.jsxDEV(D,{style:{margin:"8px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1365,columnNumber:13},void 0),e.jsxDEV(h,{direction:"vertical",style:{width:"100%"},size:"small",children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[e.jsxDEV(E,{strong:!0,children:"Lookup & liaisons"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1368,columnNumber:17},void 0),e.jsxDEV(v,{title:"Transforme ce tableau en source de donnees pour un champ SELECT. Extrayez les valeurs depuis une colonne ou une ligne.",children:e.jsxDEV(f,{style:{color:"#999"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1370,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1369,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1367,columnNumber:15},void 0),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxDEV("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #91d5ff",borderRadius:"6px"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsxDEV(E,{strong:!0,style:{fontSize:13},children:"ðŸ“Š Lookup COLONNE"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1378,columnNumber:21},void 0),e.jsxDEV(C,{size:"small",checked:!0===Ie.columnLookupEnabled,onChange:async e=>{var a;if(e)e?(ze(e=>({...e,columnLookupEnabled:!0})),t.info("Selectionnez un champ colonne ci-dessous")):ze(e=>({...e,columnLookupEnabled:!1}));else{const e=[];(null==(a=Ie.selectors)?void 0:a.columnFieldId)&&e.push(Ie.selectors.columnFieldId);(Te||[]).filter(a=>{var n,r,l,s,i;return!0===(null==(r=null==(n=a.capabilities)?void 0:n.table)?void 0:r.enabled)&&(null==(s=null==(l=a.capabilities)?void 0:l.table)?void 0:s.activeId)===xe&&a.id!==(null==(i=Ie.selectors)?void 0:i.rowFieldId)&&!e.includes(a.id)}).forEach(a=>{e.push(a.id)});for(const a of e)try{await ce.put(`/api/treebranchleaf/nodes/${a}/capabilities/table`,{enabled:!1}),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:a,treeId:m}}))}catch(n){}ze(e=>({...e,columnLookupEnabled:!1,selectors:{...e.selectors||{},columnFieldId:null},keyColumn:void 0,valueColumn:void 0,displayColumn:void 0})),t.success(`Lookup COLONNE desactive (${e.length} champ(s))`)}},disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1379,columnNumber:21},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11},children:"Extraire valeurs d'une colonne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1441,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1377,columnNumber:19},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,marginTop:4},children:"Un champ SELECT sera cree avec les valeurs d'une colonne du tableau"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1445,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1376,columnNumber:17},void 0),e.jsxDEV("div",{style:{padding:"12px",background:"#fff7e6",border:"1px solid #ffd591",borderRadius:"6px"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsxDEV(E,{strong:!0,style:{fontSize:13},children:"ðŸ“ Lookup LIGNE"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1453,columnNumber:21},void 0),e.jsxDEV(C,{size:"small",checked:!0===Ie.rowLookupEnabled,onChange:async e=>{var a,n;if(e)e?(ze(e=>({...e,rowLookupEnabled:!0})),t.info("Selectionnez un champ ligne ci-dessous")):ze(e=>({...e,rowLookupEnabled:!1}));else{const e=[];(null==(a=Ie.selectors)?void 0:a.rowFieldId)&&e.push(null==(n=Ie.selectors)?void 0:n.rowFieldId);const l=Te||[];l.filter(e=>{var a,n;return!0===(null==(n=null==(a=e.capabilities)?void 0:a.table)?void 0:n.enabled)});l.filter(a=>{var n,r,l,s,i;return!0===(null==(r=null==(n=a.capabilities)?void 0:n.table)?void 0:r.enabled)&&(null==(s=null==(l=a.capabilities)?void 0:l.table)?void 0:s.activeId)===xe&&a.id!==(null==(i=Ie.selectors)?void 0:i.columnFieldId)&&!e.includes(a.id)}).forEach(a=>{e.push(a.id)});for(const a of e)try{await ce.put(`/api/treebranchleaf/nodes/${a}/capabilities/table`,{enabled:!1}),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:a,treeId:m}}))}catch(r){}ze(e=>({...e,rowLookupEnabled:!1,selectors:{...e.selectors||{},rowFieldId:null},keyRow:void 0,valueRow:void 0,displayRow:void 0})),t.success(`Lookup LIGNE desactive (${e.length} champ(s))`)}},disabled:k},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1454,columnNumber:21},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11},children:"Extraire valeurs d'une ligne"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1527,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1452,columnNumber:19},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,marginTop:4},children:"Un champ SELECT sera cree avec les valeurs d'une ligne du tableau"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1531,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1451,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1374,columnNumber:15},void 0),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[Ie.columnLookupEnabled&&e.jsxDEV("div",{style:{minWidth:280},children:[e.jsxDEV(E,{type:"secondary",strong:!0,children:"Champ colonne a transformer en liste"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1541,columnNumber:19},void 0),e.jsxDEV(d,{size:"small",showSearch:!0,placeholder:Ve?"Chargement...":"Selectionner un champ",value:(null==(Z=Ie.selectors)?void 0:Z.columnFieldId)||void 0,options:Ue,onChange:e=>{var a;if(ze(a=>({...a,selectors:{...a.selectors||{},columnFieldId:e||null}})),e&&xe)(async()=>{try{const a={...Ie,enabled:!0,columnLookupEnabled:!0,rowLookupEnabled:Ie.rowLookupEnabled??!1,selectors:{...Ie.selectors,columnFieldId:e}},n={...me,meta:{...me.meta,lookup:a}};de(n),await Re(n);const r={enabled:!0,activeId:xe,currentTable:{type:"columns",tableId:xe,mode:"columns",columnBased:!0,rowBased:!1,keyColumn:Ie.keyColumn||null,valueColumn:Ie.valueColumn||null,displayColumn:Ie.displayColumn||null}};await ce.put(`/api/treebranchleaf/nodes/${e}/capabilities/table`,r),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:e,treeId:m}})),t.success("Champ transforme en liste !")}catch(a){t.error("Erreur activation de la capacite Table")}})();else if(!e&&(null==(a=Ie.selectors)?void 0:a.columnFieldId)){Ie.selectors.columnFieldId;(async()=>{})()}},disabled:k||Ve,allowClear:!0,optionFilterProp:"label",loading:Ve},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1542,columnNumber:19},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,display:"block",marginTop:4},children:"Ce champ deviendra une liste deroulante"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1636,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1540,columnNumber:17},void 0),(null==(ee=Ie.selectors)?void 0:ee.columnFieldId)&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(D,{style:{margin:"12px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1645,columnNumber:21},void 0),e.jsxDEV("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae7ff",borderRadius:"6px"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[e.jsxDEV("span",{style:{fontSize:18},children:"ðŸ“Š"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1648,columnNumber:25},void 0),e.jsxDEV(E,{strong:!0,style:{fontSize:14},children:"Configuration Lookup COLONNE"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1649,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1647,columnNumber:23},void 0),e.jsxDEV("div",{style:{marginBottom:12},children:[e.jsxDEV(E,{type:"secondary",strong:!0,style:{fontSize:12},children:"Quelle colonne extraire ?"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1654,columnNumber:25},void 0),e.jsxDEV(d,{size:"small",placeholder:"Selectionner une colonne...",value:Ie.keyColumn,options:Oe,allowClear:!0,onChange:e=>{var a;ze(a=>({...a,keyColumn:e||void 0})),(null==(a=Ie.selectors)?void 0:a.columnFieldId)&&xe&&(async()=>{try{await ce.put(`/api/treebranchleaf/nodes/${Ie.selectors.columnFieldId}/capabilities/table`,{enabled:!0,activeId:xe,currentTable:{type:me.type,tableId:xe,keyColumn:e||null,valueColumn:Ie.valueColumn||null,displayColumn:Ie.displayColumn||null}}),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:Ie.selectors.columnFieldId,treeId:m}}))}catch(a){}})()},disabled:k,style:{width:"100%",marginTop:4}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1655,columnNumber:25},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,display:"block",marginTop:4},children:Ie.keyColumn?`Affichera: ${Ie.keyColumn}`:"Ex: Janvier"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1690,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1653,columnNumber:23},void 0),Ie.keyColumn&&e.jsxDEV("div",{style:{paddingLeft:12,borderLeft:"3px solid #1890ff"},children:[e.jsxDEV(E,{type:"secondary",strong:!0,style:{fontSize:12},children:"Colonne(s) a afficher"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1698,columnNumber:27},void 0),e.jsxDEV(d,{size:"small",mode:"multiple",placeholder:"Selectionner colonne(s)...",value:Array.isArray(Ie.displayColumn)?Ie.displayColumn:Ie.displayColumn?[Ie.displayColumn]:[],options:Oe,allowClear:!0,onChange:e=>{ze(a=>({...a,displayColumn:e}))},disabled:k,style:{width:"100%",marginTop:4}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1699,columnNumber:27},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:10,marginTop:2,display:"block"},children:"Ex: Janvier, Fevrier... (plusieurs possibles)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1713,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1697,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1646,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1644,columnNumber:19},void 0),Ie.rowLookupEnabled&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(D,{style:{margin:"12px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1725,columnNumber:17},void 0),e.jsxDEV("div",{style:{minWidth:280},children:[e.jsxDEV(E,{type:"secondary",strong:!0,children:"Champ ligne a transformer en liste"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1727,columnNumber:19},void 0),e.jsxDEV(d,{size:"small",showSearch:!0,placeholder:Ve?"Chargement...":"Selectionner un champ",value:null==(ae=Ie.selectors)?void 0:ae.rowFieldId,options:Ue,onChange:e=>{ze(a=>({...a,selectors:{...a.selectors||{},rowFieldId:e||null}})),e&&xe&&(async()=>{try{const a={...Ie,enabled:!0,columnLookupEnabled:Ie.columnLookupEnabled??!1,rowLookupEnabled:!0,selectors:{...Ie.selectors,rowFieldId:e}},n={...me,meta:{...me.meta,lookup:a}};de(n),await Re(n),await ce.put(`/api/treebranchleaf/nodes/${e}/capabilities/table`,{enabled:!0,activeId:xe,currentTable:{type:me.type,tableId:xe,rowBased:!0,columnBased:!1,keyRow:Ie.keyRow||null,valueRow:Ie.valueRow||null,displayRow:Ie.displayRow||null}}),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:e,treeId:m}})),t.success("Champ ligne active !")}catch(a){}})()},disabled:k||Ve,allowClear:!0,optionFilterProp:"label",loading:Ve},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1728,columnNumber:19},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,display:"block",marginTop:4},children:"Ce champ deviendra une liste deroulante (ligne)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1798,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1726,columnNumber:17},void 0),(null==(ne=Ie.selectors)?void 0:ne.rowFieldId)&&e.jsxDEV("div",{style:{padding:"12px",background:"#fff7e6",border:"1px solid #ffd591",borderRadius:"6px",marginTop:12},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[e.jsxDEV("span",{style:{fontSize:18},children:"ðŸ“ˆ"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1807,columnNumber:23},void 0),e.jsxDEV(E,{strong:!0,style:{fontSize:14},children:"Configuration Lookup LIGNE"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1808,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1806,columnNumber:21},void 0),e.jsxDEV("div",{style:{marginBottom:12},children:[e.jsxDEV(E,{type:"secondary",strong:!0,style:{fontSize:12},children:"Quelle ligne extraire ?"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1813,columnNumber:23},void 0),e.jsxDEV(d,{size:"small",placeholder:"Selectionner une ligne...",value:Ie.keyRow,options:Me,allowClear:!0,onChange:e=>{var a;ze(a=>({...a,keyRow:e||void 0})),(null==(a=Ie.selectors)?void 0:a.rowFieldId)&&xe&&(async()=>{try{await ce.put(`/api/treebranchleaf/nodes/${Ie.selectors.rowFieldId}/capabilities/table`,{enabled:!0,activeId:xe,currentTable:{type:me.type,tableId:xe,keyRow:e||null,valueRow:Ie.valueRow||null,displayRow:Ie.displayRow||null}}),window.dispatchEvent(new CustomEvent("tbl-capability-updated",{detail:{nodeId:Ie.selectors.rowFieldId,treeId:m}}))}catch(a){}})()},disabled:k,style:{width:"100%",marginTop:4}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1814,columnNumber:23},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:11,display:"block",marginTop:4},children:Ie.keyRow?`Affichera: ${Ie.keyRow}`:"Ex: Ventes"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1849,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1812,columnNumber:21},void 0),Ie.keyRow&&e.jsxDEV("div",{style:{paddingLeft:12,borderLeft:"3px solid #fa8c16"},children:[e.jsxDEV(E,{type:"secondary",strong:!0,style:{fontSize:12},children:"Ligne(s) a afficher"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1857,columnNumber:25},void 0),e.jsxDEV(d,{size:"small",mode:"multiple",placeholder:"Selectionner ligne(s)...",value:Array.isArray(Ie.displayRow)?Ie.displayRow:Ie.displayRow?[Ie.displayRow]:[],options:Me,allowClear:!0,onChange:e=>{ze(a=>({...a,displayRow:e}))},disabled:k,style:{width:"100%",marginTop:4}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1858,columnNumber:25},void 0),e.jsxDEV(E,{type:"secondary",style:{fontSize:10,marginTop:2,display:"block"},children:"Ex: Ventes, Couts... (plusieurs possibles)"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1872,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1856,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1805,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1724,columnNumber:17},void 0),(Ie.keyColumn||Ie.keyRow)&&e.jsxDEV("div",{style:{padding:"12px",background:"#f6ffed",border:"1px solid #b7eb8f",borderRadius:"4px",marginTop:12},children:[e.jsxDEV(E,{strong:!0,style:{color:"#52c41a"},children:"Resume"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1885,columnNumber:21},void 0),e.jsxDEV("div",{style:{marginTop:8,fontSize:12},children:[Ie.keyColumn&&e.jsxDEV("div",{children:['Colonne "',Ie.keyColumn,'" ',Ie.displayColumn&&`â†’ ${Ie.displayColumn}`]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1888,columnNumber:25},void 0),Ie.keyRow&&e.jsxDEV("div",{children:['Ligne "',Ie.keyRow,'" ',Ie.displayRow&&`â†’ ${Ie.displayRow}`]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1891,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1886,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1884,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1537,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1366,columnNumber:13},void 0),e.jsxDEV("div",{style:{maxHeight:320,overflow:"auto",border:"1px solid #f0f0f0",borderRadius:6},children:e.jsxDEV(x,{size:"small",sticky:!0,pagination:!1,scroll:{x:!0},columns:qe,dataSource:(me.rows||[]).slice(1).map((e,a)=>({key:String(a+1),rowIndex:a+1}))},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1900,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1899,columnNumber:7},void 0),e.jsxDEV(D,{style:{margin:"8px 0"}},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1910,columnNumber:13},void 0),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[e.jsxDEV(E,{strong:!0,children:"Tester lookup:"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1912,columnNumber:15},void 0),(null==(re=Ie.selectors)?void 0:re.columnFieldId)&&e.jsxDEV(d,{style:{minWidth:180},placeholder:"Colonne",value:ue,onChange:be,options:Oe},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1916,columnNumber:17},void 0),(null==(le=Ie.selectors)?void 0:le.rowFieldId)&&e.jsxDEV(d,{style:{minWidth:180},placeholder:"Ligne",value:he,onChange:ve,options:Me},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1927,columnNumber:17},void 0),!(null==(se=Ie.selectors)?void 0:se.columnFieldId)&&!(null==(ie=Ie.selectors)?void 0:ie.rowFieldId)&&e.jsxDEV(E,{type:"secondary",italic:!0,children:"Configurez d'abord un champ colonne ou ligne ci-dessus"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1938,columnNumber:17},void 0),((null==(te=Ie.selectors)?void 0:te.columnFieldId)||(null==(oe=Ie.selectors)?void 0:oe.rowFieldId))&&e.jsxDEV(p,{onClick:Qe,children:"Chercher"},void 0,!1,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1942,columnNumber:17},void 0),void 0!==fe&&e.jsxDEV(E,{children:["Valeur: ",String(fe)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1946,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1911,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1237,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dethi/OneDrive/Desktop/CRM SAVE/crm/src/components/TreeBranchLeaf/treebranchleaf-new/components/Parameters/capabilities/TablePanel.tsx",lineNumber:1181,columnNumber:5},void 0)};export{P as default};
