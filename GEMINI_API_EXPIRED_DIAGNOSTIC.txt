#!/usr/bin/env node
/**
 * ğŸš¨ DIAGNOSTIC: POURQUOI GEMINI NE FONCTIONNE PAS
 * 
 * PROBLÃˆME TROUVÃ‰: ClÃ© API Google Gemini expirÃ©e!
 */

console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸš¨ GEMINI API KEY EXPIRÃ‰E                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ERREUR DÃ‰TECTÃ‰E:
âŒ "API key expired. Please renew the API key."

CAUSE:
La clÃ© GOOGLE_AI_API_KEY dans .env a expirÃ© et n'est plus valide.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ SOLUTION (30 sec):

1ï¸âƒ£ Aller sur: https://aistudio.google.com/app/apikey
2ï¸âƒ£ CrÃ©er une nouvelle clÃ© API (si besoin)
3ï¸âƒ£ Copier la clÃ© (AIzaSy...)
4ï¸âƒ£ Mettre Ã  jour .env:
   
   GOOGLE_AI_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXX
   
5ï¸âƒ£ RedÃ©marrer le serveur:
   npm run dev

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… APRÃˆS LA FIX:

Le systÃ¨me fonctionnera 100% avec Gemini:

  Frontend (Appels)
    â””â”€ Message: "tu penses quoi du lead"
    â””â”€ /api/ai/chat
    â””â”€ GoogleGeminiService.chat()
    â””â”€ API Gemini rÃ©elle âœ…
    â””â”€ RÃ©ponse commerciale intelligente

Ce qui se passe MAINTENANT (avec clÃ© expirÃ©e):

  Route dÃ©tecte: API key expired
    â””â”€ Fallback: mode = "mock"
    â””â”€ Retourne buildMockResponse()
    â””â”€ RÃ©ponse gÃ©nÃ©rique (pas Gemini)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

RÃ‰SUMÃ‰:

âŒ ClÃ© API: ExpirÃ©e
âœ… Architecture: OK (100% en place)
âœ… Code: OK (appelle bien Gemini)
âœ… Fallback: Actif (mock mode)

Action requise: Renouveler la clÃ© API Google

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`);
